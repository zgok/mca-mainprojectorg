"use strict";(self.webpackChunkPBOOKS=self.webpackChunkPBOOKS||[]).push([[179],{2011:(ut,Ae,R)=>{R.d(Ae,{Dh:()=>pe,GT:()=>fe,cc:()=>xe,hO:()=>Ue,on:()=>j,pX:()=>se,xv:()=>me});var i=R(4650),ee=R(127),k=R(5813);ut=R.hmd(ut);const ce=["ngOnDestroy"],se=(ge,Je,ot,Se={})=>new Proxy(ge,{get:(be,Te)=>ot.runOutsideAngular(()=>{var Be;if(ge[Te])return!(null===(Be=Se?.spy)||void 0===Be)&&Be.get&&Se.spy.get(Te,ge[Te]),ge[Te];if(ce.indexOf(Te)>-1)return()=>{};const je=Je.toPromise().then(Z=>{const _e=Z&&Z[Te];return"function"==typeof _e?_e.bind(Z):_e&&_e.then?_e.then(Y=>ot.run(()=>Y)):ot.run(()=>_e)});return new Proxy(()=>{},{get:(Z,_e)=>je[_e],apply:(Z,_e,Y)=>je.then(X=>{var oe;const ne=X&&X(...Y);return!(null===(oe=Se?.spy)||void 0===oe)&&oe.apply&&Se.spy.apply(Te,Y,ne),ne})})})}),fe=(ge,Je)=>{Je.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Se=>{Object.defineProperty(ge.prototype,Se,Object.getOwnPropertyDescriptor(ot.prototype||ot,Se))})})};class ue{constructor(Je){return Je}}const pe=new i.OlP("angularfire2.app.options"),me=new i.OlP("angularfire2.app.name");function j(ge,Je,ot){const be="object"==typeof ot&&ot||{};be.name=be.name||"string"==typeof ot&&ot||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===be.name)[0]||Je.runOutsideAngular(()=>ee.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(Be.options)&&$("error",`${Be.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Be)}const $=(ge,...Je)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ge](...Je)},Q={provide:ue,useFactory:j,deps:[pe,i.R0b,[new i.FiY,me]]};let Ue=(()=>{class ge{constructor(ot){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",i.q4F.full,ot.toString())}static initializeApp(ot,Se){return{ngModule:ge,providers:[{provide:pe,useValue:ot},{provide:me,useValue:Se}]}}}return ge.\u0275fac=function(ot){return new(ot||ge)(i.LFG(i.Lbi))},ge.\u0275mod=i.oAB({type:ge}),ge.\u0275inj=i.cJS({providers:[Q]}),ge})();function xe(ge,Je,ot,Se,be){const[,Te,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ge)||[];if(Te)return function we(ge,Je){try{return ge.toString()===Je.toString()}catch{return ge===Je}}(be,Be)||(ye("error",`${Je} was already initialized on the ${ot} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:be,was:Be})),Te;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([ge,je,be]),je}}const rt=!!ut.hot,ye=(ge,...Je)=>{(0,i.X6Q)()&&typeof console<"u"&&console[ge](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Ae,R)=>{R.d(Ae,{q4:()=>at,iC:()=>As,fc:()=>cr,HU:()=>ma,vb:()=>to,JM:()=>mc});var i=R(4650),ee=R(5867),k=R(5861),ce=R(9681),se=R(2090),fe=R(4859),ue=R(1877),pe=R(8766);const me="@firebase/installations",j="0.5.12",Q=`w:${j}`,Ue="FIS_v2",Je=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ot(T){return T instanceof se.ZR&&T.code.includes("request-failed")}function Se({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function be(T){return{token:T.token,requestStatus:2,expiresIn:X(T.expiresIn),creationTime:Date.now()}}function Te(T,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(T,I){const L=(yield I.json()).error;return Je.create("request-failed",{requestName:T,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Z(T,{refreshToken:I}){const M=je(T);return M.append("Authorization",function oe(T){return`${Ue} ${T}`}(I)),M}function _e(T){return Y.apply(this,arguments)}function Y(){return(Y=(0,k.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function X(T){return Number(T.replace("s","000"))}function ne(T,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,k.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:M}){const L=Se(T),J=je(T),ie=I.getImmediate({optional:!0});if(ie){const wt=yield ie.getHeartbeatsHeader();wt&&J.append("x-firebase-client",wt)}const Pe={method:"POST",headers:J,body:JSON.stringify({fid:M,authVersion:Ue,appId:T.appId,sdkVersion:Q})},st=yield _e(()=>fetch(L,Pe));if(st.ok){const wt=yield st.json();return{fid:wt.fid||M,registrationStatus:2,refreshToken:wt.refreshToken,authToken:be(wt.authToken)}}throw yield Te("Create Installation",st)})).apply(this,arguments)}function Re(T){return new Promise(I=>{setTimeout(I,T)})}const Kt=/^[cdef][\w-]{21}$/;function ze(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const M=function hn(T){return function pt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Kt.test(M)?M:""}catch{return""}}function Ln(T){return`${T.appName}!${T.appId}`}const en=new Map;function tn(T,I){const M=Ln(T);dn(M,I),function Ha(T,I){const M=function Mr(){return!Kr&&"BroadcastChannel"in self&&(Kr=new BroadcastChannel("[Firebase] FID Change"),Kr.onmessage=T=>{dn(T.data.key,T.data.fid)}),Kr}();M&&M.postMessage({key:T,fid:I}),function Yr(){0===en.size&&Kr&&(Kr.close(),Kr=null)}()}(M,I)}function dn(T,I){const M=en.get(T);if(M)for(const L of M)L(I)}let Kr=null;const Qr="firebase-installations-store";let Di=null;function Jo(){return Di||(Di=(0,pe.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Qr)}})),Di}function Ye(T,I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*(T,I){const M=Ln(T),J=(yield Jo()).transaction(Qr,"readwrite"),ie=J.objectStore(Qr),Ee=yield ie.get(M);return yield ie.put(I,M),yield J.done,(!Ee||Ee.fid!==I.fid)&&tn(T,I.fid),I})).apply(this,arguments)}function gs(T){return Un.apply(this,arguments)}function Un(){return(Un=(0,k.Z)(function*(T){const I=Ln(T),L=(yield Jo()).transaction(Qr,"readwrite");yield L.objectStore(Qr).delete(I),yield L.done})).apply(this,arguments)}function Si(T,I){return di.apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(T,I){const M=Ln(T),J=(yield Jo()).transaction(Qr,"readwrite"),ie=J.objectStore(Qr),Ee=yield ie.get(M),Pe=I(Ee);return void 0===Pe?yield ie.delete(M):yield ie.put(Pe,M),yield J.done,Pe&&(!Ee||Ee.fid!==Pe.fid)&&tn(T,Pe.fid),Pe})).apply(this,arguments)}function Vn(T){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(T){let I;const M=yield Si(T.appConfig,L=>{const J=yn(L),ie=mt(T,J);return I=ie.registrationPromise,ie.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function yn(T){return Dt(T||{fid:ze(),registrationStatus:0})}function mt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Je.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function lt(T,I){return fn.apply(this,arguments)}(T,M);return{installationEntry:M,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:pr(T)}:{installationEntry:I}}function fn(){return(fn=(0,k.Z)(function*(T,I){try{const M=yield ne(T,I);return Ye(T.appConfig,M)}catch(M){throw ot(M)&&409===M.customData.serverCode?yield gs(T.appConfig):yield Ye(T.appConfig,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function pr(T){return gr.apply(this,arguments)}function gr(){return(gr=(0,k.Z)(function*(T){let I=yield Br(T.appConfig);for(;1===I.registrationStatus;)yield Re(100),I=yield Br(T.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield Vn(T);return L||M}return I})).apply(this,arguments)}function Br(T){return Si(T,I=>{if(!I)throw Je.create("installation-not-found");return Dt(I)})}function Dt(T){return function ms(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function nn(T,I){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*({appConfig:T,heartbeatServiceProvider:I},M){const L=Qt(T,M),J=Z(T,M),ie=I.getImmediate({optional:!0});if(ie){const wt=yield ie.getHeartbeatsHeader();wt&&J.append("x-firebase-client",wt)}const Pe={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:T.appId}})},st=yield _e(()=>fetch(L,Pe));if(st.ok)return be(yield st.json());throw yield Te("Generate Auth Token",st)})).apply(this,arguments)}function Qt(T,{fid:I}){return`${Se(T)}/${I}/authTokens:generate`}function K(T){return q.apply(this,arguments)}function q(){return(q=(0,k.Z)(function*(T,I=!1){let M;const L=yield Si(T.appConfig,ie=>{if(!ct(ie))throw Je.create("not-registered");const Ee=ie.authToken;if(!I&&mn(Ee))return ie;if(1===Ee.requestStatus)return M=V(T,I),ie;{if(!navigator.onLine)throw Je.create("app-offline");const Pe=rr(ie);return M=Ie(T,Pe),Pe}});return M?yield M:L.authToken})).apply(this,arguments)}function V(T,I){return H.apply(this,arguments)}function H(){return(H=(0,k.Z)(function*(T,I){let M=yield z(T.appConfig);for(;1===M.authToken.requestStatus;)yield Re(100),M=yield z(T.appConfig);const L=M.authToken;return 0===L.requestStatus?K(T,I):L})).apply(this,arguments)}function z(T){return Si(T,I=>{if(!ct(I))throw Je.create("not-registered");return function qt(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ie(T,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(T,I){try{const M=yield nn(T,I),L=Object.assign(Object.assign({},I),{authToken:M});return yield Ye(T.appConfig,L),M}catch(M){if(!ot(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ye(T.appConfig,L)}else yield gs(T.appConfig);throw M}})).apply(this,arguments)}function ct(T){return void 0!==T&&2===T.registrationStatus}function mn(T){return 2===T.requestStatus&&!function rn(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function rr(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function En(){return(En=(0,k.Z)(function*(T){const I=T,{installationEntry:M,registrationPromise:L}=yield Vn(I);return L?L.catch(console.error):K(I).catch(console.error),M.fid})).apply(this,arguments)}function Ki(){return(Ki=(0,k.Z)(function*(T,I=!1){const M=T;return yield Zr(M),(yield K(M,I)).token})).apply(this,arguments)}function Zr(T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,k.Z)(function*(T){const{registrationPromise:I}=yield Vn(T);I&&(yield I)})).apply(this,arguments)}function Zs(T){return Je.create("missing-app-config-values",{valueName:T})}const po="installations",In=T=>{const I=T.getProvider("app").getImmediate(),M=function Tn(T){if(!T||!T.options)throw Zs("App Configuration");if(!T.name)throw Zs("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!T.options[M])throw Zs(M);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},go=T=>{const I=T.getProvider("app").getImmediate(),M=(0,ce._getProvider)(I,po).getImmediate();return{getId:()=>function Nt(T){return En.apply(this,arguments)}(M),getToken:J=>function Kn(T){return Ki.apply(this,arguments)}(M,J)}};(function Cl(){(0,ce._registerComponent)(new fe.wA(po,In,"PUBLIC")),(0,ce._registerComponent)(new fe.wA("installations-internal",go,"PRIVATE"))})(),(0,ce.registerVersion)(me,j),(0,ce.registerVersion)(me,j,"esm2017");const Yi="@firebase/remote-config",Jn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ea{constructor(I,M,L,J){this.client=I,this.storage=M,this.storageCache=L,this.logger=J}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,J=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var M=this;return(0,k.Z)(function*(){const[L,J]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(J&&M.isCachedDataFresh(I.cacheMaxAgeMillis,L))return J;I.eTag=J&&J.eTag;const ie=yield M.client.fetch(I),Ee=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ee.push(M.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ee),ie})()}}function Dl(T=navigator){return T.languages&&T.languages[0]||T.language}class Sl{constructor(I,M,L,J,ie,Ee){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=L,this.projectId=J,this.apiKey=ie,this.appId=Ee}fetch(I){var M=this;return(0,k.Z)(function*(){var L,J,ie;const[Ee,Pe]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ht={sdk_version:M.sdkVersion,app_instance_id:Ee,app_instance_id_token:Pe,app_id:M.appId,language_code:Dl()},An={method:"POST",headers:xt,body:JSON.stringify(ht)},Ar=fetch(wt,An),_a=new Promise((ya,Po)=>{I.signal.addEventListener(()=>{const Li=new Error("The operation was aborted.");Li.name="AbortError",Po(Li)})});let ts;try{yield Promise.race([Ar,_a]),ts=yield Ar}catch(ya){let Po="fetch-client-network";throw"AbortError"===(null===(L=ya)||void 0===L?void 0:L.name)&&(Po="fetch-timeout"),Jn.create(Po,{originalErrorMessage:null===(J=ya)||void 0===J?void 0:J.message})}let Mt=ts.status;const ns=ts.headers.get("ETag")||void 0;let ro,vi;if(200===ts.status){let ya;try{ya=yield ts.json()}catch(Po){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(ie=Po)||void 0===ie?void 0:ie.message})}ro=ya.entries,vi=ya.state}if("INSTANCE_STATE_UNSPECIFIED"===vi?Mt=500:"NO_CHANGE"===vi?Mt=304:("NO_TEMPLATE"===vi||"EMPTY_CONFIG"===vi)&&(ro={}),304!==Mt&&200!==Mt)throw Jn.create("fetch-status",{httpStatus:Mt});return{status:Mt,eTag:ns,config:ro}})()}}class Om{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,k.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:L}){var J=this;return(0,k.Z)(function*(){yield function sr(T,I){return new Promise((M,L)=>{const J=Math.max(I-Date.now(),0),ie=setTimeout(M,J);T.addEventListener(()=>{clearTimeout(ie),L(Jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const ie=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function nh(T){if(!(T instanceof se.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ie))throw ie;const Ee={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(Ee),J.attemptFetch(I,Ee)}})()}}class pi{constructor(I,M,L,J,ie){this.app=I,this._client=M,this._storageCache=L,this._storage=J,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xl(T,I){var M;const L=T.target.error||void 0;return Jn.create(I,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const Hs="app_namespace_store";class Nm{constructor(I,M,L,J=function Rm(){return new Promise((T,I)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{I(xl(J,"storage-open"))},L.onsuccess=J=>{T(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Hs,{keyPath:"compositeKey"})}}catch(L){I(Jn.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=I,this.appName=M,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((J,ie)=>{var Ee;const st=L.transaction([Hs],"readonly").objectStore(Hs),wt=M.createCompositeKey(I);try{const xt=st.get(wt);xt.onerror=ht=>{ie(xl(ht,"storage-get"))},xt.onsuccess=ht=>{const An=ht.target.result;J(An?An.value:void 0)}}catch(xt){ie(Jn.create("storage-get",{originalErrorMessage:null===(Ee=xt)||void 0===Ee?void 0:Ee.message}))}})})()}set(I,M){var L=this;return(0,k.Z)(function*(){const J=yield L.openDbPromise;return new Promise((ie,Ee)=>{var Pe;const wt=J.transaction([Hs],"readwrite").objectStore(Hs),xt=L.createCompositeKey(I);try{const ht=wt.put({compositeKey:xt,value:M});ht.onerror=An=>{Ee(xl(An,"storage-set"))},ht.onsuccess=()=>{ie()}}catch(ht){Ee(Jn.create("storage-set",{originalErrorMessage:null===(Pe=ht)||void 0===Pe?void 0:Pe.message}))}})})()}delete(I){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((J,ie)=>{var Ee;const st=L.transaction([Hs],"readwrite").objectStore(Hs),wt=M.createCompositeKey(I);try{const xt=st.delete(wt);xt.onerror=ht=>{ie(xl(ht,"storage-delete"))},xt.onsuccess=()=>{J()}}catch(xt){ie(Jn.create("storage-delete",{originalErrorMessage:null===(Ee=xt)||void 0===Ee?void 0:Ee.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ih{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,k.Z)(function*(){const M=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),ie=yield M;ie&&(I.lastFetchStatus=ie);const Ee=yield L;Ee&&(I.lastSuccessfulFetchTimestampMillis=Ee);const Pe=yield J;Pe&&(I.activeConfig=Pe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Qc(){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Gs(){(0,ce._registerComponent)(new fe.wA("remote-config",function T(I,{instanceIdentifier:M}){const L=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,se.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ee,appId:Pe}=L.options;if(!ie)throw Jn.create("registration-project-id");if(!Ee)throw Jn.create("registration-api-key");if(!Pe)throw Jn.create("registration-app-id");const st=new Nm(Pe,L.name,M=M||"firebase"),wt=new ih(st),xt=new ue.Yd(Yi);xt.logLevel=ue.in.ERROR;const ht=new Sl(J,ce.SDK_VERSION,M,ie,Ee,Pe),An=new Om(ht,st),Ar=new ea(An,st,wt,xt),_a=new pi(L,Ar,wt,st,xt);return function kt(T){const I=(0,se.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Yi,"0.3.11"),(0,ce.registerVersion)(Yi,"0.3.11","esm2017")}();const Qi="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wa="google.c.a.c_id",Jc="google.c.a.c_l",Ml="google.c.a.ts",Bf="google.c.a.e";var bs=(()=>{return(T=bs||(bs={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",bs;var T})();function gi(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xr(T){const M=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),J=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)J[ie]=L.charCodeAt(ie);return J}const ta="fcm_token_details_db",_r="fcm_token_object_Store";function Zf(T){return jf.apply(this,arguments)}function jf(){return jf=(0,k.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(ta))return null;let I=null;return(yield(0,pe.X3)(ta,5,{upgrade:(L=(0,k.Z)(function*(J,ie,Ee,Pe){var st;if(ie<2||!J.objectStoreNames.contains(_r))return;const wt=Pe.objectStore(_r),xt=yield wt.index("fcmSenderId").get(T);if(yield wt.clear(),xt)if(2===ie){const ht=xt;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;I={token:ht.fcmToken,createTime:null!==(st=ht.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:gi(ht.vapidKey)}}}else if(3===ie){const ht=xt;I={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:gi(ht.auth),p256dh:gi(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:gi(ht.vapidKey)}}}else if(4===ie){const ht=xt;I={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:gi(ht.auth),p256dh:gi(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:gi(ht.vapidKey)}}}}),function(ie,Ee,Pe,st){return L.apply(this,arguments)})})).close(),yield(0,pe.Lj)(ta),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),On(I)?I:null;var L}),jf.apply(this,arguments)}function On(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const mi="firebase-messaging-store";let qr=null;function eu(){return qr||(qr=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(mi)}})),qr}function na(T){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(T){const I=Oi(T),L=yield(yield eu()).transaction(mi).objectStore(mi).get(I);if(L)return L;{const J=yield Zf(T.appConfig.senderId);if(J)return yield zt(T,J),J}})).apply(this,arguments)}function zt(T,I){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,k.Z)(function*(T,I){const M=Oi(T),J=(yield eu()).transaction(mi,"readwrite");return yield J.objectStore(mi).put(I,M),yield J.done,I})).apply(this,arguments)}function vo(T){return tu.apply(this,arguments)}function tu(){return(tu=(0,k.Z)(function*(T){const I=Oi(T),L=(yield eu()).transaction(mi,"readwrite");yield L.objectStore(mi).delete(I),yield L.done})).apply(this,arguments)}function Oi({appConfig:T}){return T.appId}const Sn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function St(T,I){return ru.apply(this,arguments)}function ru(){return(ru=(0,k.Z)(function*(T,I){var M;const L=yield Pl(T),J=De(I),ie={method:"POST",headers:L,body:JSON.stringify(J)};let Ee;try{Ee=yield(yield fetch(Cs(T.appConfig),ie)).json()}catch(Pe){throw Sn.create("token-subscribe-failed",{errorInfo:null===(M=Pe)||void 0===M?void 0:M.toString()})}if(Ee.error)throw Sn.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw Sn.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function $f(T,I){return iu.apply(this,arguments)}function iu(){return(iu=(0,k.Z)(function*(T,I){var M;const L=yield Pl(T),J=De(I.subscriptionOptions),ie={method:"PATCH",headers:L,body:JSON.stringify(J)};let Ee;try{Ee=yield(yield fetch(`${Cs(T.appConfig)}/${I.token}`,ie)).json()}catch(Pe){throw Sn.create("token-update-failed",{errorInfo:null===(M=Pe)||void 0===M?void 0:M.toString()})}if(Ee.error)throw Sn.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw Sn.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function su(T,I){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,k.Z)(function*(T,I){var M;const J={method:"DELETE",headers:yield Pl(T)};try{const Ee=yield(yield fetch(`${Cs(T.appConfig)}/${I}`,J)).json();if(Ee.error)throw Sn.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(ie){throw Sn.create("token-unsubscribe-failed",{errorInfo:null===(M=ie)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Cs({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Pl(T){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,k.Z)(function*({appConfig:T,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function De({p256dh:T,auth:I,endpoint:M,vapidKey:L}){const J={web:{endpoint:M,auth:I,p256dh:T}};return L!==vs&&(J.web.applicationPubKey=L),J}const $t=6048e5;function ou(T){return au.apply(this,arguments)}function au(){return(au=(0,k.Z)(function*(T){const I=yield kl(T.swRegistration,T.vapidKey),M={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:gi(I.getKey("auth")),p256dh:gi(I.getKey("p256dh"))},L=yield na(T.firebaseDependencies);if(L){if(ch(L.subscriptionOptions,M))return Date.now()>=L.createTime+$t?ra(T,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield su(T.firebaseDependencies,L.token)}catch(J){console.warn(J)}return Qa(T.firebaseDependencies,M)}return Qa(T.firebaseDependencies,M)})).apply(this,arguments)}function Pn(T){return cu.apply(this,arguments)}function cu(){return(cu=(0,k.Z)(function*(T){const I=yield na(T.firebaseDependencies);I&&(yield su(T.firebaseDependencies,I.token),yield vo(T.firebaseDependencies));const M=yield T.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function ra(T,I){return _i.apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(T,I){try{const M=yield $f(T.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield zt(T.firebaseDependencies,L),M}catch(M){throw yield Pn(T),M}})).apply(this,arguments)}function Qa(T,I){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,k.Z)(function*(T,I){const L={token:yield St(T,I),createTime:Date.now(),subscriptionOptions:I};return yield zt(T,L),L.token})).apply(this,arguments)}function kl(T,I){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,k.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xr(I)})})).apply(this,arguments)}function ch(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function bo(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function kn(T,I){if(!I.notification)return;T.notification={};const M=I.notification.title;M&&(T.notification.title=M);const L=I.notification.body;L&&(T.notification.body=L);const J=I.notification.image;J&&(T.notification.image=J)}(I,T),function Ji(T,I){!I.data||(T.data=I.data)}(I,T),function Nl(T,I){var M,L,J,ie,Ee;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;T.fcmOptions={};const Pe=null!==(J=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(ie=I.notification)||void 0===ie?void 0:ie.click_action;Pe&&(T.fcmOptions.link=Pe);const st=null===(Ee=I.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;st&&(T.fcmOptions.analyticsLabel=st)}(I,T),I}function wo(T){return"object"==typeof T&&!!T&&Wa in T}function Es(T,I){const M=[];for(let L=0;L<T.length;L++)M.push(T.charAt(L)),L<I.length&&M.push(I.charAt(L));return M.join("")}function Xa(T){return Sn.create("missing-app-config-values",{valueName:T})}Es("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Es("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lm{constructor(I,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Fm(T){if(!T||!T.options)throw Xa("App Configuration Object");if(!T.name)throw Xa("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=T;for(const L of I)if(!M[L])throw Xa(L);return{appName:T.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Fl(T){return uu.apply(this,arguments)}function uu(){return(uu=(0,k.Z)(function*(T){var I;try{T.swRegistration=yield navigator.serviceWorker.register(Qi,{scope:ys}),T.swRegistration.update().catch(()=>{})}catch(M){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=M)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function ec(T,I){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,k.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Fl(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function tc(T,I){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,k.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=vs)})).apply(this,arguments)}function du(){return(du=(0,k.Z)(function*(T,I){if(!navigator)throw Sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sn.create("permission-blocked");return yield tc(T,I?.vapidKey),yield ec(T,I?.serviceWorkerRegistration),ou(T)})).apply(this,arguments)}function Vl(T,I,M){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,k.Z)(function*(T,I,M){const L=Zl(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Wa],message_name:M[Jc],message_time:M[Ml],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zl(T){switch(T){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Co(){return(Co=(0,k.Z)(function*(T,I){const M=I.data;if(!M.isFirebaseMessaging)return;T.onMessageHandler&&M.messageType===bs.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(bo(M)):T.onMessageHandler.next(bo(M)));const L=M.data;wo(L)&&"1"===L[Bf]&&(yield Vl(T,M.messageType,L))})).apply(this,arguments)}const Eo="@firebase/messaging",or=T=>{const I=new Lm(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function uh(T,I){return Co.apply(this,arguments)}(I,M)),I},ei=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:L=>function lu(T,I){return du.apply(this,arguments)}(I,L)}};function jl(){return ql.apply(this,arguments)}function ql(){return(ql=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vn(){(0,ce._registerComponent)(new fe.wA("messaging",or,"PUBLIC")),(0,ce._registerComponent)(new fe.wA("messaging-internal",ei,"PRIVATE")),(0,ce.registerVersion)(Eo,"0.9.16"),(0,ce.registerVersion)(Eo,"0.9.16","esm2017")}();const oa="analytics",fh="firebase_id",To="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pu="https://www.googletagmanager.com/gtag/js",Rn=new ue.Yd("@firebase/analytics");function gu(T){return Promise.all(T.map(I=>I.catch(M=>M)))}function mu(T,I){const M=document.createElement("script");M.src=`${pu}?l=${T}&id=${I}`,M.async=!0,document.head.appendChild(M)}function Hf(T,I,M,L,J,ie){return Io.apply(this,arguments)}function Io(){return(Io=(0,k.Z)(function*(T,I,M,L,J,ie){const Ee=L[J];try{if(Ee)yield I[Ee];else{const st=(yield gu(M)).find(wt=>wt.measurementId===J);st&&(yield I[st.appId])}}catch(Pe){Rn.error(Pe)}T("config",J,ie)})).apply(this,arguments)}function aa(T,I,M,L,J){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(T,I,M,L,J){try{let ie=[];if(J&&J.send_to){let Ee=J.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Pe=yield gu(M);for(const st of Ee){const wt=Pe.find(ht=>ht.measurementId===st),xt=wt&&I[wt.appId];if(!xt){ie=[];break}ie.push(xt)}}0===ie.length&&(ie=Object.values(I)),yield Promise.all(ie),T("event",L,J||{})}catch(ie){Rn.error(ie)}})).apply(this,arguments)}function gh(){const T=window.document.getElementsByTagName("script");for(const I of Object.values(T))if(I.src&&I.src.includes(pu))return I;return null}const yr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sc=new class Xi{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function _h(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function oc(T){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,k.Z)(function*(T){var I;const{appId:M,apiKey:L}=T,J={method:"GET",headers:_h(L)},ie=To.replace("{app-id}",M),Ee=yield fetch(ie,J);if(200!==Ee.status&&304!==Ee.status){let Pe="";try{const st=yield Ee.json();null!==(I=st.error)&&void 0!==I&&I.message&&(Pe=st.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Pe})}return Ee.json()})).apply(this,arguments)}function Bn(T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,k.Z)(function*(T,I=sc,M){const{appId:L,apiKey:J,measurementId:ie}=T.options;if(!L)throw yr.create("no-app-id");if(!J){if(ie)return{measurementId:ie,appId:L};throw yr.create("no-api-key")}const Ee=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new bu;return setTimeout((0,k.Z)(function*(){Pe.abort()}),void 0!==M?M:6e4),yu({appId:L,apiKey:J,measurementId:ie},Ee,Pe,I)})).apply(this,arguments)}function yu(T,I,M){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:M},L,J=sc){var ie,Ee;const{appId:Pe,measurementId:st}=T;try{yield ac(L,I)}catch(wt){if(st)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${null===(ie=wt)||void 0===ie?void 0:ie.message}]`),{appId:Pe,measurementId:st};throw wt}try{const wt=yield oc(T);return J.deleteThrottleMetadata(Pe),wt}catch(wt){const xt=wt;if(!vu(xt)){if(J.deleteThrottleMetadata(Pe),st)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:Pe,measurementId:st};throw wt}const ht=503===Number(null===(Ee=xt?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,se.$s)(M,J.intervalMillis,30):(0,se.$s)(M,J.intervalMillis),An={throttleEndTimeMillis:Date.now()+ht,backoffCount:M+1};return J.setThrottleMetadata(Pe,An),Rn.debug(`Calling attemptFetch again in ${ht} millis`),yu(T,An,L,J)}})).apply(this,arguments)}function ac(T,I){return new Promise((M,L)=>{const J=Math.max(I-Date.now(),0),ie=setTimeout(M,J);T.addEventListener(()=>{clearTimeout(ie),L(yr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function vu(T){if(!(T instanceof se.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class bu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ks,uc;function Ys(){return(Ys=(0,k.Z)(function*(T,I,M,L,J){if(J&&J.global)T("event",M,L);else{const ie=yield I;T("event",M,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function xo(T){uc=T}function Wl(T){Ks=T}function Is(){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,k.Z)(function*(){var T;if(!(0,se.hl)())return Rn.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return Rn.warn(yr.create("indexeddb-unavailable",{errorInfo:null===(T=I)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(T,I,M,L,J,ie,Ee){var Pe;const st=Bn(T);st.then(Ar=>{M[Ar.measurementId]=Ar.appId,T.options.measurementId&&Ar.measurementId!==T.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ar=>Rn.error(Ar)),I.push(st);const wt=Is().then(Ar=>{if(Ar)return L.getId()}),[xt,ht]=yield Promise.all([st,wt]);gh()||mu(ie,xt.measurementId),uc&&(J("consent","default",uc),xo(void 0)),J("js",new Date);const An=null!==(Pe=Ee?.config)&&void 0!==Pe?Pe:{};return An.origin="firebase",An.update=!0,null!=ht&&(An[fh]=ht),J("config",xt.measurementId,An),Ks&&(J("set",Ks),Wl(void 0)),xt.measurementId})).apply(this,arguments)}class Tu{constructor(I){this.app=I}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},Qs=[];const da={};let fa,Mo,ha="dataLayer",lc=!1;function sv(T,I,M){!function Um(){const T=[];if((0,se.ru)()&&T.push("This is a browser extension environment."),(0,se.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((L,J)=>`(${J+1}) ${L}`).join(" "),M=yr.create("invalid-analytics-context",{errorInfo:I});Rn.warn(M.message)}}();const L=T.options.appId;if(!L)throw yr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw yr.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[L])throw yr.create("already-exists",{id:L});if(!lc){!function ph(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(ha);const{wrappedGtag:ie,gtagCore:Ee}=function nc(T,I,M,L,J){let ie=function(...Ee){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ie=window[J]),window[J]=function _u(T,I,M,L){function ie(){return(ie=(0,k.Z)(function*(Ee,Pe,st){try{"event"===Ee?yield aa(T,I,M,Pe,st):"config"===Ee?yield Hf(T,I,M,L,Pe,st):"consent"===Ee?T("consent","update",st):T("set",Pe)}catch(wt){Rn.error(wt)}})).apply(this,arguments)}return function J(Ee,Pe,st){return ie.apply(this,arguments)}}(ie,T,I,M),{gtagCore:ie,wrappedGtag:window[J]}}(ti,Qs,da,ha,"gtag");Mo=ie,fa=Ee,lc=!0}return ti[L]=function ua(T,I,M,L,J,ie,Ee){return la.apply(this,arguments)}(T,Qs,da,I,fa,ha,M),new Tu(T)}function av(){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function bn(){(0,ce._registerComponent)(new fe.wA(oa,(I,{options:M})=>sv(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new fe.wA("analytics-internal",function T(I){try{const M=I.getProvider(oa).getImmediate();return{logEvent:(L,J,ie)=>function jt(T,I,M,L){T=(0,se.m9)(T),function yh(T,I,M,L,J){return Ys.apply(this,arguments)}(Mo,ti[T.app.options.appId],I,M,L).catch(J=>Rn.error(J))}(M,L,J,ie)}}catch(M){throw yr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)(Xe,"0.8.0"),(0,ce.registerVersion)(Xe,"0.8.0","esm2017")}();var Ri=R(4408),Ir=R(7565);const Au=new class Js extends Ir.v{}(class hc extends Ri.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,M,L):I.flush(this)}});var Kl=R(4986),fc=R(8505),Oo=R(5363),Xs=R(9468);const at=new i.GfV("7.4.1"),pc="__angularfire_symbol__analyticsIsSupportedValue",eo="__angularfire_symbol__analyticsIsSupported",gc="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",Nn="__angularfire_symbol__messagingIsSupportedValue",Yl="__angularfire_symbol__messagingIsSupported";function mc(T,I,M){if(I){if(1===I.length)return I[0];const ie=I.filter(Ee=>Ee.app===M);if(1===ie.length)return ie[0]}return M.container.getProvider(T).getImmediate({optional:!0})}globalThis[eo]||(globalThis[eo]=av().then(T=>globalThis[pc]=T).catch(()=>globalThis[pc]=!1)),globalThis[Yl]||(globalThis[Yl]=jl().then(T=>globalThis[Nn]=T).catch(()=>globalThis[Nn]=!1)),globalThis[pa]||(globalThis[pa]=Qc().then(T=>globalThis[gc]=T).catch(()=>globalThis[gc]=!1));const to=(T,I)=>{const M=I?[I]:(0,ee.C6)(),L=[];return M.forEach(J=>{J.container.getProvider(T).instances.forEach(Ee=>{L.includes(Ee)||L.push(Ee)})}),L};function Ni(){}class yi{constructor(I,M=Au){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,L){const J=this.zone;return this.delegate.schedule(function(Ee){J.runGuarded(()=>{I.apply(this,[Ee])})},M,L)}}class Jl{constructor(I){this.zone=I,this.task=null}call(I,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),M.pipe((0,fc.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ma=(()=>{class T{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new yi(Zone.current)),this.insideAngular=M.run(()=>new yi(Zone.current,Kl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(M){return new(M||T)(i.LFG(i.R0b))},T.\u0275prov=i.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ni(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function cr(T){return T.pipe((0,Oo.Q)(ni().outsideAngular))}function As(T){return ni(),function Jt(T){return function(M){return(M=M.lift(new Jl(T.ngZone))).pipe((0,Xs.R)(T.outsideAngular),(0,Oo.Q)(T.insideAngular))}}(ni())(T)}},2090:(ut,Ae,R)=>{R.d(Ae,{$s:()=>ms,BH:()=>Ue,G6:()=>je,L:()=>pe,LL:()=>Fe,Sg:()=>xe,UG:()=>ye,US:()=>fe,ZB:()=>$,ZR:()=>ne,b$:()=>ot,eu:()=>_e,hl:()=>Z,jU:()=>ge,m9:()=>Qt,ne:()=>Jo,pd:()=>Qr,r3:()=>Vr,ru:()=>Je,tV:()=>me,uI:()=>rt,vZ:()=>Kr,w1:()=>be,xO:()=>Bs,xb:()=>dn,z$:()=>we,zI:()=>Y,zd:()=>Wi});const ce=function(K){const q=[];let V=0;for(let H=0;H<K.length;H++){let z=K.charCodeAt(H);z<128?q[V++]=z:z<2048?(q[V++]=z>>6|192,q[V++]=63&z|128):55296==(64512&z)&&H+1<K.length&&56320==(64512&K.charCodeAt(H+1))?(z=65536+((1023&z)<<10)+(1023&K.charCodeAt(++H)),q[V++]=z>>18|240,q[V++]=z>>12&63|128,q[V++]=z>>6&63|128,q[V++]=63&z|128):(q[V++]=z>>12|224,q[V++]=z>>6&63|128,q[V++]=63&z|128)}return q},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let z=0;z<K.length;z+=3){const Ie=K[z],Ve=z+1<K.length,ct=Ve?K[z+1]:0,mn=z+2<K.length,rn=mn?K[z+2]:0;let Nt=(15&ct)<<2|rn>>6,En=63&rn;mn||(En=64,Ve||(Nt=64)),H.push(V[Ie>>2],V[(3&Ie)<<4|ct>>4],V[Nt],V[En])}return H.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(ce(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let V=0,H=0;for(;V<K.length;){const z=K[V++];if(z<128)q[H++]=String.fromCharCode(z);else if(z>191&&z<224){const Ie=K[V++];q[H++]=String.fromCharCode((31&z)<<6|63&Ie)}else if(z>239&&z<365){const mn=((7&z)<<18|(63&K[V++])<<12|(63&K[V++])<<6|63&K[V++])-65536;q[H++]=String.fromCharCode(55296+(mn>>10)),q[H++]=String.fromCharCode(56320+(1023&mn))}else{const Ie=K[V++],Ve=K[V++];q[H++]=String.fromCharCode((15&z)<<12|(63&Ie)<<6|63&Ve)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const V=q?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let z=0;z<K.length;){const Ie=V[K.charAt(z++)],ct=z<K.length?V[K.charAt(z)]:0;++z;const rn=z<K.length?V[K.charAt(z)]:64;++z;const qt=z<K.length?V[K.charAt(z)]:64;if(++z,null==Ie||null==ct||null==rn||null==qt)throw Error();H.push(Ie<<2|ct>>4),64!==rn&&(H.push(ct<<4&240|rn>>2),64!==qt&&H.push(rn<<6&192|qt))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},pe=function(K){return function(K){const q=ce(K);return fe.encodeByteArray(q,!0)}(K).replace(/\./g,"")},me=function(K){try{return fe.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function $(K,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return q}for(const V in q)!q.hasOwnProperty(V)||!Q(V)||(K[V]=$(K[V],q[V]));return K}function Q(K){return"__proto__"!==K}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,V)=>{this.resolve=q,this.reject=V})}wrapCallback(q){return(V,H)=>{V?this.reject(V):this.resolve(H),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(V):q(V,H))}}}function xe(K,q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=q||"demo-project",z=K.iat||0,Ie=K.sub||K.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:z,exp:z+3600,auth_time:z,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},K);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ve)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function Je(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const K=we();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function je(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){return"object"==typeof indexedDB}function _e(){return new Promise((K,q)=>{try{let V=!0;const H="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(H);z.onsuccess=()=>{z.result.close(),V||self.indexedDB.deleteDatabase(H),K(!0)},z.onupgradeneeded=()=>{V=!1},z.onerror=()=>{var Ie;q((null===(Ie=z.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(V){q(V)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(q,V,H){super(V),this.code=q,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(q,V,H){this.service=q,this.serviceName=V,this.errors=H}create(q,...V){const H=V[0]||{},z=`${this.service}/${q}`,Ie=this.errors[q],Ve=Ie?function Re(K,q){return K.replace(pt,(V,H)=>{const z=q[H];return null!=z?String(z):`<${H}?>`})}(Ie,H):"Error";return new ne(z,`${this.serviceName}: ${Ve} (${z}).`,H)}}const pt=/\{\$([^}]+)}/g;function Vr(K,q){return Object.prototype.hasOwnProperty.call(K,q)}function dn(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function Kr(K,q){if(K===q)return!0;const V=Object.keys(K),H=Object.keys(q);for(const z of V){if(!H.includes(z))return!1;const Ie=K[z],Ve=q[z];if(Mr(Ie)&&Mr(Ve)){if(!Kr(Ie,Ve))return!1}else if(Ie!==Ve)return!1}for(const z of H)if(!V.includes(z))return!1;return!0}function Mr(K){return null!==K&&"object"==typeof K}function Bs(K){const q=[];for(const[V,H]of Object.entries(K))Array.isArray(H)?H.forEach(z=>{q.push(encodeURIComponent(V)+"="+encodeURIComponent(z))}):q.push(encodeURIComponent(V)+"="+encodeURIComponent(H));return q.length?"&"+q.join("&"):""}function Wi(K){const q={};return K.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[z,Ie]=H.split("=");q[decodeURIComponent(z)]=decodeURIComponent(Ie)}}),q}function Qr(K){const q=K.indexOf("?");if(!q)return"";const V=K.indexOf("#",q);return K.substring(q,V>0?V:void 0)}function Jo(K,q){const V=new Ye(K,q);return V.subscribe.bind(V)}class Ye{constructor(q,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{q(this)}).catch(H=>{this.error(H)})}next(q){this.forEachObserver(V=>{V.next(q)})}error(q){this.forEachObserver(V=>{V.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,V,H){let z;if(void 0===q&&void 0===V&&void 0===H)throw new Error("Missing Observer.");z=function gs(K,q){if("object"!=typeof K||null===K)return!1;for(const V of q)if(V in K&&"function"==typeof K[V])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:V,complete:H},void 0===z.next&&(z.next=Un),void 0===z.error&&(z.error=Un),void 0===z.complete&&(z.complete=Un);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Ie}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,q)}sendOne(q,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{V(this.observers[q])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function ms(K,q=1e3,V=2){const H=q*Math.pow(V,K),z=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+z)}function Qt(K){return K&&K._delegate?K._delegate:K}},1245:(ut,Ae,R)=>{var i=R(4650);let ee=null;function k(){return ee}const ue=new i.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return function me(){return(0,i.LFG)($)}()},providedIn:"platform"}),n})();const j=new i.OlP("Location Initialized");let $=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){Q()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){Q()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function Ue(){return new $((0,i.LFG)(ue))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(Je)},providedIn:"root"}),n})();const ge=new i.OlP("appBaseHref");let Je=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,i.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+rt(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+rt(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe),i.LFG(ge,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ot=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+rt(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+rt(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(pe),i.LFG(ge,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(t){this._subject=new i.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(Be(r)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=rt,n.joinWithSlash=xe,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(i.LFG(ye))},n.\u0275prov=i.Yz7({token:n,factory:function(){return function be(){return new Se((0,i.LFG)(ye))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let cn=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ga{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Ga(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,d),$s(f,s)}});for(let s=0,u=r.length;s<u;s++){const f=r.get(s).context;f.index=s,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{$s(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $s(n,e){n.context.$implicit=e.item}let kt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Il,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Il{constructor(){this.$implicit=null,this.ngIf=null}}function mr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}class jr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let za=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Xo=(()=>{class n{constructor(t,r,s){this.ngSwitch=s,s._addCase(),this._view=new jr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(za,9))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ea=(()=>{class n{constructor(t,r,s){this._ngEl=t,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[s,u]=t.split("."),d=-1===s.indexOf("-")?void 0:i.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,s,u?`${r}${u}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,s,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class nh{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Om{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const _s=new Om,Pm=new nh;let pi=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,i.QGY)(t))return _s;if((0,i.F4k)(t))return Pm;throw function sr(n,e){return new i.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function _r(n){return"server"===n}let Xc=(()=>{class n{}return n.\u0275prov=(0,i.Yz7)({token:n,providedIn:"root",factory:()=>new qf((0,i.LFG)(ue),window)}),n})();class qf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Co extends class uh extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new Co)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hu(){return Eo=Eo||document.querySelector("base"),Eo?Eo.getAttribute("href"):null}();return null==t?null:function ei(n){or=or||document.createElement("a"),or.setAttribute("href",n);const e=or.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Yc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let or,Eo=null;const vn=new i.OlP("TRANSITION_ID"),ql=[{provide:i.ip1,useFactory:function jl(n,e,t){return()=>{t.get(i.CZH).donePromise.then(()=>{const r=k(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[vn,ue,i.zs3],multi:!0}];let $l=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=new i.OlP("EventManagerPlugins");let dh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(fu),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=k().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let ia=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),sa=(()=>{class n extends ia{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(hh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(hh))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function hh(n){k().remove(n)}const oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fh=/%COMP%/g;function mu(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?mu(n,s,t):(s=s.replace(fh,n),t.push(s))}return t}function ph(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Io=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new aa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new gh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case i.ifc.ShadowDom:return new mh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=mu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(dh),i.LFG(sa),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class aa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(oa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(nc(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nc(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=oa[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=oa[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,r,s&i.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ph(r)):this.eventManager.addEventListener(e,t,ph(r))}}function nc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gh extends aa{constructor(e,t,r,s){super(e),this.component=r;const u=mu(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Rn(n){return"_ngcontent-%COMP%".replace(fh,n)}(s+"-"+r.id),this.hostAttr=function gu(n){return"_nghost-%COMP%".replace(fh,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class mh extends aa{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=mu(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yr=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const rc=["alt","control","meta","shift"],ic={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sc=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),rc.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let s=ic[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),rc.forEach(d=>{d!==s&&(0,Xi[d])(t)&&(u+=d+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function yu(){Co.makeCurrent()},multi:!0},{provide:ue,useFactory:function ac(){return(0,i.RDi)(document),document},deps:[]}]),Ks=new i.OlP(""),yh=[{provide:i.rWj,useClass:class lh{addToWindow(e){i.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const s=i.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const f=function(_){d=d||_,u--,0==u&&r(d)};s.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:i.lri,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b,i.eoX,i.rWj]}],Ys=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function Do(){return new i.qLn},deps:[]},{provide:fu,useClass:yr,multi:!0,deps:[ue,i.R0b,i.Lbi]},{provide:fu,useClass:sc,multi:!0,deps:[ue]},{provide:Io,useClass:Io,deps:[dh,sa,i.AFp]},{provide:i.FYo,useExisting:Io},{provide:ia,useExisting:sa},{provide:sa,useClass:sa,deps:[ue]},{provide:dh,useClass:dh,deps:[fu,i.R0b]},{provide:class na{},useClass:$l,deps:[]},[]];let wu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:i.AFp,useValue:t.appId},{provide:vn,useExisting:i.AFp},ql]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ks,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[...Ys,...yh],imports:[yo,i.hGG]}),n})(),Ts=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ca(){return new Ts((0,i.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):i.LFG(Zm),r},providedIn:"root"}),n})(),Zm=(()=>{class n extends dc{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Bm(n){return new Zm(n.get(ue))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();var jt=R(8996),ki=R(7669);function Xe(...n){const e=(0,ki.yG)(n);return(0,jt.D)(n,e)}var ar=R(7579);class bn extends ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const hc=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ir=R(9751);const{isArray:Js}=Array,{getPrototypeOf:Au,prototype:jm,keys:Kl}=Object;function fc(n){if(1===n.length){const e=n[0];if(Js(e))return{args:e,keys:null};if(function Oo(n){return n&&"object"==typeof n&&Au(n)===jm}(e)){const t=Kl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Xs=R(4671),at=R(4004);const{isArray:pc}=Array;function gc(n){return(0,at.U)(e=>function eo(n,e){return pc(e)?n(...e):n(e)}(n,e))}function pa(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Nn=R(5403),Yl=R(9672);function ga(...n){const e=(0,ki.yG)(n),t=(0,ki.jO)(n),{args:r,keys:s}=fc(n);if(0===r.length)return(0,jt.D)([],e);const u=new Ir.y(function qm(n,e,t=Xs.y){return r=>{Ql(e,()=>{const{length:s}=n,u=new Array(s);let d=s,f=s;for(let _=0;_<s;_++)Ql(e,()=>{const w=(0,jt.D)(n[_],e);let A=!1;w.subscribe((0,Nn.x)(r,x=>{u[_]=x,A||(A=!0,f--),f||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>pa(s,d):Xs.y));return t?u.pipe(gc(t)):u}function Ql(n,e,t){n?(0,Yl.f)(t,n,e):e()}var Du=R(8189);function to(...n){return function mc(){return(0,Du.J)(1)}()((0,jt.D)(n,(0,ki.yG)(n)))}var Ni=R(8421);function yi(n){return new Ir.y(e=>{(0,Ni.Xf)(n()).subscribe(e)})}var Jl=R(9635),ma=R(576);function ni(n,e){const t=(0,ma.m)(n)?n:()=>n,r=s=>s.error(t());return new Ir.y(e?s=>e.schedule(r,0,s):r)}var es=R(515),Fi=R(727),cr=R(4482);function no(){return(0,cr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Nn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class As extends Ir.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Nn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fi.w0.EMPTY)}return e}refCount(){return no()(this)}}function Jt(n,e){return(0,cr.e)((t,r)=>{let s=null,u=0,d=!1;const f=()=>d&&!s&&r.complete();t.subscribe((0,Nn.x)(r,_=>{s?.unsubscribe();let w=0;const A=u++;(0,Ni.Xf)(n(_,A)).subscribe(s=(0,Nn.x)(r,x=>r.next(e?e(_,x,A,w++):x),()=>{s=null,f()}))},()=>{d=!0,f()}))})}function wn(n){return n<=0?()=>es.E:(0,cr.e)((e,t)=>{let r=0;e.subscribe((0,Nn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Su(...n){const e=(0,ki.yG)(n);return(0,cr.e)((t,r)=>{(e?to(n,t,e):to(n,t)).subscribe(r)})}function T(n,e){return(0,cr.e)((t,r)=>{let s=0;t.subscribe((0,Nn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var I=R(5577);function M(n){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function L(n=J){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function J(){return new hc}function ie(n,e){const t=arguments.length>=2;return r=>r.pipe(n?T((s,u)=>n(s,u,r)):Xs.y,wn(1),t?M(e):L(()=>new hc))}function Ee(n,e){return(0,ma.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var Pe=R(8505);function st(n){return(0,cr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Nn.x)(t,void 0,void 0,d=>{u=(0,Ni.Xf)(n(d,st(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function wt(n,e,t,r,s){return(u,d)=>{let f=t,_=e,w=0;u.subscribe((0,Nn.x)(d,A=>{const x=w++;_=f?n(_,A,x):(f=!0,A),r&&d.next(_)},s&&(()=>{f&&d.next(_),d.complete()})))}}function xt(n,e){return(0,cr.e)(wt(n,e,arguments.length>=2,!0))}function ht(n){return n<=0?()=>es.E:(0,cr.e)((e,t)=>{let r=[];e.subscribe((0,Nn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function An(n,e){const t=arguments.length>=2;return r=>r.pipe(n?T((s,u)=>n(s,u,r)):Xs.y,ht(1),t?M(e):L(()=>new hc))}function ts(n){return(0,cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Mt="primary",ns=Symbol("RouteTitle");class ro{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vi(n){return new ro(n)}function ya(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],f=n[u];if(d.startsWith(":"))s[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!zf(n[s],e[s]))return!1;return!0}function zf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function $m(n){return Array.prototype.concat.apply([],n)}function Hm(n){return n.length>0?n[n.length-1]:null}function ur(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rs(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,jt.D)(Promise.resolve(n)):Xe(n)}const Ow={exact:function zm(n,e,t){if(!Ro(n.segments,e.segments)||!ko(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zm(n.children[r],e.children[r],t))return!1;return!0},subset:_c},Kf={exact:function Yf(n,e){return Li(n,e)},subset:function Wm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zf(n[t],e[t]))},ignored:()=>!0};function uv(n,e,t){return Ow[t.paths](n.root,e.root,t.matrixParams)&&Kf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _c(n,e,t){return bh(n,e,e.segments,t)}function bh(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Ro(s,t)||e.hasChildren()||!ko(s,t,r))}if(n.segments.length===t.length){if(!Ro(n.segments,t)||!ko(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!_c(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ro(n.segments,s)&&ko(n.segments,s,r)&&n.children[Mt])&&bh(n.children[Mt],e,u,r)}}function ko(n,e,t){return e.every((r,s)=>Kf[t](n[s].parameters,r.parameters))}class yc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return No.serialize(this)}}class Ht{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}}class wh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vi(this.parameters)),this._parameterMap}toString(){return Xf(this)}}function Ro(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return new Ch},providedIn:"root"}),n})();class Ch{parse(e){const t=new mv(e);return new yc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vc(e.root,!0)}`,r=function hv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${ed(t)}=${ed(s)}`).join("&"):`${ed(t)}=${ed(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function lv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const No=new Ch;function Eh(n){return n.segments.map(e=>Xf(e)).join("/")}function vc(n,e){if(!n.hasChildren())return Eh(n);if(e){const t=n.children[Mt]?vc(n.children[Mt],!1):"",r=[];return ur(n.children,(s,u)=>{u!==Mt&&r.push(`${u}:${vc(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Km(n,e){let t=[];return ur(n.children,(r,s)=>{s===Mt&&(t=t.concat(e(r,s)))}),ur(n.children,(r,s)=>{s!==Mt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Mt?[vc(n.children[Mt],!1)]:[`${s}:${vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${Eh(n)}/${t[0]}`:`${Eh(n)}/(${t.join("//")})`}}function Ym(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ed(n){return Ym(n).replace(/%3B/gi,";")}function Ui(n){return Ym(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(n){return decodeURIComponent(n)}function Jf(n){return Fo(n.replace(/\+/g,"%20"))}function Xf(n){return`${Ui(n.path)}${function dv(n){return Object.keys(n).map(e=>`;${Ui(e)}=${Ui(n[e])}`).join("")}(n.parameters)}`}const fv=/^[^\/()?;=#]+/;function ep(n){const e=n.match(fv);return e?e[0]:""}const va=/^[^=?&#]+/,gv=/^[^&#]+/;class mv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Mt]=new Ht(e,t)),r}parseSegment(){const e=ep(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new i.vHH(4009,!1);return this.capture(e),new wh(Fo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ep(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ep(this.remaining);s&&(r=s,this.capture(r))}e[Fo(t)]=Fo(r)}parseQueryParam(e){const t=function pv(n){const e=n.match(va);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function tp(n){const e=n.match(gv);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=Jf(t),u=Jf(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ep(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new i.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Mt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Mt]:new Ht([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new i.vHH(4011,!1)}}function Lo(n){return n.segments.length>0?new Ht([],{[Mt]:n}):n}function td(n){const e={};for(const r of Object.keys(n.children)){const u=td(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function io(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Ht(n.segments.concat(e.segments),e.children)}return n}(new Ht(n.segments,e))}function Vi(n){return n instanceof yc}function kw(n,e,t,r,s){if(0===t.length)return ba(e.root,e.root,e.root,r,s);const u=function yv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new np(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return ur(u.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...s,{outlets:f}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&s.push(f))}),s):[...s,u]},[]);return new np(t,e,r)}(t);return u.toRoot()?ba(e.root,e.root,new Ht([],{}),r,s):function d(_){const w=function ip(n,e,t,r){if(n.isAbsolute)return new wc(e.root,!0,0);if(-1===r)return new wc(t,t===e.root,0);return function Qm(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new i.vHH(4005,!1);s=r.segments.length}return new wc(r,!1,s-u)}(t,r+(Ah(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),A=w.processChildren?wa(w.segmentGroup,w.index,u.commands):Cc(w.segmentGroup,w.index,u.commands);return ba(e.root,w.segmentGroup,A,r,s)}(n.snapshot?._lastPathIndex)}function Ah(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bc(n){return"object"==typeof n&&null!=n&&n.outlets}function ba(n,e,t,r,s){let d,u={};r&&ur(r,(_,w)=>{u[w]=Array.isArray(_)?_.map(A=>`${A}`):`${_}`}),d=n===e?t:nd(n,e,t);const f=Lo(td(d));return new yc(f,u,s)}function nd(n,e,t){const r={};return ur(n.children,(s,u)=>{r[u]=s===e?t:nd(s,e,t)}),new Ht(n.segments,r)}class np{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ah(r[0]))throw new i.vHH(4003,!1);const s=r.find(bc);if(s&&s!==Hm(r))throw new i.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cc(n,e,t){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return wa(n,e,t);const r=function Jm(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],f=t[r];if(bc(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(s>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!sp(_,w,d))return u;r+=2}else{if(!sp(_,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ht(n.segments.slice(0,r.pathIndex),{});return u.children[Mt]=new Ht(n.segments.slice(r.pathIndex),n.children),wa(u,0,s)}return r.match&&0===s.length?new Ht(n.segments,{}):r.match&&!n.hasChildren()?rd(n,e,t):r.match?wa(n,0,s):rd(n,e,t)}function wa(n,e,t){if(0===t.length)return new Ht(n.segments,{});{const r=function vv(n){return bc(n[0])?n[0].outlets:{[Mt]:n}}(t),s={};return ur(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=Cc(n.children[d],e,u))}),ur(n.children,(u,d)=>{void 0===r[d]&&(s[d]=u)}),new Ht(n.segments,s)}}function rd(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(bc(u)){const _=Xm(u.outlets);return new Ht(r,_)}if(0===s&&Ah(t[0])){r.push(new wh(n.segments[e].path,Zn(t[0]))),s++;continue}const d=bc(u)?u.outlets[Mt]:`${u}`,f=s<t.length-1?t[s+1]:null;d&&f&&Ah(f)?(r.push(new wh(d,Zn(f))),s+=2):(r.push(new wh(d,{})),s++)}return new Ht(r,{})}function Xm(n){const e={};return ur(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=rd(new Ht([],{}),0,t))}),e}function Zn(n){const e={};return ur(n,(t,r)=>e[r]=`${t}`),e}function sp(n,e,t){return n==t.path&&Li(e,t.parameters)}class Uo{constructor(e,t){this.id=e,this.url=t}}class id extends Uo{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class is extends Uo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dh extends Uo{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class op extends Uo{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bv extends Uo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wv extends Uo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cv extends Uo{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rw extends Uo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ev extends Uo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ec{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ap{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class od{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=t_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=t_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ad(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return ad(e,this._root).map(t=>t.value)}}function t_(n,e){if(n===e.value)return e;for(const t of e.children){const r=t_(n,t);if(r)return r}return null}function ad(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ad(n,t);if(r.length)return r.unshift(e),r}return[]}class Bi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xh extends od{constructor(e,t){super(e),this.snapshot=t,jn(this,e)}toString(){return this.snapshot.toString()}}function Ca(n,e){const t=function Ea(n,e){const d=new Mu([],{},{},"",{},Mt,e,null,n.root,-1,{});return new Ou("",new Bi(d,[]))}(n,e),r=new bn([new wh("",{})]),s=new bn({}),u=new bn({}),d=new bn({}),f=new bn(""),_=new br(r,s,d,f,u,Mt,e,t.root);return _.snapshot=t.root,new xh(new Bi(_,[]),t)}class br{constructor(e,t,r,s,u,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,at.U)(w=>w[ns]))??Xe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>vi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>vi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function Iv(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mu{constructor(e,t,r,s,u,d,f,_,w,A,x,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=f,this.title=this.data?.[ns],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=A,this._correctedLastPathIndex=F??A,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ou extends od{constructor(e,t){super(t),this.url=e,jn(this,t)}toString(){return ud(this._root)}}function jn(n,e){e.value._routerState=n,e.children.forEach(t=>jn(n,t))}function ud(n){const e=n.children.length>0?` { ${n.children.map(ud).join(", ")} } `:"";return`${n.value}${e}`}function Ic(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function Po(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cp(n,e){const t=Li(n.params,e.params)&&function Xl(n,e){return Ro(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cp(n.parent,e.parent))}function so(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Ac(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return so(n,r,s);return so(n,r)})}(n,e,t);return new Bi(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>so(n,f)),d}}const r=function n_(n){return new br(new bn(n.url),new bn(n.params),new bn(n.queryParams),new bn(n.fragment),new bn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>so(n,u));return new Bi(r,s)}}const up="ngNavigationCancelingError";function Mh(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=r_(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function r_(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[up]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Oh(n){return i_(n)&&Vi(n.url)}function i_(n){return n&&n[up]}class s_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new s_,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p=!1;let m=(()=>{class n{constructor(t,r,s,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=s||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.vHH(4012,p);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.vHH(4012,p);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.vHH(4012,p);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new i.vHH(4013,p);this._activatedRoute=t;const s=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new b(t,f,s.injector);if(r&&function S(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=s.createComponent(w,s.length,_)}else this.activated=s.createComponent(d,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(y),i.Y36(i.s_b),i.$8M("name"),i.Y36(i.sBO),i.Y36(i.lqb))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===br?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[i.jDz],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},dependencies:[m],encapsulation:2}),n})();function W(n,e){return n.providers&&!n._injector&&(n._injector=(0,i.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dd(n){const e=n.children&&n.children.map(dd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=P),t}function $r(n){return n.outlet||Mt}function lp(n,e){const t=n.filter(r=>$r(r)===e);return t.push(...n.filter(r=>$r(r)!==e)),t}function Pu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Av{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ic(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Tc(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),ur(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Tc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Tc(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Tc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Tv(u.value.snapshot))}),e.children.length&&this.forwardEvent(new e_(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Ic(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const f=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Ic(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=Pu(s.snapshot),_=f?.get(i._Vd)??null;d.attachRef=null,d.route=s,d.resolver=_,d.injector=f,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class o_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ta{constructor(e,t){this.component=e,this.route=t}}function Dv(n,e,t){const r=n._root;return Ph(r,e?e._root:null,t,[r.value])}function Dc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,i.Z0I)(n)?e.get(n):n:r}function Ph(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Tc(e);return n.children.forEach(d=>{(function Mx(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function aA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cp(n,e)||!Li(n.queryParams,e.queryParams);default:return!cp(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new o_(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Ph(n,e,u.component?f?f.children:null:t,r,s),_&&f&&f.outlet&&f.outlet.isActivated&&s.canDeactivateChecks.push(new Ta(f.outlet.component,d))}else d&&kh(e,f,s),s.canActivateChecks.push(new o_(r)),Ph(n,null,u.component?f?f.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),ur(u,(d,f)=>kh(d,t.getContext(f),s)),s}function kh(n,e,t){const r=Tc(n),s=n.value;ur(r,(u,d)=>{kh(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ta(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function fd(n){return"function"==typeof n}function Mv(n){return n instanceof hc||"EmptyError"===n?.name}const c_=Symbol("INITIAL_VALUE");function pd(){return Jt(n=>ga(n.map(e=>e.pipe(wn(1),Su(c_)))).pipe((0,at.U)(e=>{for(const t of e)if(!0!==t){if(t===c_)return c_;if(!1===t||t instanceof yc)return t}return!0}),T(e=>e!==c_),wn(1)))}function Bw(n){return(0,Jl.z)((0,Pe.b)(e=>{if(Vi(e))throw Mh(0,e)}),(0,at.U)(e=>!0===e))}const Hr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u_(n,e,t,r,s){const u=l_(n,e,t);return u.matched?function _A(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?Xe(s.map(d=>{const f=Dc(d,n);return rs(function xv(n){return n&&fd(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(pd(),Bw()):Xe(!0)}(r=W(e,r),e,t).pipe((0,at.U)(d=>!0===d?u:{...Hr})):Xe(u)}function l_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Hr}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ya)(t,n,e);if(!s)return{...Hr};const u={};ur(s.posParams,(f,_)=>{u[_]=f.path});const d=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function Rh(n,e,t,r,s="corrected"){if(t.length>0&&function Pv(n,e,t){return t.some(r=>d_(n,e,r)&&$r(r)!==Mt)}(n,t,r)){const d=new Ht(e,function dp(n,e,t,r){const s={};s[Mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&$r(u)!==Mt){const d=new Ht([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[$r(u)]=d}return s}(n,e,r,new Ht(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function yA(n,e,t){return t.some(r=>d_(n,e,r))}(n,t,r)){const d=new Ht(n.segments,function bi(n,e,t,r,s,u){const d={};for(const f of r)if(d_(n,t,f)&&!s[$r(f)]){const _=new Ht([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[$r(f)]=_}return{...s,...d}}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Ht(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function d_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kv(n,e,t,r){return!!($r(n)===r||r!==Mt&&d_(e,t,n))&&("**"===n.path||l_(e,n,t).matched)}function Zw(n,e,t){return 0===e.length&&!n.children[t]}const hp=!1;class h_{constructor(e){this.segmentGroup=e||null}}class Rv{constructor(e){this.urlTree=e}}function fp(n){return ni(new h_(n))}function jw(n){return ni(new Rv(n))}class Nh{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=Rh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ht(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Mt).pipe((0,at.U)(u=>this.createUrlTree(td(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(st(u=>{if(u instanceof Rv)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof h_?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Mt).pipe((0,at.U)(s=>this.createUrlTree(td(s),e.queryParams,e.fragment))).pipe(st(s=>{throw s instanceof h_?this.noMatchError(s):s}))}noMatchError(e){return new i.vHH(4002,hp)}createUrlTree(e,t,r){const s=Lo(e);return new yc(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,at.U)(u=>new Ht([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,jt.D)(s).pipe(Ee(u=>{const d=r.children[u],f=lp(t,u);return this.expandSegmentGroup(e,f,d,u).pipe((0,at.U)(_=>({segment:_,outlet:u})))}),xt((u,d)=>(u[d.outlet]=d.segment,u),{}),An())}expandSegment(e,t,r,s,u,d){return(0,jt.D)(r).pipe(Ee(f=>this.expandSegmentAgainstRoute(e,t,r,f,s,u,d).pipe(st(w=>{if(w instanceof h_)return Xe(null);throw w}))),ie(f=>!!f),st((f,_)=>{if(Mv(f))return Zw(t,s,u)?Xe(new Ht([],{})):fp(t);throw f}))}expandSegmentAgainstRoute(e,t,r,s,u,d,f){return kv(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d):fp(t):fp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jw(u):this.lineralizeSegments(r,u).pipe((0,I.z)(d=>{const f=new Ht(d,{});return this.expandSegment(e,f,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:A}=l_(t,s,u);if(!f)return fp(t);const x=this.applyRedirectCommands(_,s.redirectTo,A);return s.redirectTo.startsWith("/")?jw(x):this.lineralizeSegments(s,x).pipe((0,I.z)(F=>this.expandSegment(e,t,r,F.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=W(r,e),r.loadChildren?(r._loadedRoutes?Xe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,at.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Ht(s,{})))):Xe(new Ht(s,{}))):u_(t,r,s,e).pipe(Jt(({matched:d,consumedSegments:f,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,s).pipe((0,I.z)(A=>{const x=A.injector??e,F=A.routes,{segmentGroup:U,slicedSegments:B}=Rh(t,f,_,F),re=new Ht(U.segments,U.children);if(0===B.length&&re.hasChildren())return this.expandChildren(x,F,re).pipe((0,at.U)(Qe=>new Ht(f,Qe)));if(0===F.length&&0===B.length)return Xe(new Ht(f,{}));const he=$r(r)===u;return this.expandSegment(x,re,F,B,he?Mt:u,!0).pipe((0,at.U)(Ke=>new Ht(f.concat(Ke.segments),Ke.children)))})):fp(t)))}getChildConfig(e,t,r){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Vw(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?Xe(!0):Xe(s.map(d=>{const f=Dc(d,n);return rs(function Lw(n){return n&&fd(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(pd(),Bw())}(e,t,r).pipe((0,I.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,Pe.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function qw(n){return ni(r_(hp,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Xe(r);if(s.numberOfChildren>1||!s.children[Mt])return ni(new i.vHH(4e3,hp));s=s.children[Mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new yc(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ur(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);r[u]=t[f]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return ur(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,s)}),new Ht(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new i.vHH(4001,hp);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class wA{}class $w{constructor(e,t,r,s,u,d,f,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=Rh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Mt).pipe((0,at.U)(t=>{if(null===t)return null;const r=new Mu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Bi(r,t),u=new Ou(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=cd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,jt.D)(Object.keys(r.children)).pipe(Ee(s=>{const u=r.children[s],d=lp(t,s);return this.processSegmentGroup(e,d,u,s)}),xt((s,u)=>s&&u?(s.push(...u),s):null),function Ar(n,e=!1){return(0,cr.e)((t,r)=>{let s=0;t.subscribe((0,Nn.x)(r,u=>{const d=n(u,s++);(d||e)&&r.next(u),!d&&r.complete()}))})}(s=>null!==s),M(null),An(),(0,at.U)(s=>{if(null===s)return null;const u=p_(s);return function kx(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,jt.D)(t).pipe(Ee(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,s,u)),ie(d=>!!d),st(d=>{if(Mv(d))return Zw(r,s,u)?Xe([]):Xe(null);throw d}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!kv(t,r,s,u))return Xe(null);let d;if("**"===t.path){const f=s.length>0?Hm(s).parameters:{},_=Hw(r)+s.length;d=Xe({snapshot:new Mu(s,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gw(t),$r(t),t.component??t._loadedComponent??null,t,Fv(r),_,zw(t),_),consumedSegments:[],remainingSegments:[]})}else d=u_(r,t,s,e).pipe((0,at.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:A})=>{if(!f)return null;const x=Hw(r)+_.length;return{snapshot:new Mu(_,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gw(t),$r(t),t.component??t._loadedComponent??null,t,Fv(r),x,zw(t),x),consumedSegments:_,remainingSegments:w}}));return d.pipe(Jt(f=>{if(null===f)return Xe(null);const{snapshot:_,consumedSegments:w,remainingSegments:A}=f;e=t._injector??e;const x=t._loadedInjector??e,F=function Ia(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:B}=Rh(r,w,A,F.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution);if(0===B.length&&U.hasChildren())return this.processChildren(x,F,U).pipe((0,at.U)(he=>null===he?null:[new Bi(_,he)]));if(0===F.length&&0===B.length)return Xe([new Bi(_,[])]);const re=$r(t)===u;return this.processSegment(x,F,U,B,re?Mt:u).pipe((0,at.U)(he=>null===he?null:[new Bi(_,he)]))}))}}function Nv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function p_(n){const e=[],t=new Set;for(const r of n){if(!Nv(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=p_(r.children);e.push(new Bi(r.value,s))}return e.filter(r=>!t.has(r))}function Fv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Hw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Gw(n){return n.data||{}}function zw(n){return n.resolve||{}}function Bv(n){return"string"==typeof n.title||null===n.title}function Zv(n){return Jt(e=>{const t=n(e);return t?(0,jt.D)(t).pipe((0,at.U)(()=>e)):Xe(e)})}let g_=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Mt);return r}getResolvedTitleForRoute(t){return t.data[ns]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(){return(0,i.f3M)(Kw)},providedIn:"root"}),n})(),Kw=(()=>{class n extends g_{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ts))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EA{}class IA extends class TA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pp=new i.OlP("",{providedIn:"root",factory:()=>({})}),__=new i.OlP("ROUTES");let gp=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=rs(t.loadComponent()).pipe((0,Pe.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ts(()=>{this.componentLoaders.delete(t)})),s=new As(r,()=>new ar.x).pipe(no());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,at.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,A=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=$m(_.get(__,[],i.XFs.Self|i.XFs.Optional)));return{routes:w.map(dd),injector:_}}),ts(()=>{this.childrenLoaders.delete(r)})),d=new As(u,()=>new ar.x).pipe(no());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return rs(t()).pipe((0,I.z)(r=>r instanceof i.YKP||Array.isArray(r)?Xe(r):(0,jt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.zs3),i.LFG(i.Sil))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DA{}class SA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Yw(n){throw n}function gd(n,e,t){return e.parse("/")}const Qw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function MA(){const n=(0,i.f3M)(Qf),e=(0,i.f3M)(y),t=(0,i.f3M)(Se),r=(0,i.f3M)(i.zs3),s=(0,i.f3M)(i.Sil),u=(0,i.f3M)(__,{optional:!0})??[],d=(0,i.f3M)(pp,{optional:!0})??{},f=(0,i.f3M)(Kw),_=(0,i.f3M)(g_,{optional:!0}),w=(0,i.f3M)(DA,{optional:!0}),A=(0,i.f3M)(EA,{optional:!0}),x=new un(null,n,e,t,r,s,$m(u));return w&&(x.urlHandlingStrategy=w),A&&(x.routeReuseStrategy=A),x.titleStrategy=_??f,function xA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),x}let un=(()=>{class n{constructor(t,r,s,u,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ar.x,this.errorHandler=Yw,this.malformedUriErrorHandler=gd,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new SA,this.routeReuseStrategy=new IA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(gp),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new sd(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new Ec(F)),this.ngModule=d.get(i.h0i),this.console=d.get(i.c2e);const x=d.get(i.R0b);this.isNgZoneEnabled=x instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Gm(){return new yc(new Ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ca(this.currentUrlTree,this.rootComponentType),this.transitions=new bn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(T(s=>0!==s.id),(0,at.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Jt(s=>{let u=!1,d=!1;return Xe(s).pipe((0,Pe.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jt(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return jv(f.source)&&(this.browserUrlTree=f.extractedUrl),Xe(f).pipe(Jt(x=>{const F=this.transitions.getValue();return r.next(new id(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?es.E:Promise.resolve(x)}),function Sc(n,e,t,r){return Jt(s=>function bA(n,e,t,r,s){return new Nh(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,at.U)(u=>({...s,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pe.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},s.urlAfterRedirects=x.urlAfterRedirects}),function Lv(n,e,t,r,s,u){return(0,I.z)(d=>function Px(n,e,t,r,s,u,d="emptyOnly",f="legacy"){return new $w(n,e,t,r,s,d,f,u).recognize().pipe(Jt(_=>null===_?function Ox(n){return new Ir.y(e=>e.error(n))}(new wA):Xe(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,s,u).pipe((0,at.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pe.b)(x=>{if(s.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(U,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new bv(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:U,source:B,restoredState:re,extras:he}=f,Ze=new id(F,this.serializeUrl(U),B,re);r.next(Ze);const Ke=Ca(U,this.rootComponentType).snapshot;return Xe(s={...f,targetSnapshot:Ke,urlAfterRedirects:U,extras:{...he,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),es.E}),(0,Pe.b)(f=>{const _=new wv(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,at.U)(f=>s={...f,guards:Dv(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function lA(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Xe({...t,guardsResult:!0}):function dA(n,e,t,r){return(0,jt.D)(n).pipe((0,I.z)(s=>function mA(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Xe(u.map(f=>{const _=Pu(e)??s,w=Dc(f,_);return rs(function cA(n){return n&&fd(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(ie())})).pipe(pd()):Xe(!0)}(s.component,s.route,t,e,r)),ie(s=>!0!==s,!0))}(d,r,s,n).pipe((0,I.z)(f=>f&&function Fw(n){return"boolean"==typeof n}(f)?function hA(n,e,t,r){return(0,jt.D)(e).pipe(Ee(s=>to(function Ov(n,e){return null!==n&&e&&e(new ap(n)),Xe(!0)}(s.route.parent,r),function fA(n,e){return null!==n&&e&&e(new Sh(n)),Xe(!0)}(s.route,r),function gA(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Nw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>yi(()=>Xe(d.guards.map(_=>{const w=Pu(d.node)??t,A=Dc(_,w);return rs(function Sv(n){return n&&fd(n.canActivateChild)}(A)?A.canActivateChild(r,n):w.runInContext(()=>A(r,n))).pipe(ie())})).pipe(pd())));return Xe(u).pipe(pd())}(n,s.path,t),function pA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const s=r.map(u=>yi(()=>{const d=Pu(e)??t,f=Dc(u,d);return rs(function Uw(n){return n&&fd(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(ie())}));return Xe(s).pipe(pd())}(n,s.route,t))),ie(s=>!0!==s,!0))}(r,u,n,e):Xe(f)),(0,at.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Pe.b)(f=>{if(s.guardsResult=f.guardsResult,Vi(f.guardsResult))throw Mh(0,f.guardsResult);const _=new Cv(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),T(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Zv(f=>{if(f.guards.canActivateChecks.length)return Xe(f).pipe((0,Pe.b)(_=>{const w=new Rw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Jt(_=>{let w=!1;return Xe(_).pipe(function Uv(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Xe(t);let u=0;return(0,jt.D)(s).pipe(Ee(d=>function Ww(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Bv(s)&&(u[ns]=s.title),function Rx(n,e,t,r){const s=function Lh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return Xe({});const u={};return(0,jt.D)(s).pipe((0,I.z)(d=>function Vv(n,e,t,r){const s=Pu(e)??r,u=Dc(n,s);return rs(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ie(),(0,Pe.b)(f=>{u[d]=f}))),ht(1),function _a(n){return(0,at.U)(()=>n)}(u),st(d=>Mv(d)?es.E:ni(d)))}(u,n,e,r).pipe((0,at.U)(d=>(n._resolvedData=d,n.data=cd(n,t).resolve,s&&Bv(s)&&(n.data[ns]=s.title),null)))}(d.route,r,n,e)),(0,Pe.b)(()=>u++),ht(1),(0,I.z)(d=>u===s.length?Xe(t):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pe.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Pe.b)(_=>{const w=new Ev(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Zv(f=>{const _=w=>{const A=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Pe.b)(x=>{w.component=x}),(0,at.U)(()=>{})));for(const x of w.children)A.push(..._(x));return A};return ga(_(f.targetSnapshot.root)).pipe(M(),wn(1))}),Zv(()=>this.afterPreactivation()),(0,at.U)(f=>{const _=function Vo(n,e,t){const r=so(n,e._root,t?t._root:void 0);return new xh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return s={...f,targetRouterState:_}}),(0,Pe.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(r=>(new Av(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Pe.b)({next(){u=!0},complete(){u=!0}}),ts(()=>{u||d||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),st(f=>{if(d=!0,i_(f)){Oh(f)||(this.navigated=!0,this.restoreHistory(s,!0));const _=new Dh(s.id,this.serializeUrl(s.extractedUrl),f.message,f.cancellationCode);if(r.next(_),Oh(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jv(s.source)};this.scheduleNavigation(w,"imperative",null,A,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const _=new op(s.id,this.serializeUrl(s.extractedUrl),f,s.targetSnapshot??void 0);r.next(_);try{s.resolve(this.errorHandler(f))}catch(w){s.reject(w)}}return es.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const s={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const f={...u};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(dd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=s||this.routerState.root,A=_?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...u};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),kw(w,this.currentUrlTree,t,x,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Vi(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function OA(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new i.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...Qw}:!1===r?{...Jw}:r,Vi(t))return uv(this.currentUrlTree,t,s);const u=this.parseUrl(t);return uv(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new is(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,d){if(this.disposed)return Promise.resolve(!1);let f,_,w;d?(f=d.resolve,_=d.reject,w=d.promise):w=new Promise((F,U)=>{f=F,_=U});const A=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),x=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:A,targetPageId:x,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,s){const u=new Dh(t.id,this.serializeUrl(t.extractedUrl),r,s);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:function(){return MA()},providedIn:"root"}),n})();function jv(n){return"imperative"!==n}let ku=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ar.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,i.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,i.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,i.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(un),i.Y36(br),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})(),Zi=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ar.x,this.subscription=t.events.subscribe(u=>{u instanceof is&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,i.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,i.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,i.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,u,d){return!!(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(un),i.Y36(br),i.Y36(ye))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&i.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[i.TTD]}),n})();class _p{}let Hv=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(T(t=>t instanceof is),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,i.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,f=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,jt.D)(s).pipe((0,Du.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Xe(null);const u=s.pipe((0,I.z)(d=>null===d?Xe(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,jt.D)([u,d]).pipe((0,Du.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(un),i.LFG(i.Sil),i.LFG(i.lqb),i.LFG(_p),i.LFG(gp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y_=new i.OlP("");let v_=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof is&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ri&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ri(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Uh(n,e){return{\u0275kind:n,\u0275providers:e}}function zv(n){return[{provide:__,multi:!0,useValue:n}]}function b_(){const n=(0,i.f3M)(i.zs3);return e=>{const t=n.get(i.z2F);if(e!==t.components[0])return;const r=n.get(un),s=n.get(Wv);1===n.get(eC)&&r.initialNavigation(),n.get(rC,null,i.XFs.Optional)?.setUpPreloading(),n.get(y_,null,i.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.next(),s.complete()}}const Wv=new i.OlP("",{factory:()=>new ar.x}),eC=new i.OlP("",{providedIn:"root",factory:()=>1});const rC=new i.OlP("");function NA(n){return Uh(0,[{provide:rC,useExisting:Hv},{provide:_p,useExisting:n}])}const iC=new i.OlP("ROUTER_FORROOT_GUARD"),LA=[Se,{provide:Qf,useClass:Ch},{provide:un,useFactory:MA},y,{provide:br,useFactory:function Gv(n){return n.routerState.root},deps:[un]},gp];function UA(){return new i.PXZ("Router",un)}let sC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[LA,[],zv(t),{provide:iC,useFactory:ZA,deps:[[un,new i.FiY,new i.tp0]]},{provide:pp,useValue:r||{}},r?.useHash?{provide:ye,useClass:ot}:{provide:ye,useClass:Je},{provide:y_,useFactory:()=>{const n=(0,i.f3M)(un),e=(0,i.f3M)(Xc),t=(0,i.f3M)(pp);return t.scrollOffset&&e.setOffset(t.scrollOffset),new v_(n,e,t)}},r?.preloadingStrategy?NA(r.preloadingStrategy).\u0275providers:[],{provide:i.PXZ,multi:!0,useFactory:UA},r?.initialNavigation?Lt(r):[],[{provide:Kv,useFactory:b_},{provide:i.tb,multi:!0,useExisting:Kv}]]}}static forChild(t){return{ngModule:n,providers:[zv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(iC,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[P]}),n})();function ZA(n){return"guarded"}function Lt(n){return["disabled"===n.initialNavigation?Uh(3,[{provide:i.ip1,multi:!0,useFactory:()=>{const e=(0,i.f3M)(un);return()=>{e.setUpLocationChangeListener()}}},{provide:eC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uh(2,[{provide:eC,useValue:0},{provide:i.ip1,multi:!0,deps:[i.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve(null));let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(un),f=e.get(Wv);(function s(u){e.get(un).events.pipe(T(f=>f instanceof is||f instanceof Dh||f instanceof op),(0,at.U)(f=>f instanceof is||f instanceof Dh&&(0===f.code||1===f.code)&&null),T(f=>null!==f),wn(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||f.closed?Xe(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const Kv=new i.OlP("");var cC=R(4986),Xn=R(5813);function C_(){return(0,cr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Nn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function uC(n,e){return n===e}var gt,ji=R(2011),$A=(R(2476),R(3942)),ve=R(5861),oo=R(9681),ao=R(4859),Nu=R(1877),Ut=R(2090),Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xc={},lC=lC||{},Vt=Yv||self;function E_(){}function yp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function T_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Fu="closure_uid_"+(1e9*Math.random()>>>0),GA=0;function dC(n,e,t){return n.call.apply(n.bind,arguments)}function I_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function wi(n,e,t){return(wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dC:I_).apply(null,arguments)}function vp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[s].apply(r,d)}}function Lu(){this.s=this.s,this.o=this.o}var WA={};Lu.prototype.s=!1,Lu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function HA(n){return Object.prototype.hasOwnProperty.call(n,Fu)&&n[Fu]||(n[Fu]=++GA)}(this);delete WA[n]}},Lu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function A_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function fC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yp(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let d=0;d<u;d++)n[s+d]=r[d]}else n.push(r)}}function si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}si.prototype.h=function(){this.defaultPrevented=!0};var pC=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",E_,e),Vt.removeEventListener("test",E_,e)}catch{}return n}();function Vh(n){return/^[\s\xa0]*$/.test(n)}var KA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bp(n,e){return n<e?-1:n>e?1:0}function D_(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function Mc(n){return-1!=D_().indexOf(n)}function Uu(n){return Uu[" "](n),n}Uu[" "]=E_;var Bh,n,mC=Mc("Opera"),Oc=Mc("Trident")||Mc("MSIE"),co=Mc("Edge"),S_=co||Oc,_C=Mc("Gecko")&&!(-1!=D_().toLowerCase().indexOf("webkit")&&!Mc("Edge"))&&!(Mc("Trident")||Mc("MSIE"))&&!Mc("Edge"),Qv=-1!=D_().toLowerCase().indexOf("webkit")&&!Mc("Edge");function Da(){var n=Vt.document;return n?n.documentMode:void 0}e:{var x_="",wp=(n=D_(),_C?/rv:([^\);]+)(\)|;)/.exec(n):co?/Edge\/([\d\.]+)/.exec(n):Oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qv?/WebKit\/(\S+)/.exec(n):mC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wp&&(x_=wp?wp[1]:""),Oc){var yC=Da();if(null!=yC&&yC>parseFloat(x_)){Bh=String(yC);break e}}Bh=x_}var vC={};var Jv=Vt.document&&Oc&&(Da()||parseInt(Bh,10))||void 0;function md(n,e){if(si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_C){e:{try{Uu(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&md.X.h.call(this)}}ii(md,si);var Xv={2:"touch",3:"pen",4:"mouse"};md.prototype.h=function(){md.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var M_="closure_listenable_"+(1e6*Math.random()|0),YA=0;function QA(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=s,this.key=++YA,this.ba=this.ea=!1}function O_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function e0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function t0(n){const e={};for(const t in n)e[t]=n[t];return e}const JA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bC(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<JA.length;u++)t=JA[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function n0(n){this.src=n,this.g={},this.h=0}function P_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=hC(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(O_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function k_(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return s}return-1}n0.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=k_(n,e,r,s);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new QA(e,this.src,u,!!r,s)).ea=t,n.push(e)),e};var r0="closure_lm_"+(1e6*Math.random()|0),Ep={};function XA(n,e,t,r,s){if(r&&r.once)return tD(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)XA(n,e[u],t,r,s);return null}return t=Sa(t),n&&n[M_]?n.N(e,t,T_(r)?!!r.capture:!!r,s):eD(n,e,t,!1,r,s)}function eD(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=T_(s)?!!s.capture:!!s,f=CC(n);if(f||(n[r0]=f=new n0(n)),(t=f.add(e,t,r,d,u)).proxy)return t;if(r=function Vx(){const e=Bx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pC||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(rD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function tD(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)tD(n,e[u],t,r,s);return null}return t=Sa(t),n&&n[M_]?n.O(e,t,T_(r)?!!r.capture:!!r,s):eD(n,e,t,!0,r,s)}function nD(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)nD(n,e[u],t,r,s);else r=T_(r)?!!r.capture:!!r,t=Sa(t),n&&n[M_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=k_(u=n.g[e],t,r,s))&&(O_(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=CC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=k_(e,t,r,s)),(t=-1<n?e[n]:null)&&wC(t))}function wC(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[M_])P_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(rD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=CC(e))?(P_(t,n),0==t.h&&(t.src=null,e[r0]=null)):O_(n)}}}function rD(n){return n in Ep?Ep[n]:Ep[n]="on"+n}function Bx(n,e){if(n.ba)n=!0;else{e=new md(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&wC(n),n=t.call(r,e)}return n}function CC(n){return(n=n[r0])instanceof n0?n:null}var EC="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(n){return"function"==typeof n?n:(n[EC]||(n[EC]=function(e){return n.handleEvent(e)}),n[EC])}function Dr(){Lu.call(this),this.i=new n0(this),this.P=this,this.I=null}function oi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new si(e,n);else if(e instanceof si)e.target=e.target||n;else{var s=e;bC(e=new si(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=Tp(d,r,!0,e)&&s}if(s=Tp(d=e.g=n,r,!0,e)&&s,s=Tp(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Tp(d=e.g=t[u],r,!1,e)&&s}function Tp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var f=d.listener,_=d.ha||d.src;d.ea&&P_(n.i,d),s=!1!==f.call(_,r)&&s}}return s&&!r.defaultPrevented}ii(Dr,Lu),Dr.prototype[M_]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){nD(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)O_(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ip=Vt.JSON.stringify;function TC(){var n=xC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var o0,IC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vu,n=>n.reset());class Vu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AC(n){Vt.setTimeout(()=>{throw n},0)}function DC(n,e){o0||function SC(){var n=Vt.Promise.resolve(void 0);o0=function(){n.then(R_)}}(),a0||(o0(),a0=!0),xC.add(n,e)}var a0=!1,xC=new class s0{constructor(){this.h=this.g=null}add(e,t){const r=IC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function R_(){for(var n;n=TC();){try{n.h.call(n.g)}catch(t){AC(t)}var e=IC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}a0=!1}function Pc(n,e){Dr.call(this),this.h=n||1,this.g=e||Vt,this.j=wi(this.kb,this),this.l=Date.now()}function Ap(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Bu(n,e,t){if("function"==typeof n)t&&(n=wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Dp(n){n.g=Bu(()=>{n.g=null,n.i&&(n.i=!1,Dp(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(Pc,Dr),(gt=Pc.prototype).ca=!1,gt.R=null,gt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),oi(this,"tick"),this.ca&&(Ap(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Pc.X.M.call(this),Ap(this),delete this.g};class Sp extends Lu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dp(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xp(n){Lu.call(this),this.h=n,this.g={}}ii(xp,Lu);var c0=[];function u0(n,e,t,r){Array.isArray(t)||(t&&(c0[0]=t.toString()),t=c0);for(var s=0;s<t.length;s++){var u=XA(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function N_(n){e0(n.g,function(e,t){this.g.hasOwnProperty(t)&&wC(e)},n),n.g={}}function jh(){this.g=!0}function qh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return Ip(t)}catch{return e}}(n,t)+(r?" "+r:"")})}xp.prototype.M=function(){xp.X.M.call(this),N_(this)},xp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jh.prototype.Aa=function(){this.g=!1},jh.prototype.info=function(){};var Zu={},OC=null;function Mp(){return OC=OC||new Dr}function d0(n){si.call(this,Zu.Oa,n)}function Op(n){const e=Mp();oi(e,new d0(e,n))}function ss(n,e){si.call(this,Zu.STAT_EVENT,n),this.stat=e}function Ci(n){const e=Mp();oi(e,new ss(e,n))}function PC(n,e){si.call(this,Zu.Pa,n),this.size=e}function F_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Zu.Oa="serverreachability",ii(d0,si),Zu.STAT_EVENT="statevent",ii(ss,si),Zu.Pa="timingevent",ii(PC,si);var L_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},U_={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function V_(){}function RC(){}V_.prototype.h=null;var Z_,Pp={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function B_(){si.call(this,"d")}function h0(){si.call(this,"c")}function j_(){}function kp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new xp(this),this.O=NC,this.T=new Pc(n=S_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new f0}function f0(){this.i=null,this.g="",this.h=!1}ii(B_,si),ii(h0,si),ii(j_,V_),j_.prototype.g=function(){return new XMLHttpRequest},j_.prototype.i=function(){return{}},Z_=new j_;var NC=45e3,p0={},Ss={};function Rp(n,e,t){n.K=1,n.v=Fp(ju(e)),n.s=t,n.P=!0,FC(n,null)}function FC(n,e){n.F=Date.now(),Np(n),n.A=ju(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),qC(t.i,"t",r),n.C=0,t=n.l.H,n.h=new f0,n.g=JC(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Sp(wi(n.Ka,n,n.g),n.N)),u0(n.S,n.g,"readystatechange",n.hb),e=n.H?t0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Op(1),function MC(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",f=u.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var A=w[0];w=w[1];var x=A.split("_");d=2<=x.length&&"type"==x[1]?d+(A+"=")+w+"&":d+(A+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function LC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function sD(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=UC(n,t),s==Ss){4==e&&(n.o=4,Ci(14),r=!1),qh(n.j,n.m,null,"[Incomplete Response]");break}if(s==p0){n.o=4,Ci(15),qh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qh(n.j,n.m,s,null),g0(n,s)}LC(n)&&s!=Ss&&s!=p0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Q_(e),e.K=!0,Ci(11))):(qh(n.j,n.m,t,"[Invalid Chunked Response]"),yd(n),_d(n))}function UC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ss:(t=Number(e.substring(t,r)),isNaN(t)?p0:(r+=1)+t>e.length?Ss:(e=e.substr(r,t),n.C=r+t,e))}function Np(n){n.V=Date.now()+n.O,VC(n,n.O)}function VC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=F_(wi(n.fb,n),e)}function q_(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function _d(n){0==n.l.G||n.I||I0(n.l,n)}function yd(n){q_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ap(n.T),N_(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function g0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||z_(t.h,n)))if(!n.J&&z_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;J_(t),Fc(t)}Y_(t),Ci(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&0==t.A&&!t.v&&(t.v=F_(wi(t.bb,t),6e3));if(1>=GC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else zu(t,11)}else if((n.J||t.g==n)&&J_(t),!Vh(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let w=s[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const A=w[3];null!=A&&(t.ma=A,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const B=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var u=r.h;u.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Bp(u,u.h),u.h=null))}if(r.D){const re=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.za=re,Fn(r.F,r.D,re))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=ey(r,r.H?r.ka:null,r.V),d.J){zC(r.h,d);var f=d,_=r.J;_&&f.setTimeout(_),f.B&&(q_(f),Np(f)),r.g=d}else T0(r);0<t.i.length&&Hp(t)}else"stop"!=w[0]&&"close"!=w[0]||zu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?zu(t,7):Gu(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Op(4)}catch{}}function BC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function m0(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function $_(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(gt=kp.prototype).setTimeout=function(n){this.O=n},gt.hb=function(n){n=n.target;const e=this.L;e&&3==os(n)?e.l():this.Ka(n)},gt.Ka=function(n){try{if(n==this.g)e:{const A=os(this.g);var e=this.g.Ea();const x=this.g.aa();if(!(3>A)&&(3!=A||S_||this.g&&(this.h.h||this.g.fa()||Cd(this.g)))){this.I||4!=A||7==e||Op(8==e||0>=x?3:2),q_(this);var t=this.g.aa();this.Y=t;t:if(LC(this)){var r=Cd(this.g);n="";var s=r.length,u=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yd(this),_d(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function l0(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,A,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ci(12),yd(this),_d(this);break e}qh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,g0(this,t)}this.P?(sD(this,A,d),S_&&this.i&&3==A&&(u0(this.S,this.T,"tick",this.gb),this.T.start())):(qh(this.j,this.m,d,null),g0(this,d)),4==A&&yd(this),this.i&&!this.I&&(4==A?I0(this.l,this):(this.i=!1,Np(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ci(12)):(this.o=0,Ci(13)),yd(this),_d(this)}}}catch{}},gt.gb=function(){if(this.g){var n=os(this.g),e=this.g.fa();this.C<e.length&&(q_(this),sD(this,n,e),this.i&&4!=n&&Np(this))}},gt.cancel=function(){this.I=!0,yd(this)},gt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Zx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Op(3),Ci(17)),yd(this),this.o=2,_d(this)):VC(this,this.V-n)};var H_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $h){this.h=void 0!==e?e:n.h,Hh(this,n.j),this.s=n.s,this.g=n.g,_0(this,n.m),this.l=n.l,e=n.i;var t=new zh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),y0(this,t),this.o=n.o}else n&&(t=String(n).match(H_))?(this.h=!!e,Hh(this,t[1]||"",!0),this.s=Gh(t[2]||""),this.g=Gh(t[3]||"",!0),_0(this,t[4]),this.l=Gh(t[5]||"",!0),y0(this,t[6]||"",!0),this.o=Gh(t[7]||"")):(this.h=!!e,this.i=new zh(null,this.h))}function ju(n){return new $h(n)}function Hh(n,e,t){n.j=t?Gh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function y0(n,e,t){e instanceof zh?(n.i=e,function aD(n,e){e&&!n.j&&(qu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(jC(this,r),qC(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vd(e,oD)),n.i=new zh(e,n.h))}function Fn(n,e,t){n.i.set(e,t)}function Fp(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kc),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$h.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vd(e,Lp,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vd(e,Lp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vd(t,"/"==t.charAt(0)?Up:G_,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vd(t,v0)),n.join("")};var Lp=/[#\/\?@]/g,G_=/[#\?:]/g,Up=/[#\?]/g,oD=/[#\?@]/g,v0=/#/g;function zh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qu(n){n.g||(n.g=new Map,n.h=0,n.i&&function ZC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jC(n,e){qu(n),e=Vp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Wh(n,e){return qu(n),e=Vp(n,e),n.g.has(e)}function qC(n,e,t){jC(n,e),0<t.length&&(n.i=null,n.g.set(Vp(n,e),A_(t)),n.h+=t.length)}function Vp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $C(n){this.l=n||cD,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ga&&Vt.g.Ga()&&Vt.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=zh.prototype).add=function(n,e){qu(this),this.i=null,n=Vp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){qu(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},gt.oa=function(){qu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},gt.W=function(n){qu(this);let e=[];if("string"==typeof n)Wh(this,n)&&(e=e.concat(this.g.get(Vp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return qu(this),this.i=null,Wh(this,n=Vp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var s=u;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),n.push(s)}}return this.i=n.join("&")};var cD=10;function HC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function GC(n){return n.h?1:n.g?n.g.size:0}function z_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Bp(n,e){n.g?n.g.add(e):n.h=e}function zC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function W_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return A_(n.i)}function b0(){}function uD(){this.g=new b0}function lD(n,e,t){const r=t||"";try{BC(n,function(s,u){let d=s;T_(s)&&(d=Ip(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function K_(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Zp(n){this.l=n.$b||null,this.j=n.ib||!1}function bd(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Rc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$C.prototype.cancel=function(){if(this.i=W_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},b0.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},b0.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},ii(Zp,V_),Zp.prototype.g=function(){return new bd(this.l,this.j)},Zp.prototype.i=function(n){return function(){return n}}({}),ii(bd,Dr);var Rc=0;function hD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Nc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jp(n)}function jp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=bd.prototype).open=function(n,e){if(this.readyState!=Rc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jp(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nc(this)),this.readyState=Rc},gt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jp(this)),this.g&&(this.readyState=3,jp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hD(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},gt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nc(this):jp(this),3==this.readyState&&hD(this)}},gt.Ua=function(n){this.g&&(this.response=this.responseText=n,Nc(this))},gt.Ta=function(n){this.g&&(this.response=n,Nc(this))},gt.ga=function(){this.g&&Nc(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fD=Vt.JSON.parse;function lr(n){Dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WC,this.K=this.L=!1}ii(lr,Dr);var WC="",xa=/^https?$/i,qp=["POST","PUT"];function $u(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$p(n),Kh(n)}function $p(n){n.D||(n.D=!0,oi(n,"complete"),oi(n,"error"))}function xs(n){if(n.h&&typeof lC<"u"&&(!n.C[1]||4!=os(n)||2!=n.aa()))if(n.v&&4==os(n))Bu(n.Ha,0,n);else if(oi(n,"readystatechange"),4==os(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var s=String(n.H).match(H_)[1]||null;if(!s&&Vt.self&&Vt.self.location){var u=Vt.self.location.protocol;s=u.substr(0,u.length-1)}r=!xa.test(s?s.toLowerCase():"")}t=r}if(t)oi(n,"complete"),oi(n,"success");else{n.m=6;try{var d=2<os(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",$p(n)}}finally{Kh(n)}}}function Kh(n,e){if(n.g){wd(n);const t=n.g,r=n.C[0]?E_:null;n.g=null,n.C=null,e||oi(n,"ready");try{t.onreadystatechange=r}catch{}}}function wd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function os(n){return n.g?n.g.readyState:0}function Cd(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(n){let e="";return e0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Hu(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ed(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function Ma(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Td(n){this.Ca=0,this.i=[],this.j=new jh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ma("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ma("baseRetryDelayMs",5e3,n),this.ab=Ma("retryDelaySeedMs",1e4,n),this.Za=Ma("forwardChannelMaxRetries",2,n),this.ta=Ma("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $C(n&&n.concurrentRequestLimit),this.Fa=new uD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gu(n){if(w0(n),3==n.G){var e=n.U++,t=ju(n.F);Fn(t,"SID",n.I),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),Yh(n,t),(e=new kp(n,n.j,e,void 0)).K=2,e.v=Fp(ju(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=JC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Np(e)}X_(n)}function Fc(n){n.g&&(Q_(n),n.g.cancel(),n.g=null)}function w0(n){Fc(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),J_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function Hp(n){HC(n.h)||n.m||(n.m=!0,DC(n.Ja,n),n.C=0)}function C0(n,e){var t;t=e?e.m:n.U++;const r=ju(n.F);Fn(r,"SID",n.I),Fn(r,"RID",t),Fn(r,"AID",n.T),Yh(n,r),n.o&&n.s&&Hu(r,n.o,n.s),t=new kp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=E0(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Bp(n.h,t),Rp(t,r,e)}function Yh(n,e){n.ia&&e0(n.ia,function(t,r){Fn(e,r,t)}),n.l&&BC({},function(t,r){Fn(e,r,t)})}function E0(n,e,t){t=Math.min(n.i.length,t);var r=n.l?wi(n.l.Qa,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let f=!0;for(let _=0;_<t;_++){let w=s[_].h;const A=s[_].g;if(w-=u,0>w)u=Math.max(0,s[_].h-100),f=!1;else try{lD(A,d,"req"+w+"_")}catch{r&&r(A)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function T0(n){n.g||n.u||(n.Z=1,DC(n.Ia,n),n.A=0)}function Y_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=F_(wi(n.Ia,n),QC(n,n.A)),n.A++,0))}function Q_(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function YC(n){n.g=new kp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ju(n.sa);Fn(e,"RID","rpc"),Fn(e,"SID",n.I),Fn(e,"CI",n.L?"0":"1"),Fn(e,"AID",n.T),Fn(e,"TYPE","xmlhttp"),Yh(n,e),n.o&&n.s&&Hu(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Fp(ju(e)),t.s=null,t.P=!0,FC(t,n)}function J_(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function I0(n,e){var t=null;if(n.g==e){J_(n),Q_(n),n.g=null;var r=2}else{if(!z_(n.h,e))return;t=e.D,zC(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;oi(r=Mp(),new PC(r,t,e,s)),Hp(n)}else T0(n);else if(3==(s=e.o)||0==s&&0<n.pa||!(1==r&&function KC(n,e){return!(GC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=F_(wi(n.Ja,n,e),QC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Y_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:zu(n,5);break;case 4:zu(n,10);break;case 3:zu(n,6);break;default:zu(n,2)}}function QC(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function zu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=wi(n.jb,n);t||(t=new $h("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||Hh(t,"https"),Fp(t)),function dD(n,e){const t=new jh;if(Vt.Image){const r=new Image;r.onload=vp(K_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vp(K_,t,r,"TestLoadImage: error",!1,e),r.onabort=vp(K_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vp(K_,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ci(2);n.G=0,n.l&&n.l.va(e),X_(n),w0(n)}function X_(n){if(n.G=0,n.la=[],n.l){const e=W_(n.h);(0!=e.length||0!=n.i.length)&&(fC(n.la,e),fC(n.la,n.i),n.h.i.length=0,A_(n.i),n.i.length=0),n.l.ua()}}function ey(n,e,t){var r=t instanceof $h?ju(t):new $h(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),_0(r,r.m);else{var s=Vt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new $h(null,void 0);r&&Hh(u,r),e&&(u.g=e),s&&_0(u,s),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Fn(r,t,e),Fn(r,"VER",n.ma),Yh(n,r),r}function JC(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t&&n.Da&&!n.ra?new Zp({ib:!0}):n.ra)).L=n.H,e}function Gp(){}function Id(){if(Oc&&!(10<=Number(Jv)))throw Error("Environmental error: no available transport.")}function qi(n,e){Dr.call(this),this.g=new Td(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Vh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lc(this)}function XC(n){B_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zp(){h0.call(this),this.status=1}function Lc(n){this.g=n}(gt=lr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Z_.g(),this.C=function kC(n){return n.h||(n.h=n.i())}(this.u?this.u:Z_),this.g.onreadystatechange=wi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void $u(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Vt.FormData&&n instanceof Vt.FormData,!(0<=hC(qp,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wd(this),0<this.B&&((this.K=function Ei(n){return Oc&&function Ux(){return function gC(n){var e=vC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=KA(String(Bh)).split("."),t=KA("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=bp(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||bp(0==s[2].length,0==u[2].length)||bp(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wi(this.qa,this)):this.A=Bu(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$u(this,u)}},gt.qa=function(){typeof lC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oi(this,"complete"),oi(this,"abort"),Kh(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),lr.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?xs(this):this.eb())},gt.eb=function(){xs(this)},gt.aa=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fD(e)}},gt.Ea=function(){return this.m},gt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Td.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new kp(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=t0(u),bC(u,this.S)):u=this.S),null!==this.o||this.N||(s.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=E0(this,s,e),Fn(t=ju(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),Yh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Ed(u)))+"&"+e:this.o&&Hu(t,this.o,u)),Bp(this.h,s),this.Xa&&Fn(t,"TYPE","init"),this.O?(Fn(t,"$req",e),Fn(t,"SID","null"),s.Z=!0,Rp(s,t,null)):Rp(s,t,e),this.G=2}}else 3==this.G&&(n?C0(this,n):0==this.i.length||HC(this.h)||C0(this))},gt.Ia=function(){if(this.u=null,YC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=F_(wi(this.cb,this),n)}},gt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ci(10),Fc(this),YC(this))},gt.bb=function(){null!=this.v&&(this.v=null,Fc(this),Y_(this),Ci(19))},gt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Ci(2)):(this.j.info("Failed to ping google.com"),Ci(1))},(gt=Gp.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Qa=function(){},Id.prototype.g=function(n,e){return new qi(n,e)},ii(qi,Dr),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ci(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ey(n,null,n.V),Hp(n)},qi.prototype.close=function(){Gu(this.g)},qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ip(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&Hp(e)},qi.prototype.M=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,qi.X.M.call(this)},ii(XC,B_),ii(zp,h0),ii(Lc,Gp),Lc.prototype.xa=function(){oi(this.g,"a")},Lc.prototype.wa=function(n){oi(this.g,new XC(n))},Lc.prototype.va=function(n){oi(this.g,new zp(n))},Lc.prototype.ua=function(){oi(this.g,"b")},Id.prototype.createWebChannel=Id.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,L_.NO_ERROR=0,L_.TIMEOUT=8,L_.HTTP_ERROR=6,U_.COMPLETE="complete",RC.EventType=Pp,Pp.OPEN="a",Pp.CLOSE="b",Pp.ERROR="c",Pp.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.Na,lr.prototype.getLastErrorCode=lr.prototype.Ea,lr.prototype.getStatus=lr.prototype.aa,lr.prototype.getResponseJson=lr.prototype.Ra,lr.prototype.getResponseText=lr.prototype.fa,lr.prototype.send=lr.prototype.da;var A0=xc.createWebChannelTransport=function(){return new Id},eE=xc.getStatEventTarget=function(){return Mp()},Wp=xc.ErrorCode=L_,tE=xc.EventType=U_,nE=xc.Event=Zu,ty=xc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rE=xc.FetchXmlHttpFactory=Zp,ny=xc.WebChannel=RC,iE=xc.XhrIo=lr;const D0="@firebase/firestore";class Pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");let Ad="9.10.0";const Wu=new Nu.Yd("@firebase/firestore");function ry(){return Wu.logLevel}function ke(n,...e){if(Wu.logLevel<=Nu.in.DEBUG){const t=e.map(iy);Wu.debug(`Firestore (${Ad}): ${n}`,...t)}}function qn(n,...e){if(Wu.logLevel<=Nu.in.ERROR){const t=e.map(iy);Wu.error(`Firestore (${Ad}): ${n}`,...t)}}function Uc(n,...e){if(Wu.logLevel<=Nu.in.WARN){const t=e.map(iy);Wu.warn(`Firestore (${Ad}): ${n}`,...t)}}function iy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Ad}) INTERNAL ASSERTION FAILED: `+n;throw qn(e),new Error(e)}function Ot(n,e){n||it()}function We(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ut.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pr.UNAUTHENTICATED))}shutdown(){}}class cE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gD{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=w=>this.i!==s?(s=this.i,t(w)):Promise.resolve();let d=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ai,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},_=w=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ai)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new aE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Pr(e)}}class kr{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ot(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class uE{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s}getToken(){return Promise.resolve(new kr(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?s(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.A=t.token,new lE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class S0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=yD(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function Bo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function dE(n){return n+"\0"}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new $n(0,0))}static max(){return new It(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kp{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Kp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xt extends Kp{construct(e,t,r){return new Xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Kp{construct(e,t,r){return new Hn(e,t,r)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const f=e[s];if("\\"===f){if(s+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,s+=2}else"`"===f?(d=!d,s++):"."!==f||d?(r+=f,s++):(u(),s++)}if(u(),d)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Xt.fromString(e))}static fromName(e){return new $e(Xt.fromString(e).popFirst(5))}static empty(){return new $e(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Xt(e.slice()))}}class Ms{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function x0(n){return n.fields.find(e=>2===e.kind)}function Ku(n){return n.fields.filter(e=>2!==e.kind)}Ms.UNKNOWN_ID=-1;class as{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qh(0,Os.min())}}function M0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=It.fromTimestamp(1e9===r?new $n(t+1,0):new $n(t,r));return new Os(s,$e.empty(),e)}function hE(n){return new Os(n.readTime,n.key,-1)}class Os{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Os(It.min(),$e.empty(),-1)}static max(){return new Os(It.max(),$e.empty(),-1)}}function O0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Rt(n.largestBatchId,e.largestBatchId))}const fE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function uo(n){return P0.apply(this,arguments)}function P0(){return P0=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==fE)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),P0.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let s=0,u=0,d=!1;e.forEach(f=>{++s,f.next(()=>{++u,d&&u===s&&t()},_=>r(_))}),d=!0,u===s&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(s=>s?ae.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,s)=>{const u=e.length,d=new Array(u);let f=0;for(let _=0;_<u;_++){const w=_;t(e[w]).next(A=>{d[w]=A,++f,f===u&&r(d)},A=>s(A))}})}static doWhile(e,t){return new ae((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class oy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Yu(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const s=Jh(r.target.error);this.P.reject(new Yu(e,s))}}static open(e,t,r,s){try{return new oy(t,e.transaction(s,r))}catch(u){throw new Yu(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gE(t)}}class lo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===lo.D((0,Ut.z$)())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Ju(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ut.hl)())return!1;if(lo.N())return!0;const e=(0,Ut.z$)(),t=lo.D(e),r=0<t&&t<10,s=lo.k(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new Yu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const f=d.target.error;s("VersionError"===f.name?new Oe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Yu(e,f))},u.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,ve.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const _=oy.open(u.db,e,d?"readonly":"readwrite",r),w=s(_).next(A=>(_.V(),A)).catch(A=>(_.abort(A),ae.reject(A))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,A="FirebaseError"!==w.name&&f<3;if(ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",A),u.close(),!A)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pE{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Ju(this.U.delete())}}class Yu extends Oe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qu(n){return"IndexedDbTransactionError"===n.name}class gE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ju(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Ju(this.store.add(e))}get(e){return Ju(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Ju(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Ju(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.H(s,(d,f)=>{u.push(f)}).next(()=>u)}{const s=this.store.getAll(r.range);return new ae((u,d)=>{s.onerror=f=>{d(f.target.error)},s.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Y(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,(u,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}tt(e){const t=this.cursor({});return new ae((r,s)=>{t.onerror=u=>{const d=Jh(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new ae((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void s();const _=new pE(f),w=t(f.primaryKey,f.value,_);if(w instanceof ae){const A=w.catch(x=>(_.done(),ae.reject(x)));r.push(A)}_.isDone?s():null===_.G?f.continue():f.continue(_.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ju(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Jh(r.target.error);t(s)}})}let ay=!1;function Jh(n){const e=lo.D((0,Ut.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ay||(ay=!0,setTimeout(()=>{throw r},0)),r}}return n}class k0{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Qu(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield uo(r)}yield t.nt(6e4)}))}}class mE{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let s=t,u=!0;return ae.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ke("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,s).next(f=>{s-=f,r.add(d)});u=!1})).next(()=>t-s)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(s,u)).next(f=>(ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((s,u)=>{const d=hE(u);O0(d,r)>0&&(r=d)}),new Os(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function R0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function N0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$i.at=-1;class er{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??ci.RED,this.left=s??ci.EMPTY,this.right=u??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new ci(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return ci.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,s){return this}insert(n,e,t){return new ci(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xh(n){return n.hasNext()?n.getNext():void 0}class Ps{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Ps([])}unionWith(e){let t=new Cn(Hn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const bD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=bD.exec(n);if(Ot(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dd(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function F0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yE(n){const e=n.mapValue.fields.__previous_value__;return F0(e)?yE(e):e}function Qp(n){const e=el(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class wD{constructor(e,t,r,s,u,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}function Jp(n){return null==n}function Xp(n){return 0===n&&1/n==-1/0}function L0(n){return"number"==typeof n&&Number.isInteger(n)&&!Xp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eg={nullValue:"NULL_VALUE"};function nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?F0(n)?4:CD(n)?9007199254740991:10:it()}function jo(n,e){if(n===e)return!0;const t=nl(n);if(t!==nl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qp(n).isEqual(Qp(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=el(r.timestampValue),d=el(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Dd(n.bytesValue).isEqual(Dd(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return dr(r.geoPointValue.latitude)===dr(s.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return dr(r.integerValue)===dr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=dr(r.doubleValue),d=dr(s.doubleValue);return u===d?Xp(u)===Xp(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(R0(u)!==R0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===d[f]||!jo(u[f],d[f])))return!1;return!0}(n,e);default:return it()}var s}function ef(n,e){return void 0!==(n.values||[]).find(t=>jo(t,e))}function Bc(n,e){if(n===e)return 0;const t=nl(n),r=nl(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=dr(s.integerValue||s.doubleValue),f=dr(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return U0(n.timestampValue,e.timestampValue);case 4:return U0(Qp(n),Qp(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Dd(s),f=Dd(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),f=u.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Rt(d[_],f[_]);if(0!==w)return w}return Rt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Rt(dr(s.latitude),dr(u.latitude));return 0!==d?d:Rt(dr(s.longitude),dr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],f=u.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=Bc(d[_],f[_]);if(w)return w}return Rt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Vc.mapValue&&u===Vc.mapValue)return 0;if(s===Vc.mapValue)return 1;if(u===Vc.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),_=u.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let A=0;A<f.length&&A<w.length;++A){const x=Rt(f[A],w[A]);if(0!==x)return x;const F=Bc(d[f[A]],_[w[A]]);if(0!==F)return F}return Rt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw it()}}function U0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=el(n),r=el(e),s=Rt(t.seconds,r.seconds);return 0!==s?s:Rt(t.nanos,r.nanos)}function Sd(n){return cy(n)}function cy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=el(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dd(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=cy(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const f of s)d?d=!1:u+=",",u+=`${f}:${cy(r.fields[f])}`;return u+"}"}(n.mapValue):it();var e}function rl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zc(n){return!!n&&"integerValue"in n}function tg(n){return!!n&&"arrayValue"in n}function vE(n){return!!n&&"nullValue"in n}function xd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V0(n){return!!n&&"mapValue"in n}function Md(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Md(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Md(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function bE(n){return"nullValue"in n?eg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rl(tl.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function wE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rl(tl.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Vc:it()}function ED(n,e){const t=Bc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Et(n,e){const t=Bc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!V0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(t)}setAll(e){let t=Hn.emptyPath(),r={},s=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,s),r={},s=[],t=f.popLast()}d?r[f.lastSegment()]=Md(d):s.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());V0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];V0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Xu(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ui(Md(this.value))}}function CE(n){const e=[];return Xu(n.fields,(t,r)=>{const s=new Hn([t]);if(V0(r)){const u=CE(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new Ps(e)}class xn{constructor(e,t,r,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,It.min(),It.min(),ui.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new xn(e,2,t,It.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,It.min(),ui.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tf{constructor(e,t=null,r=[],s=[],u=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=f,this.ht=null}}function EE(n,e=null,t=[],r=[],s=null,u=null,d=null){return new tf(n,e,t,r,s,u,d)}function Pa(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Sd(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Jp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sd(r)).join(",")),e.ht=t}return e.ht}function Mn(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!ly(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!jo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!q0(n.startAt,e.startAt)&&q0(n.endAt,e.endAt)}function B0(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ng(n,e){return n.filters.filter(t=>t instanceof Gr&&t.field.isEqual(e))}function Z0(n,e,t){let r=eg,s=!0;for(const u of ng(n,e)){let d=eg,f=!0;switch(u.op){case"<":case"<=":d=bE(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,f=!1;break;case"!=":case"not-in":d=eg}ED({value:r,inclusive:s},{value:d,inclusive:f})<0&&(r=d,s=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];ED({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function TE(n,e,t){let r=Vc,s=!0;for(const u of ng(n,e)){let d=Vc,f=!0;switch(u.op){case">=":case">":d=wE(u.value),f=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,f=!1;break;case"!=":case"not-in":d=Vc}Et({value:r,inclusive:s},{value:d,inclusive:f})>0&&(r=d,s=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Et({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Gr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new IE(e,t,r):"array-contains"===t?new TD(e,r):"in"===t?new ID(e,r):"not-in"===t?new rg(e,r):"array-contains-any"===t?new AD(e,r):new Gr(e,t,r)}static lt(e,t,r){return"in"===t?new AE(e,r):new DE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Bc(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.ft(Bc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class IE extends Gr{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.ft(t)}}class AE extends Gr{constructor(e,t){super(e,"in",t),this.keys=SE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DE extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=SE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class TD extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tg(t)&&ef(t.arrayValue,this.value)}}class ID extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ef(this.value.arrayValue,t)}}class rg extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ef(this.value.arrayValue,t)}}class AD extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}class il{constructor(e,t){this.position=e,this.inclusive=t}}class nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function ly(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function j0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?$e.comparator($e.fromName(d.referenceValue),t.key):Bc(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function q0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jo(n.position[t],e.position[t]))return!1;return!0}class ka{constructor(e,t=null,r=[],s=[],u=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function xE(n,e,t,r,s,u,d,f){return new ka(n,e,t,r,s,u,d,f)}function Ra(n){return new ka(n)}function rf(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function H0(n){for(const e of n.filters)if(e.dt())return e.field;return null}function G0(n){return null!==n.collectionGroup}function Od(n){const e=We(n);if(null===e._t){e._t=[];const t=H0(e),r=$0(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new nf(t)),e._t.push(new nf(Hn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nf(Hn.keyField(),u))}}}return e._t}function Hi(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=EE(e.path,e.collectionGroup,Od(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Od(e))t.push(new nf(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new il(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new il(e.startAt.position,e.startAt.inclusive):null;e.wt=EE(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.wt}function ig(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sg(n,e){return Mn(Hi(n),Hi(e))&&n.limitType===e.limitType}function z0(n){return`${Pa(Hi(n))}|lt:${n.limitType}`}function W0(n){return`Query(target=${function uy(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sd(r.value)}`;var r}).join(", ")}]`),Jp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sd(t)).join(",")),`Target(${e})`}(Hi(n))}; limitType=${n.limitType})`}function K0(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):$e.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const f=j0(s,u,d);return s.inclusive?f<=0:f<0}(t.startAt,Od(t),r)||t.endAt&&!function(s,u,d){const f=j0(s,u,d);return s.inclusive?f>=0:f>0}(t.endAt,Od(t),r)));var t,r}function DD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SD(n){return(e,t)=>{let r=!1;for(const s of Od(n)){const u=$x(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function $x(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(s,u,d){const f=u.data.field(s),_=d.data.field(s);return null!==f&&null!==_?Bc(f,_):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function xD(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function Y0(n){return{integerValue:""+n}}function og(n,e){return L0(e)?Y0(e):xD(n,e)}class dy{constructor(){this._=void 0}}function MD(n,e,t){return n instanceof af?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Pd?OE(n,e):n instanceof kd?PE(n,e):function(r,s){const u=sf(r,s),d=kE(u)+kE(r.yt);return Zc(u)&&Zc(r.yt)?Y0(d):xD(r.It,d)}(n,e)}function ME(n,e,t){return n instanceof Pd?OE(n,e):n instanceof kd?PE(n,e):t}function sf(n,e){return n instanceof Rd?Zc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class af extends dy{}class Pd extends dy{constructor(e){super(),this.elements=e}}function OE(n,e){const t=RE(e);for(const r of n.elements)t.some(s=>jo(s,r))||t.push(r);return{arrayValue:{values:t}}}class kd extends dy{constructor(e){super(),this.elements=e}}function PE(n,e){let t=RE(e);for(const r of n.elements)t=t.filter(s=>!jo(s,r));return{arrayValue:{values:t}}}class Rd extends dy{constructor(e,t){super(),this.It=e,this.yt=t}}function kE(n){return dr(n.integerValue||n.doubleValue)}function RE(n){return tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Na{constructor(e,t){this.field=e,this.transform=t}}class NE{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ag(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hy{}function Q0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cf(n.key,Gn.none()):new Fd(n.key,n.data,Gn.none());{const t=n.data,r=ui.empty();let s=new Cn(Hn.comparator);for(let u of e.fields)if(!s.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),s=s.add(u)}return new jc(n.key,r,new Ps(s.toArray()),Gn.none())}}function PD(n,e,t){n instanceof Fd?function(r,s,u){const d=r.value.clone(),f=LE(r.fieldTransforms,s,u.transformResults);d.setAll(f),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof jc?function(r,s,u){if(!ag(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=LE(r.fieldTransforms,s,u.transformResults),f=s.data;f.setAll(FE(r)),f.setAll(d),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Nd(n,e,t,r){return n instanceof Fd?function(s,u,d,f){if(!ag(s.precondition,u))return d;const _=s.value.clone(),w=fy(s.fieldTransforms,f,u);return _.setAll(w),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof jc?function(s,u,d,f){if(!ag(s.precondition,u))return d;const _=fy(s.fieldTransforms,f,u),w=u.data;return w.setAll(FE(s)),w.setAll(_),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,ag(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function kD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=sf(r.transform,s||null);null!=u&&(null===t&&(t=ui.empty()),t.set(r.field,u))}return t||null}function J0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Bo(t,r,(s,u)=>function OD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Pd&&r instanceof Pd||t instanceof kd&&r instanceof kd?Bo(t.elements,r.elements,jo):t instanceof Rd&&r instanceof Rd?jo(t.yt,r.yt):t instanceof af&&r instanceof af);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fd extends hy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jc extends hy{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LE(n,e,t){const r=new Map;Ot(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,f=e.data.field(u.field);r.set(u.field,ME(d,f,t[s]))}return r}function fy(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,MD(u,d,e))}return r}class cf extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class py extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RD{constructor(e){this.count=e}}var Sr,on;function UE(n){switch(n){default:return it();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function VE(n){if(void 0===n)return qn("GRPC error has no .code"),de.UNKNOWN;switch(n){case Sr.OK:return de.OK;case Sr.CANCELLED:return de.CANCELLED;case Sr.UNKNOWN:return de.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return de.INTERNAL;case Sr.UNAVAILABLE:return de.UNAVAILABLE;case Sr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Sr.NOT_FOUND:return de.NOT_FOUND;case Sr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Sr.ABORTED:return de.ABORTED;case Sr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Sr.DATA_LOSS:return de.DATA_LOSS;default:return it()}}(on=Sr||(Sr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}const ND=new er($e.comparator);function cs(){return ND}const X0=new er($e.comparator);function uf(...n){let e=X0;for(const t of n)e=e.insert(t.key,t);return e}function BE(n){let e=X0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fa(){return cg()}function eb(){return cg()}function cg(){return new sl(n=>n.toString(),(n,e)=>n.isEqual(e))}const FD=new er($e.comparator),LD=new Cn($e.comparator);function Bt(...n){let e=LD;for(const t of n)e=e.add(t);return e}const tb=new Cn(Rt);function ug(){return tb}class Ld{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ld(It.min(),r,ug(),cs(),Bt())}}class lg{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new lg(Rr.EMPTY_BYTE_STRING,t,Bt(),Bt(),Bt())}}class gy{constructor(e,t,r,s){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=s}}class my{constructor(e,t){this.targetId=e,this.At=t}}class ZE{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class nb{constructor(){this.Rt=0,this.bt=jE(),this.Pt=Rr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Bt(),t=Bt(),r=Bt();return this.bt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:it()}}),new lg(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=jE()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class lf{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=cs(),this.qt=rb(),this.Kt=new Cn(Rt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,s)=>{this.Ht(s)&&t(s)})}Yt(e){const t=e.targetId,r=e.At.count,s=this.Xt(t);if(s){const u=s.target;if(B0(u))if(0===r){const d=new $e(u.path);this.jt(t,d,xn.newNoDocument(d,It.min()))}else Ot(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const f=this.Xt(d);if(f){if(u.current&&B0(f.target)){const _=new $e(f.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,xn.newNoDocument(_,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=Bt();this.qt.forEach((u,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const s=new Ld(e,t,this.Kt,this.Ut,r);return this.Ut=cs(),this.qt=rb(),this.Kt=new Cn(Rt),s}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,t)?s.kt(t,1):s.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new nb,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Cn(Rt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new nb),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function rb(){return new er($e.comparator)}function jE(){return new er($e.comparator)}const Hx={asc:"ASCENDING",desc:"DESCENDING"},qE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ib{constructor(e,t){this.databaseId=e,this.gt=t}}function dg(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _y(n,e){return n.gt?e.toBase64():e.toUint8Array()}function UD(n,e){return dg(n,e.toTimestamp())}function Nr(n){return Ot(!!n),It.fromTimestamp(function(e){const t=el(e);return new $n(t.seconds,t.nanos)}(n))}function hg(n,e){return(t=n,new Xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sb(n){const e=Xt.fromString(n);return Ot(JE(e)),e}function df(n,e){return hg(n.databaseId,e.path)}function qo(n,e){const t=sb(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(HE(t))}function yy(n,e){return hg(n.databaseId,e)}function $E(n){const e=sb(n);return 4===e.length?Xt.emptyPath():HE(e)}function fg(n){return new Xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HE(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GE(n,e,t){return{name:df(n,e),fields:t.value.mapValue.fields}}function ob(n,e,t){const r=qo(n,e.name),s=Nr(e.updateTime),u=new ui({mapValue:{fields:e.fields}}),d=xn.newFoundDocument(r,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function pg(n,e){let t;if(e instanceof Fd)t={update:GE(n,e.key,e.value)};else if(e instanceof cf)t={delete:df(n,e.key)};else if(e instanceof jc)t={update:GE(n,e.key,e.data),updateMask:qD(e.fieldMask)};else{if(!(e instanceof py))return it();t={verify:df(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof af)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rd)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:UD(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:it()),t;var s}function ab(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Gn.updateTime(Nr(s.updateTime)):void 0!==s.exists?Gn.exists(s.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let f=null;"setToServerValue"in d?(Ot("REQUEST_TIME"===d.setToServerValue),f=new af):"appendMissingElements"in d?f=new Pd(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new kd(d.removeAllFromArray.values||[]):"increment"in d?f=new Rd(u,d.increment):it();const _=Hn.fromServerFormat(d.fieldPath);return new Na(_,f)}(n,s)):[];var s;if(e.update){const s=qo(n,e.update.name),u=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ps((e.updateMask.fieldPaths||[]).map(w=>Hn.fromServerFormat(w)));return new jc(s,u,d,t,r)}return new Fd(s,u,t,r)}if(e.delete){const s=qo(n,e.delete);return new cf(s,t)}if(e.verify){const s=qo(n,e.verify);return new py(s,t)}return it()}function VD(n,e){return{documents:[yy(n,e.path)]}}function WE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(_){if(0===_.length)return;const w=_.map(A=>function(x){if("=="===x.op){if(xd(x.value))return{unaryFilter:{field:hf(x.field),op:"IS_NAN"}};if(vE(x.value))return{unaryFilter:{field:hf(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(xd(x.value))return{unaryFilter:{field:hf(x.field),op:"IS_NOT_NAN"}};if(vE(x.value))return{unaryFilter:{field:hf(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hf(x.field),op:BD(x.op),value:x.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(_){if(0!==_.length)return _.map(w=>{return{field:hf((A=w).field),direction:QE(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=e.limit,n.gt||Jp(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function KE(n){let e=$E(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ot(1===r);const A=t.from[0];A.allDescendants?s=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=cb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new nf(ff((x=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(A){let x;return x="object"==typeof A?A.value:A,Jp(x)?null:x}(t.limit));let _=null;var A;t.startAt&&(_=new il((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new il(A.values||[],!A.before)}(t.endAt)),xE(e,s,d,u,f,"F",_,w)}function cb(n){return n?void 0!==n.unaryFilter?[jD(n)]:void 0!==n.fieldFilter?[ZD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>cb(e)).reduce((e,t)=>e.concat(t)):it():[]}function QE(n){return Hx[n]}function BD(n){return qE[n]}function hf(n){return{fieldPath:n.canonicalString()}}function ff(n){return Hn.fromServerFormat(n.fieldPath)}function ZD(n){return Gr.create(ff(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function jD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ff(n.unaryFilter.field);return Gr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ff(n.unaryFilter.field);return Gr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ff(n.unaryFilter.field);return Gr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ff(n.unaryFilter.field);return Gr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function qD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ub(e)),e=XE(n.get(t),e);return ub(e)}function XE(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ub(n){return n+"\x01\x01"}function $o(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Xt.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&it(),n.charAt(d+1)){case"\x01":const f=n.substring(u,d);let _;0===s.length?_=f:(s+=f,_=s,s=""),r.push(_);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:it()}u=d+2}return new Xt(r)}const lb=["userId","batchId"];function gg(n,e){return[n,Fr(e)]}function db(n,e,t){return[n,Fr(e),t]}const $D={},Wx=["prefixPath","collectionGroup","readTime","documentId"],eT=["prefixPath","collectionGroup","documentId"],HD=["collectionGroup","readTime","prefixPath","documentId"],GD=["canonicalId","targetId"],zD=["targetId","path"],WD=["path","targetId"],mg=["collectionId","parent"],KD=["indexId","uid"],hb=["uid","sequenceNumber"],La=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YD=["indexId","uid","orderedDocumentKey"],fb=["userId","collectionPath","documentId"],_g=["userId","collectionPath","largestBatchId"],QD=["userId","collectionGroup","largestBatchId"],tT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JD=[...tT,"documentOverlays"],yg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vg=yg,XD=[...vg,"indexConfiguration","indexState","indexEntries"];class pb extends sy{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Lr(n,e){const t=We(n);return lo.O(t.ie,e)}class vy{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&PD(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=eb();return this.mutations.forEach(s=>{const u=e.get(s.key),d=u.overlayedDocument;let f=this.applyToLocalView(d,u.mutatedFields);f=t.has(s.key)?null:f;const _=Q0(d,f);null!==_&&r.set(s.key,_),d.isValidDocument()||d.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bt())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(t,r)=>J0(t,r))&&Bo(this.baseMutations,e.baseMutations,(t,r)=>J0(t,r))}}class bg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ot(e.mutations.length===r.length);let s=FD;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new bg(e,t,r,s)}}class by{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ol{constructor(e,t,r,s,u=It.min(),d=It.min(),f=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new ol(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ol(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nT{constructor(e){this.re=e}}function wy(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:df(s=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:dg(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:al(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:al(e.version)}}var s,u;return r}function pf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function al(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qc(n){const e=new $n(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function $c(n,e){const t=(e.baseMutations||[]).map(u=>ab(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>ab(n.re,u)),s=$n.fromMillis(e.localWriteTimeMs);return new vy(e.batchId,s,t,r)}function wg(n){const e=qc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qc(n.lastLimboFreeSnapshotVersion):It.min();let r;var s;return void 0!==n.query.documents?(Ot(1===(s=n.query).documents.length),r=Hi(Ra($E(s.documents[0])))):r=Hi(KE(n.query)),new ol(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function rT(n,e){const t=al(e.snapshotVersion),r=al(e.lastLimboFreeSnapshotVersion);let s;s=B0(e.target)?VD(n.re,e.target):WE(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function gb(n){const e=KE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ig(e,e.limit,"L"):e}function mb(n,e){return new by(e.largestBatchId,ab(n.re,e.overlayMutation))}function _b(n,e){const t=e.path.lastSegment();return[n,Fr(e.path.popLast()),t]}function Cy(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:al(r.readTime),documentKey:Fr(r.documentKey.path),largestBatchId:r.largestBatchId}}class iT{getBundleMetadata(e,t){return yb(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:qc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return yb(e).put({bundleId:(r=t).id,createTime:al(Nr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return vb(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:gb(s.bundledQuery),readTime:qc(s.readTime)};var s})}saveNamedQuery(e,t){return vb(e).put({name:(r=t).name,readTime:al(Nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function yb(n){return Lr(n,"bundles")}function vb(n){return Lr(n,"namedQueries")}class Cg{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Cg(e,t.uid||"")}getOverlay(e,t){return Eg(e).get(_b(this.userId,t)).next(r=>r?mb(this.It,r):null)}getOverlays(e,t){const r=Fa();return ae.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const f=new by(t,d);s.push(this.ue(e,f))}),ae.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Fr(d.getCollectionPath())));const u=[];return s.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Eg(e).Y("collectionPathOverlayIndex",f))}),ae.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Fa(),u=Fr(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Eg(e).W("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=mb(this.It,_);s.set(w.getKey(),w)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Fa();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Eg(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,w,A)=>{const x=mb(this.It,w);u.size()<s||x.largestBatchId===d?(u.set(x.getKey(),x),d=x.largestBatchId):A.done()}).next(()=>u)}ue(e,t){return Eg(e).put(function(r,s,u){const[d,f,_]=_b(s,u.mutation.key);return{userId:s,collectionPath:f,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:pg(r.re,u.mutation)}}(this.It,this.userId,t))}}function Eg(n){return Lr(n,"documentOverlays")}class cl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(dr(e.integerValue));else if("doubleValue"in e){const r=dr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Xp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Dd(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?CD(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):it()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const s of Object.keys(r))this._e(s,t),this.ae(r[s],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const s of r)this.ae(s,t)}ge(e,t){this.le(t,37),$e.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function sT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function oT(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=sT(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}cl.Te=new cl;class aT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=t.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const s=t.codePointAt(0);this.Pe(240|s>>>18),this.Pe(128|63&s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s)}}this.ve()}De(e){const t=this.Ce(e),r=oT(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Ne(e){const t=this.Ce(e),r=oT(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class cT{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Gi{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ua{constructor(){this.Be=new aT,this.Le=new cT(this.Be),this.Ue=new Gi(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ud{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ud(this.indexId,this.documentKey,this.arrayValue,r)}}function Vd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=e1(n.arrayValue,e.arrayValue),0!==t?t:(t=e1(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function e1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Yx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=x0(e);if(void 0!==t&&!this.ze(t))return!1;const r=Ku(e);let s=0,u=0;for(;s<r.length&&this.ze(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.je){const d=r[s];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class uT{constructor(){this.Ye=new Ey}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Os.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Ey{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Cn(Xt.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cn(Xt.comparator)).toArray()}}const ul=new Uint8Array(0);class t1{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ey,this.Ze=new sl(r=>Pa(r),(r,s)=>Mn(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Fr(s)};return Ty(e).put(u)}return ae.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[dE(t),""],!1,!0);return Ty(e).W(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push($o(d.parent))}return r})}addFieldIndex(e,t){const r=Ig(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete s.indexId;const u=r.add(s);if(t.indexState){const d=Ag(e);return u.next(f=>{d.put(Cy(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ig(e),s=Ag(e),u=Tg(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Tg(e);let s=!0;const u=new Map;return ae.forEach(this.tn(t),d=>this.en(e,d).next(f=>{s&&(s=!!f),u.set(d,f)})).next(()=>{if(s){let d=Bt();const f=[];return ae.forEach(u,(_,w)=>{var A;ke("IndexedDbIndexManager",`Using index ${A=_,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${Pa(t)}`);const x=function(Qe,Ge){const _t=x0(Ge);if(void 0===_t)return null;for(const vt of ng(Qe,_t.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null}(w,_),F=function(Qe,Ge){const _t=new Map;for(const vt of Ku(Ge))for(const Wt of ng(Qe,vt.fieldPath))switch(Wt.op){case"==":case"in":_t.set(vt.fieldPath.canonicalString(),Wt.value);break;case"not-in":case"!=":return _t.set(vt.fieldPath.canonicalString(),Wt.value),Array.from(_t.values())}return null}(w,_),U=function(Qe,Ge){const _t=[];let vt=!0;for(const Wt of Ku(Ge)){const Ur=0===Wt.kind?Z0(Qe,Wt.fieldPath,Qe.startAt):TE(Qe,Wt.fieldPath,Qe.startAt);_t.push(Ur.value),vt&&(vt=Ur.inclusive)}return new il(_t,vt)}(w,_),B=function(Qe,Ge){const _t=[];let vt=!0;for(const Wt of Ku(Ge)){const Ur=0===Wt.kind?TE(Qe,Wt.fieldPath,Qe.endAt):Z0(Qe,Wt.fieldPath,Qe.endAt);_t.push(Ur.value),vt&&(vt=Ur.inclusive)}return new il(_t,vt)}(w,_),re=this.nn(_,w,U),he=this.nn(_,w,B),Ze=this.sn(_,w,F),Ke=this.rn(_.indexId,x,re,U.inclusive,he,B.inclusive,Ze);return ae.forEach(Ke,Qe=>r.J(Qe,t.limit).next(Ge=>{Ge.forEach(_t=>{const vt=$e.fromSegments(_t.documentKey);d.has(vt)||(d=d.add(vt),f.push(vt))})}))}).next(()=>f)}return ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,s,u,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),w=_/(null!=t?t.length:1),A=[];for(let x=0;x<_;++x){const F=t?this.on(t[x/w]):ul,U=this.un(e,F,r[x%w],s),B=this.cn(e,F,u[x%w],d),re=f.map(he=>this.un(e,F,he,!0));A.push(...this.createRange(U,B,re))}return A}un(e,t,r,s){const u=new Ud(e,$e.empty(),t,r);return s?u:u.Ke()}cn(e,t,r,s){const u=new Ud(e,$e.empty(),t,r);return s?u.Ke():u}en(e,t){const r=new Yx(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const f of u)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return ae.forEach(this.tn(t),s=>this.en(e,s).next(u=>{u?0!==r&&u.fields.length<function(d){let f=new Cn(Hn.comparator),_=!1;for(const w of d.filters){const A=w;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?_=!0:f=f.add(A.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(s)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Ua;for(const s of Ku(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.qe(s.kind);cl.Te.ce(u,d)}return r.$e()}on(e){const t=new Ua;return cl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Ua;return cl.Te.ce(rl(this.databaseId,t),r.qe(function(s){const u=Ku(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let s=[];s.push(new Ua);let u=0;for(const d of Ku(e)){const f=r[u++];for(const _ of s)if(this.ln(t,d.fieldPath)&&tg(f))s=this.fn(s,d,f);else{const w=_.qe(d.kind);cl.Te.ce(f,w)}}return this.dn(s)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const f of s){const _=new Ua;_.seed(f.$e()),cl.Te.ce(d,_.qe(t.kind)),u.push(_)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Gr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ig(e),s=Ag(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ae.forEach(u,f=>s.get([f.indexId,this.uid]).next(_=>{d.push(function(w,A){const x=A?new Qh(A.sequenceNumber,new Os(qc(A.readTime),new $e($o(A.documentKey)),A.largestBatchId)):Qh.empty(),F=w.fields.map(([U,B])=>new as(Hn.fromServerFormat(U),B));return new Ms(w.indexId,w.collectionGroup,F,x)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Rt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Ig(e),u=Ag(e);return this._n(e).next(d=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,_=>u.put(Cy(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?ae.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(f=>(r.set(s.collectionGroup,f),ae.forEach(f,_=>this.wn(e,s,_).next(w=>{const A=this.mn(u,_);return w.isEqual(A)?ae.resolve():this.gn(e,u,_,w,A)}))))})}yn(e,t,r,s){return Tg(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,s){return Tg(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const s=Tg(e);let u=new Cn(Vd);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{u=u.add(new Ud(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}mn(e,t){let r=new Cn(Vd);const s=this.an(t,e);if(null==s)return r;const u=x0(t);if(null!=u){const d=e.data.field(u.fieldPath);if(tg(d))for(const f of d.arrayValue.values||[])r=r.add(new Ud(t.indexId,e.key,this.on(f),s))}else r=r.add(new Ud(t.indexId,e.key,ul,s));return r}gn(e,t,r,s,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,A,x){const F=f.getIterator(),U=_.getIterator();let B=Xh(F),re=Xh(U);for(;B||re;){let he=!1,Ze=!1;if(B&&re){const Ke=w(B,re);Ke<0?Ze=!0:Ke>0&&(he=!0)}else null!=B?Ze=!0:he=!0;he?(A(re),re=Xh(U)):Ze?(x(B),B=Xh(F)):(B=Xh(F),re=Xh(U))}}(s,u,Vd,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),ae.waitFor(d)}_n(e){let t=1;return Ag(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Vd(d,f)).filter((d,f,_)=>!f||0!==Vd(d,_[f-1]));const s=[];s.push(e);for(const d of r){const f=Vd(d,e),_=Vd(d,t);if(0===f)s[0]=e.Ke();else if(f>0&&_<0)s.push(d),s.push(d.Ke());else if(_>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2)u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,ul,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,ul,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lT)}getMinOffset(e,t){return ae.mapArray(this.tn(t),r=>this.en(e,r).next(s=>s||it())).next(lT)}}function Ty(n){return Lr(n,"collectionParents")}function Tg(n){return Lr(n,"indexEntries")}function Ig(n){return Lr(n,"indexConfiguration")}function Ag(n){return Lr(n,"indexState")}function lT(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;O0(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Os(e.readTime,e.documentKey,t)}const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ti{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bb(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:d},(A,x,F)=>(f++,F.delete()));u.push(_.next(()=>{Ot(1===f)}));const w=[];for(const A of t.mutations){const x=db(e,A.key.path,t.batchId);u.push(s.delete(x)),w.push(A.key)}return ae.waitFor(u).next(()=>w)}function Dg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Bd{constructor(e,t,r,s){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=s,this.In={}}static oe(e,t,r,s){Ot(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Bd(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).Z({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=jd(e),d=Zd(e);return d.add({}).next(f=>{Ot("number"==typeof f);const _=new vy(f,t,r,s),w=function(F,U,B){const re=B.baseMutations.map(Ze=>pg(F.re,Ze)),he=B.mutations.map(Ze=>pg(F.re,Ze));return{userId:U,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:re,mutations:he}}(this.It,this.userId,_),A=[];let x=new Cn((F,U)=>Rt(F.canonicalString(),U.canonicalString()));for(const F of s){const U=db(this.userId,F.key.path,f);x=x.add(F.key.path.popLast()),A.push(d.put(w)),A.push(u.put(U,$D))}return x.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),ae.waitFor(A).next(()=>_)})}lookupMutationBatch(e,t){return Zd(e).get(t).next(r=>r?(Ot(r.userId===this.userId),$c(this.It,r)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.In[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Zd(e).Z({index:"userMutationsIndex",range:s},(d,f,_)=>{f.userId===this.userId&&(Ot(f.batchId>=r),u=$c(this.It,f)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).W("userMutationsIndex",t).next(r=>r.map(s=>$c(this.It,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gg(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return jd(e).Z({range:s},(d,f,_)=>{const[w,A,x]=d,F=$o(A);if(w===this.userId&&t.path.isEqual(F))return Zd(e).get(x).next(U=>{if(!U)throw it();Ot(U.userId===this.userId),u.push($c(this.It,U))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Rt);const s=[];return t.forEach(u=>{const d=gg(this.userId,u.path),f=IDBKeyRange.lowerBound(d),_=jd(e).Z({range:f},(w,A,x)=>{const[F,U,B]=w,re=$o(U);F===this.userId&&u.path.isEqual(re)?r=r.add(B):x.done()});s.push(_)}),ae.waitFor(s).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=gg(this.userId,r),d=IDBKeyRange.lowerBound(u);let f=new Cn(Rt);return jd(e).Z({range:d},(_,w,A)=>{const[x,F,U]=_,B=$o(F);x===this.userId&&r.isPrefixOf(B)?B.length===s&&(f=f.add(U)):A.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],s=[];return t.forEach(u=>{s.push(Zd(e).get(u).next(d=>{if(null===d)throw it();Ot(d.userId===this.userId),r.push($c(this.It,d))}))}),ae.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return bb(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return jd(e).Z({range:r},(u,d,f)=>{if(u[0]===this.userId){const _=$o(u[1]);s.push(_)}else f.done()}).next(()=>{Ot(0===s.length)})})}containsKey(e,t){return Iy(e,this.userId,t)}Rn(e){return hT(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Iy(n,e,t){const r=gg(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return jd(n).Z({range:u,X:!0},(f,_,w)=>{const[A,x,F]=f;A===e&&x===s&&(d=!0),w.done()}).next(()=>d)}function Zd(n){return Lr(n,"mutations")}function jd(n){return Lr(n,"documentMutations")}function hT(n){return Lr(n,"mutationQueues")}class ll{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ll(0)}static vn(){return new ll(-1)}}class gf{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ll(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>It.fromTimestamp(new $n(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Sn(e,s)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mf(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return mf(e).Z((d,f)=>{const _=wg(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(s++,u.push(this.removeTargetData(e,_)))}).next(()=>ae.waitFor(u)).next(()=>s)}forEachTarget(e,t){return mf(e).Z((r,s)=>{const u=wg(s);t(u)})}Vn(e){return wb(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}Sn(e,t){return wb(e).put("targetGlobalKey",t)}Dn(e,t){return mf(e).put(rT(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pa(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return mf(e).Z({range:s,index:"queryTargetsIndex"},(d,f,_)=>{const w=wg(f);Mn(t,w.target)&&(u=w,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Va(e);return t.forEach(d=>{const f=Fr(d.path);s.push(u.put({targetId:r,path:f})),s.push(this.referenceDelegate.addReference(e,r,d))}),ae.waitFor(s)}removeMatchingKeys(e,t,r){const s=Va(e);return ae.forEach(t,u=>{const d=Fr(u.path);return ae.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Va(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Va(e);let u=Bt();return s.Z({range:r,X:!0},(d,f,_)=>{const w=$o(d[1]),A=new $e(w);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Fr(t.path),s=IDBKeyRange.bound([r],[dE(r)],!1,!0);let u=0;return Va(e).Z({index:"documentTargetsIndex",X:!0,range:s},([d,f],_,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}se(e,t){return mf(e).get(t).next(r=>r?wg(r):null)}}function mf(n){return Lr(n,"targets")}function wb(n){return Lr(n,"targetGlobal")}function Va(n){return Lr(n,"targetDocuments")}function n1([n,e],[t,r]){const s=Rt(n,t);return 0===s?Rt(e,r):s}class r1{constructor(e){this.xn=e,this.buffer=new Cn(n1),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Qu(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield uo(r)}yield t.Fn(3e5)}))}}class i1{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve($i.at);const r=new r1(t);return this.$n.forEachTarget(e,s=>r.Mn(s.sequenceNumber)).next(()=>this.$n.Ln(e,s=>r.Mn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(dT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,s,u,d,f,_,w;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,d=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),ry()<=Nu.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${s} in `+(f-d)+`ms\n\tRemoved ${u} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-A}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class s1{constructor(e,t){this.db=e,this.garbageCollector=new i1(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,s)=>t(s))}addReference(e,t,r){return Ay(e,r)}removeReference(e,t,r){return Ay(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ay(e,t)}Gn(e,t){return function(r,s){let u=!1;return hT(r).tt(d=>Iy(r,d,s).next(f=>(f&&(u=!0),ae.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Kn(e,(d,f)=>{if(f<=t){const _=this.Gn(e,d).next(w=>{if(!w)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,It.min()),Va(e).delete([0,Fr(d.path)])))});s.push(_)}}).next(()=>ae.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ay(e,t)}Kn(e,t){const r=Va(e);let s,u=$i.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(u!==$i.at&&t(new $e($o(s)),u),u=w,s=_):u=$i.at}).next(()=>{u!==$i.at&&t(new $e($o(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ay(n,e){return Va(n).put((r=n.currentSequenceNumber,{targetId:0,path:Fr(e.path),sequenceNumber:r}));var r}class Cb{constructor(){this.changes=new sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fT{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qd(e).put(r)}removeEntry(e,t,r){return qd(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],pf(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=xn.newInvalidDocument(t);return qd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(s,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:xn.newInvalidDocument(t)};return qd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(s,u)=>{r={document:this.jn(t,u),size:Dg(u)}}).next(()=>r)}getEntries(e,t){let r=cs();return this.zn(e,t,(s,u)=>{const d=this.jn(s,u);r=r.insert(s,d)}).next(()=>r)}Hn(e,t){let r=cs(),s=new er($e.comparator);return this.zn(e,t,(u,d)=>{const f=this.jn(u,d);r=r.insert(u,f),s=s.insert(u,Dg(d))}).next(()=>({documents:r,Jn:s}))}zn(e,t,r){if(t.isEmpty())return ae.resolve();let s=new Cn(mT);t.forEach(_=>s=s.add(_));const u=IDBKeyRange.bound(Sg(s.first()),Sg(s.last())),d=s.getIterator();let f=d.getNext();return qd(e).Z({index:"documentKeyIndex",range:u},(_,w,A)=>{const x=$e.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&mT(f,x)<0;)r(f,null),f=d.getNext();f&&f.isEqual(x)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?A.j(Sg(f)):A.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qd(e).W(IDBKeyRange.bound(s,u,!0)).next(d=>{let f=cs();for(const _ of d){const w=this.jn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,s){let u=cs();const d=Tb(t,r),f=Tb(t,Os.max());return qd(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,A)=>{const x=this.jn($e.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(x.key,x),u.size===s&&A.done()}).next(()=>u)}newChangeBuffer(e){return new gT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Eb(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Qn(e,t){return Eb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Kx(n,e){let t;if(e.document)t=ob(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),s=qc(e.noDocument.readTime);t=xn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=$e.fromSegments(e.unknownDocument.path),s=qc(e.unknownDocument.version);t=xn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new $n(r[0],r[1]);return It.fromTimestamp(s)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return xn.newInvalidDocument(e)}}function pT(n){return new fT(n)}class gT extends Cb{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new sl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Cn((u,d)=>Rt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),d.isValidDocument()){const _=wy(this.Yn.It,d);s=s.add(u.path.popLast()),r+=Dg(_)-f.size,t.push(this.Yn.addEntry(e,u,_))}else if(r-=f.size,this.trackRemovals){const _=wy(this.Yn.It,d.convertToNoDocument(It.min()));t.push(this.Yn.addEntry(e,u,_))}}),s.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:s})=>(s.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Eb(n){return Lr(n,"remoteDocumentGlobal")}function qd(n){return Lr(n,"remoteDocumentsV14")}function Sg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Tb(n,e){const t=e.documentKey.path.toArray();return[n,pf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mT(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Rt(t[u],r[u]),s)return s;return s=Rt(t.length,r.length),s||(s=Rt(t[t.length-2],r[r.length-2]),s||Rt(t[t.length-1],r[r.length-1]))}class _T{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ib{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.getBaseDocument(e,t,r))).next(s=>(null!==r&&Nd(r.mutation,s,Ps.empty(),$n.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Bt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Bt()){const s=Fa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let d=uf();return u.forEach((f,_)=>{d=d.insert(f,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Fa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Bt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,s){let u=cs();const d=cg(),f=cg();return t.forEach((_,w)=>{const A=r.get(w.key);s.has(w.key)&&(void 0===A||A.mutation instanceof jc)?u=u.insert(w.key,w):void 0!==A&&(d.set(w.key,A.mutation.getFieldMask()),Nd(A.mutation,w,A.mutation.getFieldMask(),$n.now()))}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((w,A)=>d.set(w,A)),t.forEach((w,A)=>{var x;return f.set(w,new _T(A,null!==(x=d.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=cg();let s=new er((d,f)=>d-f),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let A=r.get(_)||Ps.empty();A=f.applyToLocalView(w,A),r.set(_,A);const x=(s.get(f.batchId)||Bt()).add(_);s=s.insert(f.batchId,x)})}).next(()=>{const d=[],f=s.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,A=_.value,x=eb();A.forEach(F=>{if(!u.has(F)){const U=Q0(t.get(F),r.get(F));null!==U&&x.set(F,U),u=u.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,x))}return ae.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):G0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const d=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ae.resolve(Fa());let f=-1,_=u;return d.next(w=>ae.forEach(w,(A,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),u.get(A)?ae.resolve():this.getBaseDocument(e,A,x).next(F=>{_=_.insert(A,F)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,_,w,Bt())).next(A=>({batchId:f,changes:BE(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let s=uf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=uf();return this.indexManager.getCollectionParents(e,s).next(d=>ae.forEach(d,f=>{const _=(w=t,A=f.child(s),new ka(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,A;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((A,x)=>{u=u.insert(A,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,_)=>{const w=_.getKey();null===s.get(w)&&(s=s.insert(w,xn.newInvalidDocument(w)))});let d=uf();return s.forEach((f,_)=>{const w=u.get(f);void 0!==w&&Nd(w.mutation,_,Ps.empty(),$n.now()),K0(t,_)&&(d=d.insert(f,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(xn.newInvalidDocument(t))}}class yT{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Nr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:gb(r.bundledQuery),readTime:Nr(r.readTime)}),ae.resolve();var r}}class vT{constructor(){this.overlays=new er($e.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fa();return ae.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.ue(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.es.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const s=Fa(),u=t.length+1,d=new $e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&_.largestBatchId>r&&s.set(_.getKey(),_)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new er((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let A=u.get(w.largestBatchId);null===A&&(A=Fa(),u=u.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const f=Fa(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,A)=>f.set(w,A)),!(f.size()>=s)););return ae.resolve(f)}ue(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new by(t,r));let u=this.es.get(t);void 0===u&&(u=Bt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class Ab{constructor(){this.ns=new Cn(zr.ss),this.rs=new Cn(zr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new zr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new zr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new $e(new Xt([])),r=new zr(t,e),s=new zr(t,e+1),u=[];return this.rs.forEachInRange([r,s],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new $e(new Xt([])),r=new zr(t,e),s=new zr(t,e+1);let u=Bt();return this.rs.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new zr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return $e.comparator(e.key,t.key)||Rt(e._s,t._s)}static os(e,t){return Rt(e._s,t._s)||$e.comparator(e.key,t.key)}}class Jx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Cn(zr.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.ws;this.ws++;const d=new vy(u,t,r,s);this.mutationQueue.push(d);for(const f of s)this.gs=this.gs.add(new zr(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(d)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ps(t+1),u=s<0?0:s;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),s=new zr(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,s],d=>{const f=this.ys(d._s);u.push(f)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Rt);return t.forEach(s=>{const u=new zr(s,0),d=new zr(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],f=>{r=r.add(f._s)})}),ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const d=new zr(new $e(u),0);let f=new Cn(Rt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===s&&(f=f.add(_._s)),!0)},d),ae.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const s=this.ys(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ot(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ae.forEach(t.mutations,s=>{const u=new zr(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new zr(t,0),s=this.gs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bT{constructor(e){this.Es=e,this.docs=new er($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=cs();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():xn.newInvalidDocument(s))}),ae.resolve(r)}getAllFromCollection(e,t,r){let s=cs();const u=new $e(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||O0(hE(_),r)<=0||(s=s.insert(_.key,_.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,r,s){it()}As(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Xx(this)}getSize(e){return ae.resolve(this.size)}}class Xx extends Cb{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class eM{constructor(e){this.persistence=e,this.Rs=new sl(t=>Pa(t),Mn),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ab,this.targetCount=0,this.vs=ll.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,s)=>t(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ae.waitFor(u).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class o1{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new eM(this),this.indexManager=new uT,this.remoteDocumentCache=new bT(r=>this.referenceDelegate.xs(r)),this.It=new nT(t),this.Ns=new yT(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Jx(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const s=new tM(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(u=>this.referenceDelegate.Ms(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Os(e,t){return ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class tM extends sy{constructor(e){super(),this.currentSequenceNumber=e}}class Db{constructor(e){this.persistence=e,this.Fs=new Ab,this.$s=null}static Bs(e){return new Db(e)}get Ls(){if(this.$s)return this.$s;throw it()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,r=>{const s=$e.fromPath(r);return this.Us(e,s).next(u=>{u||t.removeEntry(s,It.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class nM{constructor(e){this.It=e}$(e,t,r,s){const u=new oy("createOrUpgrade",t);var f;r<1&&s>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lb,{unique:!0}),f.createObjectStore("documentMutations"),a1(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=ae.resolve();return r<3&&s>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),a1(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lb,{unique:!0});const A=_.store("mutations"),x=w.map(F=>A.put(F));return ae.waitFor(x)})}(e,u))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.qs(u))),r<6&&s>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&s>=7&&(d=d.next(()=>this.Gs(u))),r<8&&s>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.js(u))),r<11&&s>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:fb});_.createIndex("collectionPathOverlayIndex",_g,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",QD,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Wx});_.createIndex("documentKeyIndex",eT),_.createIndex("collectionGroupIndex",HD)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&s>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:KD}).createIndex("sequenceNumberIndex",hb,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:La}).createIndex("documentKeyIndex",YD,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,s)=>{t+=Dg(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>ae.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>ae.forEach(f,_=>{Ot(_.userId===u.userId);const w=$c(this.It,_);return bb(e,u.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Z((d,f)=>{const _=new Xt(d),w=[0,Fr(_)];u.push(t.get(w).next(A=>A?ae.resolve():t.put({targetId:0,path:Fr(_),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ae.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mg});const r=t.store("collectionParents"),s=new Ey,u=d=>{if(s.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Fr(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const _=new Xt(d);return u(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,_],w)=>{const A=$o(f);return u(A.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,s)=>{const u=wg(s),d=rT(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),s=[];return r.Z((u,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new $e(Xt.fromString(w.document.name).popFirst(5)):w.noDocument?$e.fromSegments(w.noDocument.path):w.unknownDocument?$e.fromSegments(w.unknownDocument.path):it()).path.toArray();var w;const A={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(f.put(A))}).next(()=>ae.waitFor(s))}zs(e,t){const r=t.store("mutations"),s=pT(this.It),u=new o1(Db.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(_=>{var w;let A=null!==(w=f.get(_.userId))&&void 0!==w?w:Bt();$c(this.It,_).keys().forEach(x=>A=A.add(x)),f.set(_.userId,A)}),ae.forEach(f,(_,w)=>{const A=new Pr(w),x=Cg.oe(this.It,A),F=u.getIndexManager(A),U=Bd.oe(A,this.It,F,u.referenceDelegate);return new Ib(s,U,x,F).recalculateAndSaveOverlaysForDocumentKeys(new pb(t,$i.at),_).next()})})}}function a1(n){n.createObjectStore("targetDocuments",{keyPath:zD}).createIndex("documentTargetsIndex",WD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GD,{unique:!0}),n.createObjectStore("targetGlobal")}const wT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _f{constructor(e,t,r,s,u,d,f,_,w,A,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=f,this.Js=w,this.Ys=A,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!_f.C())throw new Oe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s1(this,s),this.ii=t+"main",this.It=new nT(_),this.ri=new lo(this.ii,this.Xs,new nM(this.It)),this.Cs=new gf(this.referenceDelegate,this.It),this.remoteDocumentCache=pT(this.It),this.Ns=new iT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===A&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,wT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $i(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ve.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Qu(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Dy(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return xg(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Lr(r,"clientMetadata");return s.W().next(u=>{const d=e.Ii(u,18e5),f=u.filter(_=>-1===d.indexOf(_));return ae.forEach(f,_=>s.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):Dy(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,wT);return!1}}return!(!this.networkEnabled||!this.inForeground)||xg(e).W().next(r=>void 0===this.Ii(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,f=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new pb(t,$i.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>xg(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Bd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new t1(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Cg.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?XD:14===d?vg:13===d?yg:12===d?JD:11===d?tT:void it();var d;let f;return this.ri.runTransaction(e,s,u,_=>(f=new pb(_,this.Ss?this.Ss.next():$i.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(de.FAILED_PRECONDITION,fE);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return Dy(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(de.FAILED_PRECONDITION,wT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dy(e).put("owner",t)}static C(){return lo.C()}_i(e){const t=Dy(e);return t.get("owner").next(r=>this.mi(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ut.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dy(n){return Lr(n,"owner")}function xg(n){return Lr(n,"clientMetadata")}function yf(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Sy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=s}static Ci(e,t){let r=Bt(),s=Bt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Sy(e,t.fromCache,r,s)}}class Sb{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.ki(e,t).next(u=>u||this.Mi(e,t,s,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(rf(t))return ae.resolve(null);let r=Hi(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=ig(t,null,"F"),r=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Bt(...u);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,f);return this.$i(t,w,d,_.readTime)?this.ki(e,ig(t,null,"F")):this.Bi(e,w,t,_)}))})))}Mi(e,t,r,s){return rf(t)||s.isEqual(It.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,s)?this.Oi(e,t):(ry()<=Nu.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),W0(t)),this.Bi(e,d,t,M0(s,-1)))})}Fi(e,t){let r=new Cn(SD(e));return t.forEach((s,u)=>{K0(e,u)&&(r=r.add(u))}),r}$i(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Oi(e,t){return ry()<=Nu.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",W0(t)),this.Ni.getDocumentsMatchingQuery(e,t,Os.min())}Bi(e,t,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class rM{constructor(e,t,r,s){this.persistence=e,this.Li=t,this.It=s,this.Ui=new er(Rt),this.qi=new sl(u=>Pa(u),Mn),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function xy(n,e,t,r){return new rM(n,e,t,r)}function xb(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,ve.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],f=[];let _=Bt();for(const w of s){d.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}for(const w of u){f.push(w.batchId);for(const A of w.mutations)_=_.add(A.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),Mb.apply(this,arguments)}function CT(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const A=_.batch,x=A.keys();let F=ae.resolve();return x.forEach(U=>{F=F.next(()=>w.getEntry(f,U)).next(B=>{const re=_.docVersions.get(U);Ot(null!==re),B.version.compareTo(re)<0&&(A.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),w.addEntry(B)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(f,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Bt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(f=f.add(d.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function c1(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function u1(n,e){const t=We(n),r=e.snapshotVersion;let s=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});s=t.Ui;const f=[];e.targetChanges.forEach((A,x)=>{const F=s.get(x);if(!F)return;f.push(t.Cs.removeMatchingKeys(u,A.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(u,A.addedDocuments,x)));let U=F.withSequenceNumber(u.currentSequenceNumber);var B,re,he;e.targetMismatches.has(x)?U=U.withResumeToken(Rr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):A.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(A.resumeToken,r)),s=s.insert(x,U),re=U,he=A,(0===(B=F).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,U))});let _=cs(),w=Bt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),f.push(ET(u,d,e.documentUpdates).next(A=>{_=A.Wi,w=A.zi})),!r.isEqual(It.min())){const A=t.Cs.getLastRemoteSnapshotVersion(u).next(x=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(A)}return ae.waitFor(f).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,w)).next(()=>_)}).then(u=>(t.Ui=s,u))}function ET(n,e,t){let r=Bt(),s=Bt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=cs();return t.forEach((f,_)=>{const w=u.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(s=s.add(f)),_.isNoDocument()&&_.version.isEqual(It.min())?(e.removeEntry(f,_.readTime),d=d.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(f,_)):ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Wi:d,zi:s}})}function l1(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hc(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Cs.getTargetData(r,e).next(u=>u?(s=u,ae.resolve(s)):t.Cs.allocateTargetId(r).next(d=>(s=new ol(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function vf(n,e,t){return TT.apply(this,arguments)}function TT(){return TT=(0,ve.Z)(function*(n,e,t){const r=We(n),s=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Qu(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(s.target)}),TT.apply(this,arguments)}function Ob(n,e,t){const r=We(n);let s=It.min(),u=Bt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const A=We(f),x=A.qi.get(w);return void 0!==x?ae.resolve(A.Ui.get(x)):A.Cs.getTargetData(_,w)}(r,d,Hi(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{u=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?s:It.min(),t?u:Bt())).next(f=>(AT(r,DD(e),f),{documents:f,Hi:u})))}function d1(n,e){const t=We(n),r=We(t.Cs),s=t.Ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function IT(n,e){const t=We(n),r=t.Ki.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Gi.getAllFromCollectionGroup(s,e,M0(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(AT(t,e,s),s))}function AT(n,e,t){let r=It.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function DT(){return DT=(0,ve.Z)(function*(n,e,t,r){const s=We(n);let u=Bt(),d=cs();for(const w of t){const A=e.Ji(w.metadata.name);w.document&&(u=u.add(A));const x=e.Yi(w);x.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(A,x)}const f=s.Gi.newChangeBuffer({trackRemovals:!0}),_=yield Hc(s,(w=r,Hi(Ra(Xt.fromString(`__bundle__/docs/${w}`)))));var w;return s.persistence.runTransaction("Apply bundle documents","readwrite",w=>ET(w,f,d).next(A=>(f.apply(w),A)).next(A=>s.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>s.Cs.addMatchingKeys(w,u,_.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(w,A.Wi,A.zi)).next(()=>A.Wi)))}),DT.apply(this,arguments)}function f1(n,e){return My.apply(this,arguments)}function My(){return My=(0,ve.Z)(function*(n,e,t=Bt()){const r=yield Hc(n,Hi(gb(e.bundledQuery))),s=We(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=Nr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return s.Ui=s.Ui.insert(f.targetId,f),s.Cs.updateTargetData(u,f).next(()=>s.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>s.Ns.saveNamedQuery(u,e))})}),My.apply(this,arguments)}function Pb(n,e){return`firestore_clients_${n}_${e}`}function p1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ks(n,e){return`firestore_targets_${n}_${e}`}class Oy{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Zi(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new Oe(s.error.code,s.error.message))),d?new Oy(e,t,s.state,u):(qn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $d{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Oe(r.error.code,r.error.message))),u?new $d(e,r.state,s):(qn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Py{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=ug();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=L0(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new Py(e,u):(qn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class us{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new us(t.clientId,t.onlineState):(qn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kb{constructor(){this.activeTargetIds=ug()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mg{constructor(e,t,r,s,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new er(Rt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Pb(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new kb),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const s of t){if(s===e.sr)continue;const u=e.getItem(Pb(e.persistenceKey,s));if(u){const d=Py.Zi(s,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const s=e.yr(r);s&&e.pr(s)}for(const s of e.cr)e.rr(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ks(this.persistenceKey,e));if(r){const s=$d.Zi(e,r);s&&(t=s.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ks(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Er(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Vr(s,null)}{const s=t.Sr(r.key,r.newValue);if(s)return t.Vr(s.clientId,s)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const s=t.Dr(r.key,r.newValue);if(s)return t.Cr(s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Nr(r.key,r.newValue);if(s)return t.kr(s)}}else if(r.key===t.wr){if(null!==r.newValue){const s=t.yr(r.newValue);if(s)return t.pr(s)}}else if(r.key===t.hr){const s=function(u){let d=$i.at;if(null!=u)try{const f=JSON.parse(u);Ot("number"==typeof f),d=f}catch(f){qn("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);s!==$i.at&&t.sequenceNumberHandler(s)}else if(r.key===t.mr){const s=t.Mr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const s=new Oy(this.currentUser,e,t,r),u=p1(this.persistenceKey,this.currentUser,e);this.setItem(u,s.tr())}Er(e){const t=p1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const s=ks(this.persistenceKey,e),u=new $d(e,t,r);this.setItem(s,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Py.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),s=Number(r[1]);return Oy.Zi(new Pr(void 0!==r[2]?r[2]:null),s,t)}Nr(e,t){const r=this._r.exec(e),s=Number(r[1]);return $d.Zi(s,t)}yr(e){return us.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),s=this.Ir(this.ur),u=this.Ir(r),d=[],f=[];return u.forEach(_=>{s.has(_)||d.push(_)}),s.forEach(_=>{u.has(_)||f.push(_)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ug();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class ST{constructor(){this.Lr=new kb,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new kb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g1{qr(e){}shutdown(){}}class ky{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class MT{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class m1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,s,u){const d=this.ao(e,t);ke("RestConnection","Sending: ",d,r);const f={};return this.ho(f,s,u),this.lo(e,d,f,r).then(_=>(ke("RestConnection","Received: ",_),_),_=>{throw Uc("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}fo(e,t,r,s,u,d){return this.co(e,t,r,s,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ad,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ao(e,t){return`${this.oo}/v1/${t}:${xT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,s){return new Promise((u,d)=>{const f=new iE;f.listenOnce(tE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Wp.NO_ERROR:const w=f.getResponseJson();ke("Connection","XHR received:",JSON.stringify(w)),u(w);break;case Wp.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),d(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:const A=f.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const F=function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN}(x.status);d(new Oe(F,x.message))}else d(new Oe(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(s);f.send(t,"POST",_,r,15)})}_o(e,t,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=A0(),d=eE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new rE({})),this.ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=s.join("");ke("Connection","Creating WebChannel: "+_,f);const w=u.createWebChannel(_,f);let A=!1,x=!1;const F=new MT({Hr:B=>{x?ke("Connection","Not sending because WebChannel is closed:",B):(A||(ke("Connection","Opening WebChannel transport."),w.open(),A=!0),ke("Connection","WebChannel sending:",B),w.send(B))},Jr:()=>w.close()}),U=(B,re,he)=>{B.listen(re,Ze=>{try{he(Ze)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return U(w,ny.EventType.OPEN,()=>{x||ke("Connection","WebChannel transport opened.")}),U(w,ny.EventType.CLOSE,()=>{x||(x=!0,ke("Connection","WebChannel transport closed"),F.io())}),U(w,ny.EventType.ERROR,B=>{x||(x=!0,Uc("Connection","WebChannel transport errored:",B),F.io(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),U(w,ny.EventType.MESSAGE,B=>{var re;if(!x){const he=B.data[0];Ot(!!he);const Ze=he,Ke=Ze.error||(null===(re=Ze[0])||void 0===re?void 0:re.error);if(Ke){ke("Connection","WebChannel received error:",Ke);const Qe=Ke.status;let Ge=function(vt){const Wt=Sr[vt];if(void 0!==Wt)return VE(Wt)}(Qe),_t=Ke.message;void 0===Ge&&(Ge=de.INTERNAL,_t="Unknown error status: "+Qe+" with message "+Ke.message),x=!0,F.io(new Oe(Ge,_t)),w.close()}else ke("Connection","WebChannel received:",he),F.ro(he)}}),U(d,nE.STAT_EVENT,B=>{B.stat===ty.PROXY?ke("Connection","Detected buffering proxy"):B.stat===ty.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function Rb(){return typeof window<"u"?window:null}function Og(){return typeof document<"u"?document:null}function Pg(n){return new ib(n,!0)}class Ry{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=s,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),s=Math.max(0,t-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class OT{constructor(e,t,r,s,u,d,f,_){this.Hs=e,this.Po=r,this.vo=s,this.Vo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ry(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.So===t&&this.Go(r,s)},r=>{e(()=>{const s=new Oe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(s)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.Qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nb extends OT{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function zE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:it(),s=e.targetChange.targetIds||[],u=function(_,w){return _.gt?(Ot(void 0===w||"string"==typeof w),Rr.fromBase64String(w||"")):(Ot(void 0===w||w instanceof Uint8Array),Rr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?de.UNKNOWN:VE(_.code);return new Oe(w,_.message||"")}(d);t=new ZE(r,s,u,f||null)}else if("documentChange"in e){const r=e.documentChange,s=qo(n,r.document.name),u=Nr(r.document.updateTime),d=new ui({mapValue:{fields:r.document.fields}}),f=xn.newFoundDocument(s,u,d);t=new gy(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,s=qo(n,r.document),u=r.readTime?Nr(r.readTime):It.min(),d=xn.newNoDocument(s,u);t=new gy([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=qo(n,r.document);t=new gy([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new RD(r.count||0);t=new my(r.targetId,u)}}var _;return t}(this.It,e),r=function(s){if(!("targetChange"in s))return It.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Nr(u.readTime):It.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=fg(this.It),t.addTarget=function(s,u){let d;const f=u.target;return d=B0(f)?{documents:VD(s,f)}:{query:WE(s,f)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=_y(s,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(d.readTime=dg(s,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function YE(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=fg(this.It),t.removeTarget=e,this.Bo(t)}}class dl extends OT{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zx(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,s){let u=Nr(r.updateTime?r.updateTime:s);return u.isEqual(It.min())&&(u=Nr(s)),new NE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.Zo(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=fg(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pg(this.It,r))};this.Bo(t)}}class PT extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=s,this.nu=!1}su(){if(this.nu)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.Vo.co(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(de.UNKNOWN,s.toString())})}fo(e,t,r,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.fo(e,t,r,u,d,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class Fb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qn(t),this.ou=!1):ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Gc{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;zc(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(w){const A=We(w);A._u.add(4),yield bf(A),A.gu.set("Unknown"),A._u.delete(4),yield kg(A)}),function(w){return _.apply(this,arguments)})(d))}))}),this.gu=new Fb(r,s)}}function kg(n){return kT.apply(this,arguments)}function kT(){return kT=(0,ve.Z)(function*(n){if(zc(n))for(const e of n.wu)yield e(!0)}),kT.apply(this,arguments)}function bf(n){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Lb.apply(this,arguments)}function Ny(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ub(t)?Ly(t):Tf(t).ko()&&Fy(t,e))}function Rg(n,e){const t=We(n),r=Tf(t);t.du.delete(e),r.ko()&&_1(t,e),0===t.du.size&&(r.ko()?r.Fo():zc(t)&&t.gu.set("Unknown"))}function Fy(n,e){n.yu.Ot(e.targetId),Tf(n).zo(e)}function _1(n,e){n.yu.Ot(e),Tf(n).Ho(e)}function Ly(n){n.yu=new lf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Tf(n).start(),n.gu.uu()}function Ub(n){return zc(n)&&!Tf(n).No()&&n.du.size>0}function zc(n){return 0===We(n)._u.size}function y1(n){n.yu=void 0}function Vb(n){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,ve.Z)(function*(n){n.du.forEach((e,t)=>{Fy(n,e)})}),Uy.apply(this,arguments)}function RT(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,ve.Z)(function*(n,e){y1(n),Ub(n)?(n.gu.hu(e),Ly(n)):n.gu.set("Unknown")}),Vy.apply(this,arguments)}function NT(n,e,t){return By.apply(this,arguments)}function By(){return By=(0,ve.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof ZE&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(s,u){const d=u.cause;for(const f of u.targetIds)s.du.has(f)&&(yield s.remoteSyncer.rejectListen(f,d),s.du.delete(f),s.yu.removeTarget(f))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hd(n,r)}else if(e instanceof gy?n.yu.Gt(e):e instanceof my?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(It.min()))try{const r=yield c1(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.yu.te(u);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=s.du.get(_);w&&s.du.set(_,w.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach(f=>{const _=s.du.get(f);if(!_)return;s.du.set(f,_.withResumeToken(Rr.EMPTY_BYTE_STRING,_.snapshotVersion)),_1(s,f);const w=new ol(_.target,f,1,_.sequenceNumber);Fy(s,w)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Hd(n,r)}var r}),By.apply(this,arguments)}function Hd(n,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,ve.Z)(function*(n,e,t){if(!Qu(e))throw e;n._u.add(1),yield bf(n),n.gu.set("Offline"),t||(t=()=>c1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield kg(n)}))}),wf.apply(this,arguments)}function Bb(n,e){return e().catch(t=>Hd(n,t,e))}function Cf(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,ve.Z)(function*(n){const e=We(n),t=hl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;FT(e);)try{const s=yield l1(e.localStore,r);if(null===s){0===e.fu.length&&t.Fo();break}r=s.batchId,v1(e,s)}catch(s){yield Hd(e,s)}LT(e)&&b1(e)}),Zy.apply(this,arguments)}function FT(n){return zc(n)&&n.fu.length<10}function v1(n,e){n.fu.push(e);const t=hl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function LT(n){return zc(n)&&!hl(n).No()&&n.fu.length>0}function b1(n){hl(n).start()}function iM(n){return jy.apply(this,arguments)}function jy(){return jy=(0,ve.Z)(function*(n){hl(n).eu()}),jy.apply(this,arguments)}function w1(n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,ve.Z)(function*(n){const e=hl(n);for(const t of n.fu)e.Xo(t.mutations)}),Zb.apply(this,arguments)}function C1(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,ve.Z)(function*(n,e,t){const r=n.fu.shift(),s=bg.from(r,e,t);yield Bb(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Cf(n)}),UT.apply(this,arguments)}function sM(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,ve.Z)(function*(n,e){var t;e&&hl(n).Yo&&(yield(t=(0,ve.Z)(function*(r,s){if(UE(u=s.code)&&u!==de.ABORTED){const d=r.fu.shift();hl(r).Oo(),yield Bb(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield Cf(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),LT(n)&&b1(n)}),VT.apply(this,arguments)}function E1(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,ve.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=zc(t);t._u.add(3),yield bf(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield kg(t)}),BT.apply(this,arguments)}function jb(n,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ve.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield kg(t)):e||(t._u.add(2),yield bf(t),t.gu.set("Unknown"))}),Ef.apply(this,arguments)}function Tf(n){return n.pu||(n.pu=function(e,t,r){const s=We(e);return s.su(),new Nb(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,r)}(n.datastore,n.asyncQueue,{Yr:Vb.bind(null,n),Zr:RT.bind(null,n),Wo:NT.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),Ub(n)?Ly(n):n.gu.set("Unknown")):(yield n.pu.stop(),y1(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function hl(n){return n.Iu||(n.Iu=function(e,t,r){const s=We(e);return s.su(),new dl(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,r)}(n.datastore,n.asyncQueue,{Yr:iM.bind(null,n),Zr:sM.bind(null,n),tu:w1.bind(null,n),Zo:C1.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Oo(),yield Cf(n)):(yield n.Iu.stop(),n.fu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class qy{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,f=new qy(e,t,d,s,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ho(n,e){if(qn("AsyncQueue",`${e}: ${n}`),Qu(n))return new Oe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Gd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=uf(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new Gd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $y{constructor(){this.Tu=new er($e.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):it():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class fl{constructor(e,t,r,s,u,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new fl(e,t,Gd.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class T1{constructor(){this.Au=void 0,this.listeners=[]}}class qb{constructor(){this.queries=new sl(e=>z0(e),sg),this.onlineState="Unknown",this.Ru=new Set}}function Ng(n,e){return If.apply(this,arguments)}function If(){return If=(0,ve.Z)(function*(n,e){const t=We(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new T1),s)try{u.Au=yield t.onListen(r)}catch(d){const f=ho(d,`Initialization of query '${W0(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&Hy(t)}),If.apply(this,arguments)}function ZT(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ve.Z)(function*(n,e){const t=We(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),jT.apply(this,arguments)}function oM(n,e){const t=We(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const f of d.listeners)f.Pu(s)&&(r=!0);d.Au=s}}r&&Hy(t)}function aM(n,e,t){const r=We(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function Hy(n){n.Ru.forEach(e=>{e.next()})}class $b{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class I1{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class qT{constructor(e){this.It=e}Ji(e){return qo(this.It,e)}Yi(e){return e.metadata.exists?ob(this.It,e.document,!1):xn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Nr(e)}}class A1{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hb(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Xt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new qT(this.It);for(const s of e)if(s.metadata.queries){const u=r.Ji(s.metadata.name);for(const d of s.metadata.queries){const f=(t.get(d)||Bt()).add(u);t.set(d,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function h1(n,e,t,r){return DT.apply(this,arguments)}(e.localStore,new qT(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const s of e.queries)yield f1(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Hb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Gb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class $T{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Bt(),this.mutatedKeys=Bt(),this.Ku=SD(e),this.Gu=new Gd(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new $y,s=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,f=!1;const _="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,w="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((A,x)=>{const F=s.get(A),U=K0(this.query,x)?x:null,B=!!F&&this.mutatedKeys.has(F.key),re=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let he=!1;F&&U?F.data.isEqual(U.data)?B!==re&&(r.track({type:3,doc:U}),he=!0):this.zu(F,U)||(r.track({type:2,doc:U}),he=!0,(_&&this.Ku(U,_)>0||w&&this.Ku(U,w)<0)&&(f=!0)):!F&&U?(r.track({type:0,doc:U}),he=!0):F&&!U&&(r.track({type:1,doc:F}),he=!0,(_||w)&&(f=!0)),he&&(U?(d=d.add(U),u=re?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Gu:d,Wu:r,$i:f,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((w,A)=>function(x,F){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return U(x)-U(F)}(w.type,A.type)||this.Ku(w.doc,A.doc)),this.Hu(r);const d=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,_=f!==this.Uu;return this.Uu=f,0!==u.length||_?{snapshot:new fl(this.query,e.Gu,s,u,e.mutatedKeys,0===f,_,!1),Yu:d}:{Yu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new $y,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Bt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new zb(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new Gb(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Bt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return fl.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class D1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HT{constructor(e){this.key=e,this.ec=!1}}class Wb{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new sl(f=>z0(f),sg),this.ic=new Map,this.rc=new Set,this.oc=new er($e.comparator),this.uc=new Map,this.cc=new Ab,this.ac={},this.hc=new Map,this.lc=ll.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function cM(n,e){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,ve.Z)(function*(n,e){const t=Vg(n);let r,s;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.tc();else{const d=yield Hc(t.localStore,Hi(e));t.isPrimaryClient&&Ny(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield Fg(t,e,r,"current"===f)}return s}),Gy.apply(this,arguments)}function Fg(n,e,t,r){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ve.Z)(function*(n,e,t,r){n.dc=(A,x,F)=>{return(U=(0,ve.Z)(function*(B,re,he,Ze){let Ke=re.view.ju(he);Ke.$i&&(Ke=yield Ob(B.localStore,re.query,!1).then(({documents:_t})=>re.view.ju(_t,Ke)));const Qe=Ze&&Ze.targetChanges.get(re.targetId),Ge=re.view.applyChanges(Ke,B.isPrimaryClient,Qe);return a(B,re.targetId,Ge.Yu),Ge.snapshot}),function(B,re,he,Ze){return U.apply(this,arguments)})(n,A,x,F);var U};const s=yield Ob(n.localStore,e,!0),u=new $T(e,s.Hi),d=u.ju(s.documents),f=lg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=u.applyChanges(d,n.isPrimaryClient,f);a(n,t,_.Yu);const w=new D1(e,t,u);return n.sc.set(e,w),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),Kb.apply(this,arguments)}function S1(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,ve.Z)(function*(n,e){const t=We(n),r=t.sc.get(e),s=t.ic.get(r.targetId);if(s.length>1)return t.ic.set(r.targetId,s.filter(u=>!sg(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rg(t.remoteStore,r.targetId),Lg(t,r.targetId)}).catch(uo))):(Lg(t,r.targetId),yield vf(t.localStore,r.targetId,!0))}),GT.apply(this,arguments)}function Yb(){return Yb=(0,ve.Z)(function*(n,e,t){const r=Bg(n);try{const s=yield function(u,d){const f=We(u),_=$n.now(),w=d.reduce((F,U)=>F.add(U.key),Bt());let A,x;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let U=cs(),B=Bt();return f.Gi.getEntries(F,w).next(re=>{U=re,U.forEach((he,Ze)=>{Ze.isValidDocument()||(B=B.add(he))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,U)).next(re=>{A=re;const he=[];for(const Ze of d){const Ke=kD(Ze,A.get(Ze.key).overlayedDocument);null!=Ke&&he.push(new jc(Ze.key,Ke,CE(Ke.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,he,d)}).next(re=>{x=re;const he=re.applyToLocalDocumentSet(A,B);return f.documentOverlayCache.saveOverlays(F,re.batchId,he)})}).then(()=>({batchId:x.batchId,changes:BE(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let _=u.ac[u.currentUser.toKey()];_||(_=new er(Rt)),_=_.insert(d,f),u.ac[u.currentUser.toKey()]=_}(r,s.batchId,t),yield h(r,s.changes),yield Cf(r.remoteStore)}catch(s){const u=ho(s,"Failed to persist write");t.reject(u)}}),Yb.apply(this,arguments)}function zT(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ve.Z)(function*(n,e){const t=We(n);try{const r=yield u1(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.uc.get(u);d&&(Ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.ec=!0:s.modifiedDocuments.size>0?Ot(d.ec):s.removedDocuments.size>0&&(Ot(d.ec),d.ec=!1))}),yield h(t,r,e)}catch(r){yield uo(r)}}),Qb.apply(this,arguments)}function x1(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.sc.forEach((u,d)=>{const f=d.view.bu(e);f.snapshot&&s.push(f.snapshot)}),function(u,d){const f=We(u);f.onlineState=d;let _=!1;f.queries.forEach((w,A)=>{for(const x of A.listeners)x.bu(d)&&(_=!0)}),_&&Hy(f)}(r.eventManager,e),s.length&&r.nc.Wo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lM(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,ve.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.uc.get(e),u=s&&s.key;if(u){let d=new er($e.comparator);d=d.insert(u,xn.newNoDocument(u,It.min()));const f=Bt().add(u),_=new Ld(It.min(),new Map,new Cn(Rt),d,f);yield zT(r,_),r.oc=r.oc.remove(u),r.uc.delete(e),l(r)}else yield vf(r.localStore,e,!1).then(()=>Lg(r,e,t)).catch(uo)}),WT.apply(this,arguments)}function dM(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,ve.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const s=yield CT(t.localStore,e);XT(t,r,null),JT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield h(t,s)}catch(s){yield uo(s)}}),KT.apply(this,arguments)}function M1(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,ve.Z)(function*(n,e,t){const r=We(n);try{const s=yield function(u,d){const f=We(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,d).next(A=>(Ot(null!==A),w=A.keys(),f.mutationQueue.removeMutationBatch(_,A))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);XT(r,e,t),JT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield h(r,s)}catch(s){yield uo(s)}}),YT.apply(this,arguments)}function QT(){return QT=(0,ve.Z)(function*(n,e){const t=We(n);zc(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=We(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const s=t.hc.get(r)||[];s.push(e),t.hc.set(r,s)}catch(r){const s=ho(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),QT.apply(this,arguments)}function JT(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function XT(n,e,t){const r=We(n);let s=r.ac[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.ac[r.currentUser.toKey()]=s}}function Lg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||o(n,r)})}function o(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Rg(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),l(n))}function a(n,e,t){for(const r of t)r instanceof Gb?(n.cc.addReference(r.key,e),c(n,r)):r instanceof zb?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||o(n,r.key)):it()}function c(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.rc.add(r),l(n))}function l(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new $e(Xt.fromString(e)),r=n.lc.next();n.uc.set(r,new HT(t)),n.oc=n.oc.insert(t,r),Ny(n.remoteStore,new ol(Hi(Ra(t.path)),r,2,$i.at))}}function h(n,e,t){return g.apply(this,arguments)}function g(){return g=(0,ve.Z)(function*(n,e,t){const r=We(n),s=[],u=[],d=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,_)=>{d.push(r.dc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),s.push(w);const A=Sy.Ci(_.targetId,w);u.push(A)}}))}),yield Promise.all(d),r.nc.Wo(s),yield(f=(0,ve.Z)(function*(_,w){const A=We(_);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(w,F=>ae.forEach(F.Si,U=>A.persistence.referenceDelegate.addReference(x,F.targetId,U)).next(()=>ae.forEach(F.Di,U=>A.persistence.referenceDelegate.removeReference(x,F.targetId,U)))))}catch(x){if(!Qu(x))throw x;ke("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const F=x.targetId;if(!x.fromCache){const U=A.Ui.get(F),re=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);A.Ui=A.Ui.insert(F,re)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,u))}),g.apply(this,arguments)}function v(n,e){return C.apply(this,arguments)}function C(){return C=(0,ve.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield xb(t.localStore,e);t.currentUser=e,(s=t).hc.forEach(d=>{d.forEach(f=>{f.reject(new Oe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield h(t,r.ji)}var s}),C.apply(this,arguments)}function E(n,e){const t=We(n),r=t.uc.get(e);if(r&&r.ec)return Bt().add(r.key);{let s=Bt();const u=t.ic.get(e);if(!u)return s;for(const d of u){const f=t.sc.get(d);s=s.unionWith(f.view.Qu)}return s}}function D(n,e){return O.apply(this,arguments)}function O(){return O=(0,ve.Z)(function*(n,e){const t=We(n),r=yield Ob(t.localStore,e.query,!0),s=e.view.Zu(r);return t.isPrimaryClient&&a(t,e.targetId,s.Yu),s}),O.apply(this,arguments)}function N(n,e){return G.apply(this,arguments)}function G(){return G=(0,ve.Z)(function*(n,e){const t=We(n);return IT(t.localStore,e).then(r=>h(t,r))}),G.apply(this,arguments)}function te(n,e,t,r){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,ve.Z)(function*(n,e,t,r){const s=We(n),u=yield function(d,f){const _=We(d),w=We(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",A=>w.Tn(A,f).next(x=>x?_.localDocuments.getDocuments(A,x):ae.resolve(null)))}(s.localStore,e);var f;null!==u?("pending"===t?yield Cf(s.remoteStore):"acknowledged"===t||"rejected"===t?(XT(s,e,r||null),JT(s,e),f=e,We(We(s.localStore).mutationQueue).An(f)):it(),yield h(s,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ce.apply(this,arguments)}function He(){return He=(0,ve.Z)(function*(n,e){const t=We(n);if(Vg(t),Bg(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield tt(t,r.toArray());t.fc=!0,yield jb(t.remoteStore,!0);for(const u of s)Ny(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let s=Promise.resolve();t.ic.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(Lg(t,d),vf(t.localStore,d,!0))),Rg(t.remoteStore,d)}),yield s,yield tt(t,r),function(u){const d=We(u);d.uc.forEach((f,_)=>{Rg(d.remoteStore,_)}),d.cc.fs(),d.uc=new Map,d.oc=new er($e.comparator)}(t),t.fc=!1,yield jb(t.remoteStore,!1)}}),He.apply(this,arguments)}function tt(n,e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,ve.Z)(function*(n,e,t){const r=We(n),s=[],u=[];for(const d of e){let f;const _=r.ic.get(d);if(_&&0!==_.length){f=yield Hc(r.localStore,Hi(_[0]));for(const w of _){const A=r.sc.get(w),x=yield D(r,A);x.snapshot&&u.push(x.snapshot)}}else{const w=yield d1(r.localStore,d);f=yield Hc(r.localStore,w),yield Fg(r,Me(w),d,!1)}s.push(f)}return r.nc.Wo(u),s}),Tt.apply(this,arguments)}function Me(n){return xE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function yt(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function Yt(n,e,t,r){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,ve.Z)(function*(n,e,t,r){const s=We(n);if(s.fc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=s.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield IT(s.localStore,DD(u[0])),f=Ld.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield h(s,d,f);break}case"rejected":yield vf(s.localStore,e,!0),Lg(s,e,r);break;default:it()}}),Dn.apply(this,arguments)}function zd(n,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,ve.Z)(function*(n,e,t){const r=Vg(n);if(r.fc){for(const s of e){if(r.ic.has(s)){ke("SyncEngine","Adding an already active target "+s);continue}const u=yield d1(r.localStore,s),d=yield Hc(r.localStore,u);yield Fg(r,Me(u),d.targetId,!1),Ny(r.remoteStore,d)}for(const s of t)r.ic.has(s)&&(yield vf(r.localStore,s,!1).then(()=>{Rg(r.remoteStore,s),Lg(r,s)}).catch(uo))}}),Ug.apply(this,arguments)}function Vg(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lM.bind(null,e),e.nc.Wo=oM.bind(null,e.eventManager),e.nc._c=aM.bind(null,e.eventManager),e}function Bg(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M1.bind(null,e),e}class zy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.It=Pg(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return xy(this.persistence,new Sb,e.initialUser,this.It)}gc(e){return new o1(Db.Bs,this.It)}mc(e){return new ST}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wy extends zy{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield Bg(r.Ec.syncEngine),yield Cf(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return xy(this.persistence,new Sb,e.initialUser,this.It)}Ic(e,t){return new Qx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new mE(t,this.persistence);return new k0(e.asyncQueue,r)}gc(e){const t=yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new _f(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Rb(),Og(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new ST}}class Xb extends Wy{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const s=r.Ec.syncEngine;r.sharedClientState instanceof Mg&&(r.sharedClientState.syncEngine={Fr:te.bind(null,s),$r:Yt.bind(null,s),Br:zd.bind(null,s),vi:yt.bind(null,s),Or:N.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ve.Z)(function*(d){yield function Ne(n,e){return He.apply(this,arguments)}(r.Ec.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}mc(e){const t=Rb();if(!Mg.C(t))throw new Oe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Zg{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>x1(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=v.bind(null,r.syncEngine),yield jb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qb}createDatastore(e){const t=Pg(e.databaseInfo.databaseId),r=new m1(e.databaseInfo);return new PT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=f=>x1(this.syncEngine,f,0),d=ky.C()?new ky:new g1,new Gc(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,f,_,w){const A=new Wb(r,s,u,d,f,_);return w&&(A.fc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=We(t);ke("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield bf(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ky(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class YR{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),s=Number(r);isNaN(s)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(s);return new I1(JSON.parse(u),t.length+s)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ve.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class QR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,ve.Z)(function*(u,d){const f=We(u),_=fg(f.It)+"/documents",w={documents:d.map(U=>df(f.It,U))},A=yield f.fo("BatchGetDocuments",_,w,d.length),x=new Map;A.forEach(U=>{const B=function Gx(n,e){return"found"in e?function(t,r){Ot(!!r.found);const s=qo(t,r.found.name),u=Nr(r.found.updateTime),d=new ui({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(s,u,d)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const s=qo(t,r.missing),u=Nr(r.readTime);return xn.newNoDocument(s,u)}(n,e):it()}(f.It,U);x.set(B.key.toString(),B)});const F=[];return d.forEach(U=>{const B=x.get(U.toString());Ot(!!B),F.push(B)}),F}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=$e.fromPath(s);e.mutations.push(new py(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(s,u){const d=We(s),f=fg(d.It)+"/documents",_={writes:u.map(w=>pg(d.It,w))};yield d.co("Commit",f,_)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Gn.exists(!1):Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Oe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class JR{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new Ry(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ve.Z)(function*(){const t=new QR(e.datastore),r=e.Mc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Oc(u)}))}).catch(s=>{e.Oc(s)})}))}Mc(e){try{const t=this.updateFunction(e);return!Jp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!UE(t)}return!1}}class XR{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Pr.UNAUTHENTICATED,this.clientId=S0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(f){ke("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=ho(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function fM(n,e){return O1.apply(this,arguments)}function O1(){return O1=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,ve.Z)(function*(u){r.isEqual(u)||(yield xb(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),O1.apply(this,arguments)}function pM(n,e){return P1.apply(this,arguments)}function P1(){return P1=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield k1(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>E1(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>E1(e.remoteStore,u)),n.onlineComponents=e}),P1.apply(this,arguments)}function k1(n){return R1.apply(this,arguments)}function R1(){return R1=(0,ve.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield fM(n,new zy)),n.offlineComponents}),R1.apply(this,arguments)}function tI(n){return N1.apply(this,arguments)}function N1(){return N1=(0,ve.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield pM(n,new Zg)),n.onlineComponents}),N1.apply(this,arguments)}function gM(n){return k1(n).then(e=>e.persistence)}function nI(n){return k1(n).then(e=>e.localStore)}function mM(n){return tI(n).then(e=>e.remoteStore)}function F1(n){return tI(n).then(e=>e.syncEngine)}function Yy(n){return L1.apply(this,arguments)}function L1(){return L1=(0,ve.Z)(function*(n){const e=yield tI(n),t=e.eventManager;return t.onListen=cM.bind(null,e.syncEngine),t.onUnlisten=S1.bind(null,e.syncEngine),t}),L1.apply(this,arguments)}function _M(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,u,d,f,_){const w=new eI({next:x=>{u.enqueueAndForget(()=>ZT(s,A));const F=x.docs.has(d);!F&&x.fromCache?_.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&f&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new $b(Ra(d.path),w,{includeMetadataChanges:!0,Nu:!0});return Ng(s,A)}(yield Yy(n),n.asyncQueue,e,t,r)})),r.promise}function yM(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(s,u,d,f,_){const w=new eI({next:x=>{u.enqueueAndForget(()=>ZT(s,A)),x.fromCache&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new $b(d,w,{includeMetadataChanges:!0,Nu:!0});return Ng(s,A)}(yield Yy(n),n.asyncQueue,e,t,r)})),r.promise}const vM=new Map;function U1(n,e,t){if(!t)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bM(n,e,t,r){if(!0===e&&!0===r)throw new Oe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wM(n){if(!$e.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CM(n){if($e.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rI(n);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function EM(n,e){if(e<=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ew{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pD;switch(t.type){case"gapi":return new uE(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vM.get(e);t&&(ke("ComponentProvider","Removing Datastore"),vM.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class pl extends ls{constructor(e,t,r){super(e,t,Ra(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new $e(e))}withConverter(e){return new pl(this.firestore,e,this._path)}}function IM(n,e,...t){if(n=(0,Ut.m9)(n),U1("collection","path",e),n instanceof ew){const r=Xt.fromString(e,...t);return CM(r),new pl(n,null,r)}{if(!(n instanceof tr||n instanceof pl))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return CM(r),new pl(n.firestore,null,r)}}function iI(n,e,...t){if(n=(0,Ut.m9)(n),1===arguments.length&&(e=S0.R()),U1("doc","path",e),n instanceof ew){const r=Xt.fromString(e,...t);return wM(r),new tr(n,null,new $e(r))}{if(!(n instanceof tr||n instanceof pl))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return wM(r),new tr(n.firestore,n instanceof pl?n.converter:null,new $e(r))}}function AM(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),(n instanceof tr||n instanceof pl)&&(e instanceof tr||e instanceof pl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function DM(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),n instanceof ls&&e instanceof ls&&n.firestore===e.firestore&&sg(n._query,e._query)&&n.converter===e.converter}class lN{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ry(this,"async_queue_retry"),this.jc=()=>{const t=Og();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Og();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Og();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ai;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Qu(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,qn("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const s=qy.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(s),s}Wc(){this.qc&&it()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function V1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class dN{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hr extends ew{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new lN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SM(this),this._firestoreClient.terminate()}}function Wr(n){return n._firestoreClient||SM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wD(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new XR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function xM(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield fM(n,t),yield pM(n,e),r.resolve()}catch(s){const u=s;if(!("FirebaseError"===(d=u).name?d.code===de.FAILED_PRECONDITION||d.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Uc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function MM(n){if(n._initialized||n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(Rr.fromBase64String(e))}catch(t){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jg{constructor(e){this._methodName=e}}class sI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const wN=/^__.*__$/;class CN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fd(e,this.data,t,this.fieldTransforms)}}class OM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class oI{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new oI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.sa({path:r,ra:!1});return s.oa(e),s}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.sa({path:r,ra:!1});return s.ea(),s}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return uI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(PM(this.na)&&wN.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class EN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Pg(e)}fa(e,t,r,s=!1){return new oI({na:e,methodName:t,la:r,path:Hn.emptyPath(),ra:!1,ha:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qg(n){const e=n._freezeSettings(),t=Pg(n._databaseId);return new EN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aI(n,e,t,r,s,u={}){const d=n.fa(u.merge||u.mergeFields?2:0,e,t,s);q1("Data must be an object, but it was:",d,r);const f=NM(r,d);let _,w;if(u.merge)_=new Ps(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const x of u.mergeFields){const F=$1(e,x,t);if(!d.contains(F))throw new Oe(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);LM(A,F)||A.push(F)}_=new Ps(A),w=d.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=d.fieldTransforms;return new CN(new ui(f),_,w)}class tw extends jg{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function kM(n,e,t){return new oI({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class B1 extends jg{_toFieldTransform(e){return new Na(e.path,new af)}isEqual(e){return e instanceof B1}}class TN extends jg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=kM(this,e,!0),r=this.da.map(u=>$g(u,t)),s=new Pd(r);return new Na(e.path,s)}isEqual(e){return this===e}}class IN extends jg{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=kM(this,e,!0),r=this.da.map(u=>$g(u,t)),s=new kd(r);return new Na(e.path,s)}isEqual(e){return this===e}}class AN extends jg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Rd(e.It,og(e.It,this._a));return new Na(e.path,t)}isEqual(e){return this===e}}function Z1(n,e,t,r){const s=n.fa(1,e,t);q1("Data must be an object, but it was:",s,r);const u=[],d=ui.empty();Xu(r,(_,w)=>{const A=cI(e,_,t);w=(0,Ut.m9)(w);const x=s.ua(A);if(w instanceof tw)u.push(A);else{const F=$g(w,x);null!=F&&(u.push(A),d.set(A,F))}});const f=new Ps(u);return new OM(d,f,s.fieldTransforms)}function j1(n,e,t,r,s,u){const d=n.fa(1,e,t),f=[$1(e,r,t)],_=[s];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)f.push($1(e,u[F])),_.push(u[F+1]);const w=[],A=ui.empty();for(let F=f.length-1;F>=0;--F)if(!LM(w,f[F])){const U=f[F];let B=_[F];B=(0,Ut.m9)(B);const re=d.ua(U);if(B instanceof tw)w.push(U);else{const he=$g(B,re);null!=he&&(w.push(U),A.set(U,he))}}const x=new Ps(w);return new OM(A,x,d.fieldTransforms)}function RM(n,e,t,r=!1){return $g(t,n.fa(r?4:3,e))}function $g(n,e){if(FM(n=(0,Ut.m9)(n)))return q1("Unsupported field value:",e,n),NM(n,e);if(n instanceof jg)return function(t,r){if(!PM(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let f=$g(d,r.ca(u));null==f&&(f={nullValue:"NULL_VALUE"}),s.push(f),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return og(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=$n.fromDate(t);return{timestampValue:dg(r.It,s)}}if(t instanceof $n){const s=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dg(r.It,s)}}if(t instanceof sI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:_y(r.It,t._byteString)};if(t instanceof tr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${rI(t)}`)}(n,e)}function NM(n,e){const t={};return N0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(n,(r,s)=>{const u=$g(s,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function FM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof sI||n instanceof gl||n instanceof tr||n instanceof jg)}function q1(n,e,t){if(!FM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rI(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function $1(n,e,t){if((e=(0,Ut.m9)(e))instanceof Wd)return e._internalPath;if("string"==typeof e)return cI(n,e);throw uI("Field path arguments must be of type string or ",n,!1,void 0,t)}const DN=new RegExp("[~\\*/\\[\\]]");function cI(n,e,t){if(e.search(DN)>=0)throw uI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wd(...e.split("."))._internalPath}catch{throw uI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uI(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${s}`),_+=")"),new Oe(de.INVALID_ARGUMENT,f+n+_)}function LM(n,e){return n.some(t=>t.isEqual(e))}class nw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class SN extends nw{data(){return super.data()}}function lI(n,e){return"string"==typeof e?cI(n,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}class Hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends nw{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class rw extends Kd{data(e={}){return super.data(e)}}class Af{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rw(this._firestore,this._userDataWriter,r.key,r,new Hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new rw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const f=new rw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:xN(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function UM(n,e){return n instanceof Kd&&e instanceof Kd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Af&&e instanceof Af&&n._firestore===e._firestore&&DM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function VM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}function Df(n,...e){for(const t of e)n=t._apply(n);return n}class MN extends iw{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=qg(e.firestore),r=function(s,u,d,f,_,w,A){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){HM(A,w);const U=[];for(const B of A)U.push($M(f,s,B));x={arrayValue:{values:U}}}else x=$M(f,s,A)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||HM(A,w),x=RM(d,"where",A,"in"===w||"not-in"===w);const F=Gr.create(_,w,x);return function(U,B){if(B.dt()){const he=H0(U);if(null!==he&&!he.isEqual(B.field))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${he.toString()}' and '${B.field.toString()}'`);const Ze=$0(U);null!==Ze&&GM(0,B.field,Ze)}const re=function(he,Ze){for(const Ke of he.filters)if(Ze.indexOf(Ke.op)>=0)return Ke.op;return null}(U,function(he){switch(he){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==re)throw new Oe(de.INVALID_ARGUMENT,re===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${re.toString()}' filters.`)}(s,F),F}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ls(e.firestore,e.converter,function(s,u){const d=s.filters.concat([u]);return new ka(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class PN extends iw{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new nf(s,u);return function(f,_){if(null===$0(f)){const w=H0(f);null!==w&&GM(0,w,_.field)}}(r,d),d}(e._query,this.wa,this.ya);return new ls(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new ka(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class BM extends iw{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ls(e.firestore,e.converter,ig(e._query,this.pa,this.Ia))}}class ZM extends iw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=qM(e,this.type,this.Ta,this.Ea);return new ls(e.firestore,e.converter,(s=t,new ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class jM extends iw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=qM(e,this.type,this.Ta,this.Ea);return new ls(e.firestore,e.converter,(s=t,new ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function qM(n,e,t,r){if(t[0]=(0,Ut.m9)(t[0]),t[0]instanceof nw)return function(s,u,d,f,_){if(!f)throw new Oe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const A of Od(s))if(A.field.isKeyField())w.push(rl(u,f.key));else{const x=f.data.field(A.field);if(F0(x))throw new Oe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=A.field.canonicalString();throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(x)}return new il(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=qg(n.firestore);return function(u,d,f,_,w,A){const x=u.explicitOrderBy;if(w.length>x.length)throw new Oe(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let U=0;U<w.length;U++){const B=w[U];if(x[U].field.isKeyField()){if("string"!=typeof B)throw new Oe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!G0(u)&&-1!==B.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const re=u.path.child(Xt.fromString(B));if(!$e.isDocumentKey(re))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const he=new $e(re);F.push(rl(d,he))}else{const re=RM(f,_,B);F.push(re)}}return new il(F,A)}(n._query,n.firestore._databaseId,s,e,t,r)}}function $M(n,e,t){if("string"==typeof(t=(0,Ut.m9)(t))){if(""===t)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&-1!==t.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xt.fromString(t));if(!$e.isDocumentKey(r))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rl(n,new $e(r))}if(t instanceof tr)return rl(n,t._key);throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rI(t)}.`)}function HM(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function GM(n,e,t){if(!t.isEqual(e))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const BN={maxAttempts:5};class H1{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Xu(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new sI(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const t=el(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xt.fromString(e);Ot(JE(r));const s=new tl(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return s.isEqual(t)||qn(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function dI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZN extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class zM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qg(e)}set(e,t,r){this._verifyNotCommitted();const s=Sf(e,this._firestore),u=dI(s.converter,t,r),d=aI(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Gn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Sf(e,this._firestore);let d;return d="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Wd?j1(this._dataReader,"WriteBatch.update",u._key,t,r,s):Z1(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sf(e,this._firestore);return this._mutations=this._mutations.concat(new cf(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sf(n,e){if((n=(0,Ut.m9)(n)).firestore!==e)throw new Oe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gg extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function WM(n,e,t){n=ln(n,tr);const r=ln(n.firestore,hr),s=dI(n.converter,e,t);return Qy(r,[aI(qg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Gn.none())])}function KM(n,e,t,...r){n=ln(n,tr);const s=ln(n.firestore,hr),u=qg(s);let d;return d="string"==typeof(e=(0,Ut.m9)(e))||e instanceof Wd?j1(u,"updateDoc",n._key,e,t,r):Z1(u,"updateDoc",n._key,e),Qy(s,[d.toMutation(n._key,Gn.exists(!0))])}function YM(n,...e){var t,r,s;n=(0,Ut.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||V1(e[d])||(u=e[d],d++);const f={includeMetadataChanges:u.includeMetadataChanges};if(V1(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let _,w,A;if(n instanceof tr)w=ln(n.firestore,hr),A=Ra(n._key.path),_={next:x=>{e[d]&&e[d](G1(w,n,x))},error:e[d+1],complete:e[d+2]};else{const x=ln(n,ls);w=ln(x.firestore,hr),A=x._query;const F=new Gg(w);_={next:U=>{e[d]&&e[d](new Af(w,F,x,U))},error:e[d+1],complete:e[d+2]},VM(n._query)}return function(x,F,U,B){const re=new eI(B),he=new $b(F,re,U);return x.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Ng(yield Yy(x),he)})),()=>{re.Rc(),x.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return ZT(yield Yy(x),he)}))}}(Wr(w),A,f,_)}function Qy(n,e){return function(t,r){const s=new ai;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function uM(n,e,t){return Yb.apply(this,arguments)}(yield F1(t),r,s)})),s.promise}(Wr(n),e)}function G1(n,e,t){const r=t.docs.get(e._key),s=new Gg(n);return new Kd(n,s,e._key,r,new Hg(t.hasPendingWrites,t.fromCache),e.converter)}class QN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qg(e)}get(e){const t=Sf(e,this._firestore),r=new ZN(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return it();const u=s[0];if(u.isFoundDocument())return new nw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new nw(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const s=Sf(e,this._firestore),u=dI(s.converter,t,r),d=aI(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=Sf(e,this._firestore);let d;return d="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Wd?j1(this._dataReader,"Transaction.update",u._key,t,r,s):Z1(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Sf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sf(e,this._firestore),r=new Gg(this._firestore);return super.get(e).then(s=>new Kd(this._firestore,r,t._key,s._document,new Hg(!1,!1),t.converter))}}function z1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function JM(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function XM(){if(!function vD(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ad=oo.SDK_VERSION,(0,oo._registerComponent)(new ao.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),d=new hr(new gD(t.getProvider("auth-internal")),new mD(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(f.options.projectId,_)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,oo.registerVersion)(D0,"3.5.0",n),(0,oo.registerVersion)(D0,"3.5.0","esm2017")}();class sw{constructor(e){this._delegate=e}static fromBase64String(e){return XM(),new sw(gl.fromBase64String(e))}static fromUint8Array(e){return JM(),new sw(gl.fromUint8Array(e))}toBase64(){return XM(),this._delegate.toBase64()}toUint8Array(){return JM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function W1(n){return function oF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class aF{enableIndexedDbPersistence(e,t){return function fN(n,e){MM(n=ln(n,hr));const t=Wr(n),r=n._freezeSettings(),s=new Zg;return xM(t,s,new Wy(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pN(n){MM(n=ln(n,hr));const e=Wr(n),t=n._freezeSettings(),r=new Zg;return xM(e,r,new Xb(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function gN(n){if(n._initialized&&!n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!lo.C())return Promise.resolve();const s=r+"main";yield lo.delete(s)}),function(r){return t.apply(this,arguments)})(yf(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class eO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Uc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function cN(n,e,t,r={}){var s;const u=(n=ln(n,ew))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Uc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Pr.MOCK_USER;else{d=(0,Ut.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pr(_)}n._authCredentials=new cE(new aE(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function _N(n){return function eN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield gM(n),t=yield mM(n);return e.setNetworkEnabled(!0),function(r){const s=We(r);return s._u.delete(0),kg(s)}(t)}))}(Wr(n=ln(n,hr)))}(this._delegate)}disableNetwork(){return function yN(n){return function tN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield gM(n),t=yield mM(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(s){const u=We(s);u._u.add(0),yield bf(u),u.gu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Wr(n=ln(n,hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,bM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mN(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function hM(n,e){return QT.apply(this,arguments)}(yield F1(e),t)})),t.promise}(Wr(n=ln(n,hr)))}(this._delegate)}onSnapshotsInSync(e){return function YN(n,e){return function iN(n,e){const t=new eI(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Yy(n),s=t,We(r).Ru.add(s),void s.next();var r,s})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Yy(n),s=t,void We(r).Ru.delete(s);var r,s}))}}(Wr(n=ln(n,hr)),V1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jy(this,IM(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,iI(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function uN(n,e){if(n=ln(n,ew),U1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(n,null,(t=e,new ka(Xt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function JN(n,e,t){n=ln(n,hr);const r=Object.assign(Object.assign({},BN),t);return function(s){if(s.maxAttempts<1)throw new Oe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function sN(n,e,t){const r=new ai;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const s=yield(u=n,tI(u).then(d=>d.datastore));var u;new JR(n.asyncQueue,s,t,e,r).run()})),r.promise}(Wr(n),s=>e(new QN(n,s)),r)}(this._delegate,t=>e(new tO(this,t)))}batch(){return Wr(this._delegate),new nO(new zM(this._delegate,e=>Qy(this._delegate,e)))}loadBundle(e){return function vN(n,e){const t=Wr(n=ln(n,hr)),r=new dN;return function oN(n,e,t,r){const s=function(u,d){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,w){if(_ instanceof Uint8Array)return Ky(_,w);if(_ instanceof ArrayBuffer)return Ky(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new YR(_,d);var _}(t,Pg(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Jb(n,e,t){const r=We(n);var s;(s=(0,ve.Z)(function*(u,d,f){try{const _=yield d.getMetadata();if(yield function(F,U){const B=We(F),re=Nr(U.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",he=>B.Ns.getBundleMetadata(he,U.id)).then(he=>!!he&&he.createTime.compareTo(re)>=0)}(u.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(Hb(_));const w=new A1(_,u.localStore,d.It);let A=yield d.wc();for(;A;){const F=yield w.Ou(A);F&&f._updateProgress(F),A=yield d.wc()}const x=yield w.complete();return yield h(u,x.Bu,void 0),yield function(F,U){const B=We(F);return B.persistence.runTransaction("Save bundle","readwrite",re=>B.Ns.saveBundleMetadata(re,U))}(u.localStore,_),f._completeWith(x.progress),Promise.resolve(x.$u)}catch(_){return Uc("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(u,d,f){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield F1(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bN(n,e){return function aN(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const s=We(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ns.getNamedQuery(u,r))}(yield nI(n),e)}))}(Wr(n=ln(n,hr)),e).then(t=>t?new ls(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class hI extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sw(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(t,this.firestore,null)}}class tO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}get(e){const t=Wg(e);return this._delegate.get(t).then(r=>new ow(this._firestore,new Kd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Wg(e);return r?(z1("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Wg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}}class nO{constructor(e){this._delegate=e}set(e,t,r){const s=Wg(e);return r?(z1("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Wg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new rw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new zg(e,new hI(e),t),s.set(t,u)),u}}zg.INSTANCES=new WeakMap;class Ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(t,new tr(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new Ba(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jy(this.firestore,IM(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ut.m9)(e))instanceof tr&&AM(this._delegate,e)}set(e,t){t=z1("DocumentReference.set",t);try{return t?WM(this._delegate,e,t):WM(this._delegate,e)}catch(r){throw Rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?KM(this._delegate,e):KM(this._delegate,e,t,...r)}catch(s){throw Rs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function WN(n){return Qy(ln(n.firestore,hr),[new cf(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=rO(e),r=iO(e,s=>new ow(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return YM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function qN(n){n=ln(n,tr);const e=ln(n.firestore,hr),t=Wr(e),r=new Gg(e);return function nN(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(s,u,d){try{const f=yield function(_,w){const A=We(_);return A.persistence.runTransaction("read document","readonly",x=>A.localDocuments.getDocument(x,w))}(s,u);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Oe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ho(f,`Failed to get document '${u} from cache`);d.reject(_)}}),function(s,u,d){return r.apply(this,arguments)})(yield nI(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Kd(e,r,n._key,s,new Hg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $N(n){n=ln(n,tr);const e=ln(n.firestore,hr);return _M(Wr(e),n._key,{source:"server"}).then(t=>G1(e,n,t))}(this._delegate):function jN(n){n=ln(n,tr);const e=ln(n.firestore,hr);return _M(Wr(e),n._key).then(t=>G1(e,n,t))}(this._delegate),t.then(r=>new ow(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function rO(n){for(const e of n)if("object"==typeof e&&!W1(e))return e;return{}}function iO(n,e){var t,r;let s;return s=W1(n[0])?n[0]:W1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class ow{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UM(this._delegate,e._delegate)}}class aw extends ow{data(e){const t=this._delegate.data(e);return function oE(n,e){n||it()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}where(e,t,r){try{return new Ns(this.firestore,Df(this._delegate,function ON(n,e,t){const r=e,s=lI("where",n);return new MN(s,r,t)}(e,t,r)))}catch(s){throw Rs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,Df(this._delegate,function kN(n,e="asc"){const t=e,r=lI("orderBy",n);return new PN(r,t)}(e,t)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,Df(this._delegate,function RN(n){return EM("limit",n),new BM("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,Df(this._delegate,function NN(n){return EM("limitToLast",n),new BM("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,Df(this._delegate,function FN(...n){return new ZM("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,Df(this._delegate,function LN(...n){return new ZM("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,Df(this._delegate,function UN(...n){return new jM("endBefore",n,!1)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,Df(this._delegate,function VN(...n){return new jM("endAt",n,!0)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return DM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function GN(n){n=ln(n,ls);const e=ln(n.firestore,hr),t=Wr(e),r=new Gg(e);return function rN(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(s,u,d){try{const f=yield Ob(s,u,!0),_=new $T(u,f.Hi),w=_.ju(f.documents),A=_.applyChanges(w,!1);d.resolve(A.snapshot)}catch(f){const _=ho(f,`Failed to execute query '${u} against cache`);d.reject(_)}}),function(s,u,d){return r.apply(this,arguments)})(yield nI(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Af(e,r,n,s))}(this._delegate):"server"===e?.source?function zN(n){n=ln(n,ls);const e=ln(n.firestore,hr),t=Wr(e),r=new Gg(e);return yM(t,n._query,{source:"server"}).then(s=>new Af(e,r,n,s))}(this._delegate):function HN(n){n=ln(n,ls);const e=ln(n.firestore,hr),t=Wr(e),r=new Gg(e);return VM(n._query),yM(t,n._query).then(s=>new Af(e,r,n,s))}(this._delegate),t.then(r=>new K1(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=rO(e),r=iO(e,s=>new K1(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return YM(this._delegate,t,r)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}class uF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new aw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class K1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new aw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new aw(this._firestore,r))})}isEqual(e){return UM(this._delegate,e._delegate)}}class Jy extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?iI(this._delegate):iI(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function KN(n,e){const t=ln(n.firestore,hr),r=iI(n),s=dI(n.converter,e);return Qy(t,[aI(qg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ba(this.firestore,t))}isEqual(e){return AM(this._delegate,e._delegate)}withConverter(e){return new Jy(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Wg(n){return ln(n,tr)}class Y1{constructor(...e){this._delegate=new Wd(...e)}static documentId(){return new Y1(Hn.keyField().canonicalString())}isEqual(e){return(e=(0,Ut.m9)(e))instanceof Wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function eF(){return new B1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kg(e)}static delete(){const e=function XN(){return new tw("deleteField")}();return e._methodName="FieldValue.delete",new Kg(e)}static arrayUnion(...e){const t=function tF(...n){return new TN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kg(t)}static arrayRemove(...e){const t=function nF(...n){return new IN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kg(t)}static increment(e){const t=function rF(n){return new AN("increment",n)}(e);return t._methodName="FieldValue.increment",new Kg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lF={Firestore:eO,GeoPoint:sI,Timestamp:$n,Blob:sw,Transaction:tO,WriteBatch:nO,DocumentReference:Ba,DocumentSnapshot:ow,Query:Ns,QueryDocumentSnapshot:aw,QuerySnapshot:K1,CollectionReference:Jy,FieldPath:Y1,FieldValue:Kg,setLogLevel:function cF(n){!function sE(n){Wu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function hF(n){(function dF(n,e){n.INTERNAL.registerComponent(new ao.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},lF)))})(n,(e,t)=>new eO(e,t,new aF)),n.registerVersion("@firebase/firestore-compat","0.1.25")}($A.Z);var fF=R(6451),fI=R(5363),pF=R(6063);class gF extends ar.x{constructor(e=1/0,t=1/0,r=pF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var mF=R(3099);function sO(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,mF.B)({connector:()=>new gF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function oO(n,e){return(0,ma.m)(e)?Jt(()=>n,e):Jt(()=>n)}var Q1=R(9468);R(5867);const cO=new Map,wF={activated:!1,tokenObservers:[]},CF={initialized:!1,enabled:!1};function Ii(n){return cO.get(n)||wF}function Wc(n,e){cO.set(n,e)}function gI(){return CF}class DF{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Ut.BH,yield function SF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ut.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fs=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lO(n){if(!Ii(n).activated)throw Fs.create("use-before-activation",{appName:n.name})}function tS(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,ve.Z)(function*({url:n,body:e},t){var r,s;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const U=yield d.getHeartbeatsHeader();U&&(u["X-Firebase-Client"]=U)}const f={method:"POST",body:JSON.stringify(e),headers:u};let _,w;try{_=yield fetch(n,f)}catch(U){throw Fs.create("fetch-network-error",{originalErrorMessage:null===(r=U)||void 0===r?void 0:r.message})}if(200!==_.status)throw Fs.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(U){throw Fs.create("fetch-parse-error",{originalErrorMessage:null===(s=U)||void 0===s?void 0:s.message})}const A=w.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(A[1]),F=Date.now();return{token:w.token,expireTimeMillis:F+x,issuedAtTimeMillis:F}}),nS.apply(this,arguments)}function PF(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const cw="firebase-app-check-store";let yI=null;function hO(){return yI||(yI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=s=>{n(s.target.result)},r.onerror=s=>{var u;e(Fs.create("storage-open",{originalErrorMessage:null===(u=s.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(cw,{keyPath:"compositeKey"})}}catch(r){e(Fs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),yI)}function rS(){return rS=(0,ve.Z)(function*(n,e){const r=(yield hO()).transaction(cw,"readwrite"),u=r.objectStore(cw).put({compositeKey:n,value:e});return new Promise((d,f)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var w;f(Fs.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),rS.apply(this,arguments)}const uw=new Nu.Yd("@firebase/app-check");function mO(n,e){return(0,Ut.hl)()?function FF(n,e){return function fO(n,e){return rS.apply(this,arguments)}(function gO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{uw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _O(){return gI().enabled}function yO(){return aS.apply(this,arguments)}function aS(){return aS=(0,ve.Z)(function*(){const n=gI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),aS.apply(this,arguments)}const jF={error:"UNKNOWN_ERROR"};function qF(n){return Ut.US.encodeString(JSON.stringify(n),!1)}function vI(n){return cS.apply(this,arguments)}function cS(){return cS=(0,ve.Z)(function*(n,e=!1){const t=n.app;lO(t);const r=Ii(t);let u,s=r.token;if(!s){const _=yield r.cachedTokenPromise;_&&bI(_)&&(s=_)}if(!e&&s&&bI(s))return{token:s.token};let f,d=!1;if(_O()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tS(PF(t,yield yO()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield mO(t,_),Wc(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),s=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?uw.warn(_.message):uw.error(_),u=_}return s?(f={token:s.token},Wc(t,Object.assign(Object.assign({},r),{token:s})),yield mO(t,s)):f=HF(u),d&&bO(t,f),f}),cS.apply(this,arguments)}function lS(n,e){const t=Ii(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Wc(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function vO(n){const{app:e}=n,t=Ii(e);let r=t.tokenRefresher;r||(r=function $F(n){const{app:e}=n;return new DF((0,ve.Z)(function*(){let r;if(r=Ii(e).token?yield vI(n,!0):yield vI(n),r.error)throw r.error}),()=>!0,()=>{const t=Ii(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Wc(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bO(n,e){const t=Ii(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function bI(n){return n.expireTimeMillis-Date.now()>0}function HF(n){return{token:qF(jF),error:n}}class GF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ii(this.app);for(const t of e)lS(this.app,t.next);return Promise.resolve()}}const SO="app-check-internal";!function oL(){(0,oo._registerComponent)(new ao.wA("app-check",n=>function zF(n,e){return new GF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SO).initialize()})),(0,oo._registerComponent)(new ao.wA(SO,n=>function WF(n){return{getToken:e=>vI(n,e),addTokenListener:e=>function uS(n,e,t,r){const{app:s}=n,u=Ii(s),d={next:t,error:r,type:e};if(Wc(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&bI(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),vO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>vO(n))}(n,"INTERNAL",e),removeTokenListener:e=>lS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oo.registerVersion)("@firebase/app-check","0.5.12")}();class CI{constructor(){return(0,Xn.vb)("app-check")}}typeof window<"u"&&window;var MO=R(127);const OO=new i.OlP("angularfire2.auth.use-emulator"),PO=new i.OlP("angularfire2.auth.settings"),kO=new i.OlP("angularfire2.auth.tenant-id"),RO=new i.OlP("angularfire2.auth.langugage-code"),NO=new i.OlP("angularfire2.auth.use-device-language"),FO=new i.OlP("angularfire.auth.persistence"),LO=(n,e,t,r,s,u,d,f)=>(0,ji.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=s,u&&_.useDeviceLanguage(),d)for(const[w,A]of Object.entries(d))_.settings[w]=A;return f&&_.setPersistence(f),_},[t,r,s,u,d,f]);let gS=(()=>{class n{constructor(t,r,s,u,d,f,_,w,A,x,F,U){const B=new ar.x,re=Xe(void 0).pipe((0,fI.Q)(d.outsideAngular),Jt(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,2476)))),(0,at.U)(()=>(0,ji.on)(t,u,r)),(0,at.U)(he=>LO(he,u,f,w,A,x,_,F)),sO({bufferSize:1,refCount:!1}));if(_r(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{re.pipe(ie()).subscribe();const Ze=re.pipe(Jt(Ge=>Ge.getRedirectResult().then(_t=>_t,()=>null)),Xn.iC,sO({bufferSize:1,refCount:!1})),Ke=re.pipe(Jt(Ge=>new Ir.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ge.onAuthStateChanged(vt=>_t.next(vt),vt=>_t.error(vt),()=>_t.complete()))})))),Qe=re.pipe(Jt(Ge=>new Ir.y(_t=>({unsubscribe:u.runOutsideAngular(()=>Ge.onIdTokenChanged(vt=>_t.next(vt),vt=>_t.error(vt),()=>_t.complete()))}))));this.authState=Ze.pipe(oO(Ke),(0,Q1.R)(d.outsideAngular),(0,fI.Q)(d.insideAngular)),this.user=Ze.pipe(oO(Qe),(0,Q1.R)(d.outsideAngular),(0,fI.Q)(d.insideAngular)),this.idToken=this.user.pipe(Jt(Ge=>Ge?(0,jt.D)(Ge.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Jt(Ge=>Ge?(0,jt.D)(Ge.getIdTokenResult()):Xe(null))),this.credential=(0,fF.T)(Ze,B,this.authState.pipe(T(Ge=>!Ge))).pipe((0,at.U)(Ge=>Ge?.user?Ge:null),(0,Q1.R)(d.outsideAngular),(0,fI.Q)(d.insideAngular))}return(0,ji.pX)(this,re,u,{spy:{apply:(he,Ze,Ke)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&Ke.then(Qe=>B.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ji.Dh),i.LFG(ji.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Xn.HU),i.LFG(OO,8),i.LFG(PO,8),i.LFG(kO,8),i.LFG(RO,8),i.LFG(NO,8),i.LFG(FO,8),i.LFG(CI,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function UO(n,e){return function hL(n,e=cC.z){return new Ir.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function mS(n,e){return UO(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function EI(n,e){return mS(n,e).pipe(Su(void 0),C_(),(0,at.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=s.find(A=>A.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),u}))}function VO(n,e,t){return EI(n,t).pipe(xt((r,s)=>function pL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _S(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function qA(n,e=Xs.y){return n=n??uC,(0,cr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Nn.x)(r,d=>{const f=e(d);(u||!n(s,f))&&(u=!1,s=f,r.next(d))}))})}(),(0,at.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function _S(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function BO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=EI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Su(void 0),C_(),T(([r,s])=>s.length>0||!r),(0,at.U)(([r,s])=>s),Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BO(e);return VO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return mS(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xn.iC)}get(e){return(0,jt.D)(this.query.get(e)).pipe(Xn.iC)}add(e){return this.ref.add(e)}doc(e){return new jO(this.ref.doc(e),this.afs)}}class jO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=HO(r,t);return new ZO(s,u,this.afs)}snapshotChanges(){return function fL(n,e){return UO(n,e).pipe(Su(void 0),C_(),(0,at.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jt.D)(this.ref.get(e)).pipe(Xn.iC)}}class mL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?EI(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),T(t=>t.length>0),Xn.iC):EI(this.query,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}auditTrail(e){return this.stateChanges(e).pipe(xt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BO(e);return VO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(e={}){return mS(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Xn.iC)}get(e){return(0,jt.D)(this.query.get(e)).pipe(Xn.iC)}}const qO=new i.OlP("angularfire2.enableFirestorePersistence"),$O=new i.OlP("angularfire2.firestore.persistenceSettings"),_L=new i.OlP("angularfire2.firestore.settings"),yL=new i.OlP("angularfire2.firestore.use-emulator");function HO(n,e=(t=>t)){return{query:e(n),ref:n}}let TI=(()=>{class n{constructor(t,r,s,u,d,f,_,w,A,x,F,U,B,re,he,Ze,Ke){this.schedulers=_;const Qe=(0,ji.on)(t,f,r),Ge=A;x&&LO(Qe,f,F,B,re,he,U,Ze),[this.firestore,this.persistenceEnabled$]=(0,ji.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const _t=f.runOutsideAngular(()=>Qe.firestore());if(u&&_t.settings(u),Ge&&_t.useEmulator(...Ge),s&&!_r(d)){const vt=()=>{try{return(0,jt.D)(_t.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Wt){return typeof console<"u"&&console.warn(Wt),Xe(!1)}};return[_t,f.runOutsideAngular(vt)]}return[_t,Xe(!1)]},[u,Ge,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=HO(s,r),f=this.schedulers.ngZone.run(()=>u);return new ZO(f,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new mL(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new jO(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ji.Dh),i.LFG(ji.xv,8),i.LFG(qO,8),i.LFG(_L,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Xn.HU),i.LFG($O,8),i.LFG(yL,8),i.LFG(gS,8),i.LFG(OO,8),i.LFG(PO,8),i.LFG(kO,8),i.LFG(RO,8),i.LFG(NO,8),i.LFG(FO,8),i.LFG(CI,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vL=(()=>{class n{constructor(){MO.Z.registerVersion("angularfire",Xn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qO,useValue:!0},{provide:$O,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[TI]}),n})();var zn=R(655),bL=R(5032);function GO(n){return(0,cr.e)((e,t)=>{(0,Ni.Xf)(n).subscribe((0,Nn.x)(t,()=>t.complete(),bL.Z)),!t.closed&&e.subscribe(t)})}const wL=i.GuJ,EL=Symbol("__destroy"),zO=Symbol("__decoratorApplied");function WO(n){return"string"==typeof n?Symbol(`__destroy__${n}`):EL}function KO(n,e){n[e]||(n[e]=new ar.x)}function YO(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function QO(n){n instanceof Fi.w0&&n.unsubscribe()}function JO(n,e){return function(){if(n&&n.call(this),YO(this,WO()),e.arrayName&&function IL(n){Array.isArray(n)&&n.forEach(QO)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||QO(this[t])}}function Wn(n={}){return e=>{!function CL(n){return!!n[wL]}(e)?function AL(n,e){n.prototype.ngOnDestroy=JO(n.prototype.ngOnDestroy,e)}(e,n):function DL(n,e){const t=n.\u0275pipe;t.onDestroy=JO(t.onDestroy,e)}(e,n),function TL(n){n.prototype[zO]=!0}(e)}}function nt(n,e){return t=>{const r=WO(e);return"string"==typeof e?function ML(n,e,t){const r=n[e];KO(n,t),n[e]=function(){r.apply(this,arguments),YO(this,t),n[e]=r}}(n,e,r):KO(n,r),t.pipe(GO(n[r]))}}Symbol("CheckerHasBeenSet");let Ho=class{constructor(e){this.afAuth=e,this.currentUser$=this.afAuth.authState,this.afAuth.authState.pipe(nt(this)).subscribe(t=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.setItem("user","null")})}signUp(e,t){return(0,jt.D)(this.afAuth.createUserWithEmailAndPassword(e,t))}login(e,t){return(0,jt.D)(this.afAuth.signInWithEmailAndPassword(e,t))}logout(){return localStorage.removeItem("user"),(0,jt.D)(this.afAuth.signOut())}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}};Ho.\u0275fac=function(e){return new(e||Ho)(i.LFG(gS))},Ho.\u0275prov=i.Yz7({token:Ho,factory:Ho.\u0275fac,providedIn:"root"}),Ho=(0,zn.gn)([Wn()],Ho);let fr=(()=>{class n{constructor(t,r){this.afs=t,this.authService=r}get CurrentUserProfile$(){return this.authService.currentUser$.pipe(Jt(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():Xe(null)))}addUser(t){return(0,jt.D)(this.afs.collection("/users").doc(t.uid).set(t))}addAdmin(t){return(0,jt.D)(this.afs.collection("/users").doc(t.uid).set(t))}getAllUsers(){return this.afs.collection("/users").snapshotChanges()}deleteCustomer(t){this.afs.doc("/users/"+t.uid).delete()}getPublishedCust(){return this.afs.collection("/acceptedBook").snapshotChanges()}getUserById(t){return this.afs.doc(`users/${t}`).valueChanges()}deleteAdmin(t){this.afs.doc("/users/"+t.uid).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(TI),i.LFG(Ho))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OL=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(fr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-about-us"]],decls:54,vars:0,consts:[["href","https://fonts.googleapis.com/css?family=Roboto","rel","stylesheet"],[1,"aboutus-section"],[1,"container"],[1,"row"],[1,"col-md-3","col-sm-6","col-xs-12"],[1,"aboutus"],[1,"aboutus-title"],[1,"aboutus-text"],[1,"aboutus-more"],[1,"aboutus-banner"],["src","../../../assets/publishing-book.png",1,"adjimg"],[1,"col-md-5","col-sm-6","col-xs-12"],[1,"feature"],[1,"feature-box"],[1,"clearfix"],[1,"iconset"],[1,"feature-content"],[1,"contactus"],["src","https://img.icons8.com/glyph-neue/64/000000/user-location.png"],["src","https://img.icons8.com/ios-filled/50/000000/phone.png"],["src","https://img.icons8.com/ios-filled/50/000000/new-post.png"]],template:function(t,r){1&t&&(i._UZ(0,"link",0),i.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),i._uU(7,"About Us"),i.qZA(),i.TgZ(8,"p",7),i._uU(9,'"We help to tell your stories to the world."'),i.qZA(),i.TgZ(10,"p",7),i._uU(11,"You want to find a motto for your company. You need the very best advice that comes from the minds of some of the most impactful people in business. Whether you're starting, leading, or taking tentative steps to grow and evolve your business, these are the business quotes to keep for your times of need. Take heart in the knowledge that business isn't flawless, and the journey to success is often long and winding - most overnight successes took a lot of trial and error to get where they are today. "),i.qZA(),i.TgZ(12,"a",8),i._uU(13,"read more"),i.qZA()()(),i.TgZ(14,"div",4)(15,"div",9),i._UZ(16,"img",10),i.qZA()(),i.TgZ(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),i._UZ(21,"div",15),i.TgZ(22,"div",16)(23,"h4"),i._uU(24,"Work with heart"),i.qZA(),i.TgZ(25,"p"),i._uU(26,"Great teamwork is about working together and collaborating to come up with better approaches. we have a good team who takes risks and comes up with good ideas."),i.qZA()()()(),i.TgZ(27,"div",13)(28,"div",14),i._UZ(29,"div",15),i.TgZ(30,"div",16)(31,"h4"),i._uU(32,"Reliable services"),i.qZA(),i.TgZ(33,"p"),i._uU(34,"Good customer service means consistently meeting customers' expectations. Great customer service is quick, easy, personalized, and empathetic. Companies that deliver excellent customer service take the time needed to understand the needs of their unique customer base"),i.qZA()()()(),i.TgZ(35,"div",13)(36,"div",14),i._UZ(37,"div",15),i.TgZ(38,"div",16)(39,"h4"),i._uU(40,"Great support"),i.qZA(),i.TgZ(41,"p"),i._uU(42,"Customer service is the support you offer your customers \u2014 both before and after they buy and use your products or services \u2014 that helps them have an easy and enjoyable experience with you. Offering amazing customer service is important if you want to retain customers and grow your business."),i.qZA()()()()()(),i._uU(43,"> "),i.TgZ(44,"div",17),i._uU(45," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),i._UZ(46,"img",18),i._uU(47,"\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),i._UZ(48,"img",19),i._uU(49,"\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),i._UZ(50,"img",20)(51,"br")(52,"br"),i._uU(53," Nirmala College,Muvattupuzha \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 + 91 4852 832 361\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 publishbook@gmail.com "),i.qZA()()()())},styles:['body[_ngcontent-%COMP%]{font-family:Roboto;font-size:16px}.aboutus-section[_ngcontent-%COMP%]{padding:90px 0}.aboutus-title[_ngcontent-%COMP%]{font-size:30px;letter-spacing:0;line-height:32px;margin:0 0 39px;padding:0 0 11px;position:relative;text-transform:uppercase;color:#000}.aboutus-title[_ngcontent-%COMP%]:after{background:#fdb801 none repeat scroll 0 0;bottom:0;content:"";height:2px;left:0;position:absolute;width:54px}.aboutus-text[_ngcontent-%COMP%]{color:#606060;font-size:13px;line-height:22px;margin:0 0 35px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#ffb901;text-decoration:none;outline:0}.aboutus-more[_ngcontent-%COMP%]{border:1px solid #fdb801;border-radius:25px;color:#fdb801;display:inline-block;font-size:14px;font-weight:700;letter-spacing:0;padding:7px 20px;text-transform:uppercase}.feature[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   .iconset[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;float:left;position:relative;width:18%}.feature[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   .iconset[_ngcontent-%COMP%]:after{background:#fdb801 none repeat scroll 0 0;content:"";height:150%;left:43%;position:absolute;top:100%;width:1px}.feature[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{float:left;padding-left:28px;width:78%}.feature[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0f0f0f;font-size:18px;letter-spacing:0;line-height:22px;margin:0 0 5px}.feature[_ngcontent-%COMP%]   .feature-box[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#606060;font-size:13px;line-height:22px}.icon[_ngcontent-%COMP%]{color:#f4b841;padding:0;font-size:40px;border:1px solid #fdb801;border-radius:100px;color:#fdb801;font-size:28px;height:70px;line-height:70px;text-align:center;width:70px}.adjimg[_ngcontent-%COMP%]{width:300px;height:278px}.contactus[_ngcontent-%COMP%]{margin-top:0;margin-right:60%;margin-left:18%}']}),n})(),Yd=(()=>{class n{constructor(){this.displayModa$=new ar.x}showConfirm(t,r,s){this.displayModa$.next({isVisible:!0,messageText:t,yes:()=>{r(),this.closeConfirm()},no:()=>{s(),this.closeConfirm()}})}closeConfirm(){this.displayModa$.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PL=(()=>{class n{constructor(t){this.modalService=t,this.show=!1}ngOnInit(){this.modalService.displayModa$.subscribe(t=>{this.show=t.isVisible,this.message=t})}close(){this.modalService.closeConfirm()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Yd))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-confirm"]],decls:17,vars:5,consts:[[1,"modal-overlay"],[1,"modal1"],[1,"close-modal",3,"click"],["viewBox","0 0 20 20"],["fill","#000000","d","M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z"],[1,"modal-content1"],[1,"dialog-content"],[1,"dialog-footer"],["mat-raised-button","",1,"mx-1","mat-button",2,"background-color","#5cb85c","color","#fff",3,"click"],["mat-raised-button","",1,"mx-1","mat-button",2,"background-color","#d9534f","color","#fff",3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"a",2),i.NdJ("click",function(){return r.close()}),i.O4$(),i.TgZ(3,"svg",3),i._UZ(4,"path",4),i.qZA()(),i.kcU(),i._UZ(5,"br"),i.TgZ(6,"div",5)(7,"h1"),i._uU(8,"Confirm"),i.qZA(),i._UZ(9,"hr"),i.TgZ(10,"div",6),i._uU(11),i.qZA(),i.TgZ(12,"div",7)(13,"button",8),i.NdJ("click",function(){return r.message.yes()}),i._uU(14,"Yes"),i.qZA(),i.TgZ(15,"button",9),i.NdJ("click",function(){return r.message.no()}),i._uU(16,"No"),i.qZA()()()()()),2&t&&(i.ekj("active",r.show),i.xp6(1),i.ekj("active",r.show),i.xp6(10),i.hij(" ",null==r.message?null:r.message.messageText," "))},styles:[".dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:fixed;bottom:20px;right:40px}.dialog-content[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1.25rem;padding:15px}@media only screen and (min-width: 40em){.modal-overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;background-color:#0009;opacity:0;visibility:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:opacity .6s cubic-bezier(.55,0,.1,1),visibility .6s cubic-bezier(.55,0,.1,1)}.modal-overlay.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}}.modal1[_ngcontent-%COMP%]{position:relative;margin:0 auto;background-color:#fceaa4;width:350px;max-width:75rem;min-height:15rem;padding:1rem;border-radius:3px;opacity:0;overflow-y:auto;visibility:hidden;box-shadow:0 2px 10px #0000001a;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:scale(1.2);transition:all .6s cubic-bezier(.55,0,.1,1)}.modal1[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:5px;right:15px;opacity:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:opacity .6s cubic-bezier(.55,0,.1,1),transform .6s cubic-bezier(.55,0,.1,1);transition-delay:.3s}.modal1[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.75em;height:1.75em}.modal1[_ngcontent-%COMP%]   .modal-content1[_ngcontent-%COMP%]{opacity:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:opacity .6s cubic-bezier(.55,0,.1,1);transition-delay:.3s}.modal1.active[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1)}.modal1.active[_ngcontent-%COMP%]   .modal-content1[_ngcontent-%COMP%]{opacity:1}.modal1.active[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{transform:translateY(10px);opacity:1}@media only screen and (max-width: 39.9375em){h1[_ngcontent-%COMP%]{font-size:1.5rem}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;-webkit-overflow-scrolling:touch;border-radius:0;transform:scale(1.1);padding:0!important}.close-modal[_ngcontent-%COMP%]{right:20px!important}}.mat-button[_ngcontent-%COMP%]{padding:5px;border:none;width:60px;border-radius:3px}.mat-button[_ngcontent-%COMP%]:hover{box-shadow:0 12px 16px #0000003d,0 17px 50px #00000030}"]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function yS(n){return n instanceof i.Rgc}function vS(n){return"function"==typeof n}function nP(n){return"string"==typeof n}let RL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&i._UZ(0,"div",0),2&t&&i.Q6J("innerHTML",r.content,i.oJD)},encapsulation:2}),n})();class NL{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class FL{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class LL{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let rP=(()=>{class n{constructor(t,r,s){this.resolver=t,this.injector=r,this.appRef=s}createComponent(t,r={}){return new LL({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new NL({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(yS(t))return this.createTemplate(t,r);if(vS(t))return this.createComponent(t,r);if(nP(t))return new FL(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UL=(()=>{class n{constructor(t,r,s){this.defaultTpl=t,this.vcr=r,this.viewService=s}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),nP(this.view)?(this.viewRef=this.viewService.createComponent(RL,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(rP))},n.\u0275dir=i.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[i.TTD]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const{isArray:BL}=Array;const $L=["*"],HL=function(n,e){return{"border-color":n,"border-right-color":e}};function GL(n,e){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n        "),i._UZ(2,"hot-toast-error",2),i._uU(3,"\n      "),i.qZA()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("theme",t.theme)}}function zL(n,e){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n        "),i._UZ(2,"hot-toast-checkmark",2),i._uU(3,"\n      "),i.qZA()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("theme",t.theme)}}function WL(n,e){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n        "),i._UZ(2,"hot-toast-warning",2),i._uU(3,"\n      "),i.qZA()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("theme",t.theme)}}function KL(n,e){if(1&n&&(i.TgZ(0,"div"),i._uU(1,"\n        "),i._UZ(2,"hot-toast-info",2),i._uU(3,"\n      "),i.qZA()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("theme",t.theme)}}function YL(n,e){if(1&n&&(i.TgZ(0,"div",4),i._uU(1,"\n    "),i.TgZ(2,"div",5),i._uU(3,"\n      "),i.YNc(4,GL,4,1,"div",6),i._uU(5,"\n      "),i.YNc(6,zL,4,1,"div",6),i._uU(7,"\n      "),i.YNc(8,WL,4,1,"div",6),i._uU(9,"\n      "),i.YNc(10,KL,4,1,"div",6),i._uU(11,"\n    "),i.qZA(),i._uU(12,"\n  "),i.qZA()),2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("ngSwitch",t.type),i.xp6(2),i.Q6J("ngSwitchCase","error"),i.xp6(2),i.Q6J("ngSwitchCase","success"),i.xp6(2),i.Q6J("ngSwitchCase","warning"),i.xp6(2),i.Q6J("ngSwitchCase","info")}}function QL(n,e){if(1&n&&(i.TgZ(0,"div",1),i._uU(1,"\n  "),i._UZ(2,"hot-toast-loader",2),i._uU(3,"\n  "),i.YNc(4,YL,13,5,"div",3),i._uU(5,"\n"),i.qZA()),2&n){const t=i.oxw();i.xp6(2),i.Q6J("theme",t.theme),i.xp6(2),i.Q6J("ngIf","loading"!==t.type)}}const JL=["hotToastBarBase"];function XL(n,e){if(1&n&&(i.ynx(0),i._uU(1,"\n          "),i.TgZ(2,"hot-toast-animated-icon",10),i._uU(3),i.qZA(),i._uU(4,"\n        "),i.BQk()),2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("iconTheme",t.toast.iconTheme),i.xp6(1),i.Oqu(t.toast.icon)}}function e2(n,e){if(1&n&&(i._uU(0,"\n          "),i.TgZ(1,"div"),i._uU(2,"\n            "),i.GkF(3,11),i._uU(4,"\n          "),i.qZA(),i._uU(5,"\n        ")),2&n){const t=i.oxw(2);i.xp6(3),i.Q6J("dynamicView",t.toast.icon)}}function t2(n,e){if(1&n&&(i.ynx(0),i._uU(1,"\n        "),i.YNc(2,XL,5,2,"ng-container",4),i._uU(3,"\n        "),i.YNc(4,e2,6,1,"ng-template",null,9,i.W1O),i._uU(6,"\n      "),i.BQk()),2&n){const t=i.MAs(5),r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.isIconString)("ngIfElse",t)}}function n2(n,e){if(1&n&&(i._uU(0,"\n        "),i._UZ(1,"hot-toast-indicator",12),i._uU(2,"\n      ")),2&n){const t=i.oxw();i.xp6(1),i.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function r2(n,e){1&n&&i.GkF(0)}function i2(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.close())}),i.qZA()}if(2&n){const t=i.oxw();i.Q6J("ngStyle",t.toast.closeStyle)}}function s2(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"hot-toast",3),i.NdJ("height",function(s){const d=i.CHM(t).$implicit,f=i.oxw();return i.KtG(f.updateHeight(s,d))})("beforeClosed",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.beforeClosed(u))})("afterClosed",function(s){i.CHM(t);const u=i.oxw();return i.KtG(u.afterClosed(s))}),i.qZA()}if(2&n){const t=e.$implicit,r=e.index,s=i.oxw();i.Q6J("toast",t)("offset",s.calculateOffset(t.id,t.position))("toastRef",s.toastRefs[r])}}const iP={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class oP{constructor(e){this.toast=e,this._onClosed=new ar.x}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:s,afterClosed:u}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=s,this.afterClosed=function jL(...n){return 1===(n=function ZL(n){return 1===n.length&&BL(n[0])?n[0]:n}(n)).length?(0,Ni.Xf)(n[0]):new Ir.y(function qL(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Ni.Xf)(n[r]).subscribe((0,Nn.x)(e,s=>{if(t){for(let u=0;u<t.length;u++)u!==r&&t[u].unsubscribe();t=null}e.next(s)})))}}(n))}(this._onClosed.asObservable(),u),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let u2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:$L,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(i.F$t(),i.TgZ(0,"div",0),i._uU(1,"\n  "),i.Hsn(2),i._uU(3,"\n"),i.qZA(),i._uU(4,"\n")),2&t&&i.Udp("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(i._UZ(0,"div",0),i._uU(1,"\n")),2&t&&i.Q6J("ngStyle",i.WLB(1,HL,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[ea],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(i._UZ(0,"div",0),i._uU(1,"\n")),2&t&&i.Udp("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(i._UZ(0,"div",0),i._uU(1,"\n")),2&t&&i.Udp("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(i._UZ(0,"div",0),i._uU(1,"\n")),2&t&&i.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(i._UZ(0,"div",0),i._uU(1,"\n")),2&t&&i.Udp("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(i.YNc(0,QL,6,2,"div",0),i._uU(1,"\n")),2&t&&i.Q6J("ngIf","blank"!==r.type)},dependencies:[l2,d2,h2,f2,p2,kt,za,Xo],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),aP=(()=>{class n{constructor(t,r,s){this.injector=t,this.renderer=r,this.ngZone=s,this.offset=0,this.height=new i.vpe,this.beforeClosed=new i.vpe,this.afterClosed=new i.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){yS(this.toast.message)&&(this.context={$implicit:this.toastRef}),vS(this.toast.message)&&(this.toastComponentInjector=i.zs3.create({providers:[{provide:oP,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},s=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...s}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,s]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,s)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.zs3),i.Y36(i.Qsj),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&i.Gf(JL,5),2&t){let s;i.iGM(s=i.CRH())&&(r.toastBarBase=s.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1,2),i._uU(4,"\n    "),i.TgZ(5,"div",3),i._uU(6,"\n      "),i.YNc(7,t2,7,2,"ng-container",4),i._uU(8,"\n\n      "),i.YNc(9,n2,3,2,"ng-template",null,5,i.W1O),i._uU(11,"\n    "),i.qZA(),i._uU(12,"\n\n    "),i.TgZ(13,"div",6),i._uU(14,"\n      "),i.TgZ(15,"div"),i._uU(16,"\n        "),i.YNc(17,r2,1,0,"ng-container",7),i._uU(18,"\n      "),i.qZA(),i._uU(19,"\n    "),i.qZA(),i._uU(20,"\n\n    "),i.YNc(21,i2,1,1,"button",8),i._uU(22,"\n  "),i.qZA(),i._uU(23,"\n"),i.qZA(),i._uU(24,"\n")),2&t){const s=i.MAs(10);i.Q6J("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),i.xp6(2),i.Udp("--hot-toast-animation-state",r.isManualClose?"running":"paused"),i.Q6J("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),i.uIk("aria-live",r.toast.ariaLive)("role",r.toast.role),i.xp6(5),i.Q6J("ngIf",void 0!==r.toast.icon)("ngIfElse",s),i.xp6(10),i.Q6J("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),i.xp6(4),i.Q6J("ngIf",r.toast.dismissible)}},dependencies:[u2,g2,ea,cn,kt,UL],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),m2=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ar.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const s=this.toasts.filter(f=>f.visible&&f.position===r),u=s.findIndex(f=>f.id===t);return-1!==u?s.slice(...this.defaultConfig.reverseOrder?[u+1]:[0,u]).reduce((f,_)=>f+(_.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:s=>{r.message=s,this.cdr.detectChanges()},updateToast:s=>{this.updateToasts(r,s),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(s=>s.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(s=>s.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(s=>s.id!==t.id),this.toastRefs=this.toastRefs.filter(s=>s.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(T(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(s=>({...s,...s.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.sBO))},n.\u0275cmp=i.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&i.Gf(aP,5),2&t){let s;i.iGM(s=i.CRH())&&(r.hotToastComponentList=s)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.YNc(4,s2,1,3,"hot-toast",2),i._uU(5,"\n  "),i.qZA(),i._uU(6,"\n"),i.qZA(),i._uU(7,"\n")),2&t&&(i.xp6(4),i.Q6J("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[aP,sn],encapsulation:2,changeDetection:0}),n})();class bS{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class v2{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Za=(()=>{class n{constructor(t,r,s){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new bS,this._defaultPersistConfig=new v2,s&&(this._defaultConfig={...this._defaultConfig,...s})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let s,u=0;const d=t.loading??this._defaultConfig.loading?.content,f=t.success??this._defaultConfig.success?.content,_=t.error??this._defaultConfig.error?.content;return yi(()=>(d&&(s=this.createLoadingToast(d),u=Date.now()),r.pipe((0,Pe.b)({...f&&{next:w=>{s=this.createOrUpdateToast(t,w,s,"success",0===u?u:Date.now()-u)}},..._&&{error:w=>{s=this.createOrUpdateToast(t,w,s,"error",0===u?u:Date.now()-u)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){_r(this.platformId)||(this._componentRef=this._viewService.createComponent(m2).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,s,u,d){let f=null,_={};if(({content:f,options:_}=this.getContentAndOptions(u,t[u]||(this._defaultConfig[u]?this._defaultConfig[u].content:""))),f=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(f,r),s){s.updateMessage(f);const w={type:u,duration:d+iP[u],..._,..._.duration&&{duration:d+_.duration}};s.updateToast(w)}else this.createToast(f,u,_);return s}createToast(t,r,s,u){this._isInitialized||(this._isInitialized=!0,this.init());const d=Date.now(),f=s?.id??d.toString();if(!this.isDuplicate(f)&&(!s.persist?.enabled||s.persist?.enabled&&this.handleStorageValue(f,s))){const _={ariaLive:s?.ariaLive??"polite",createdAt:d,duration:s?.duration??iP[r],id:f,message:t,role:s?.role??"status",type:r,visible:!0,observableMessages:u??void 0,...s};return new oP(_).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let s=1;const u={...this._defaultPersistConfig,...r.persist},d="local"===u.storage?localStorage:sessionStorage,f=u.key.replace(/\${id}/g,t);let _=d.getItem(f);return _?(_=parseInt(_,10),s=_>0?_-1:_):s=u.count,d.setItem(f,s.toString()),s}getContentAndOptions(t,r){let s,u={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||yS(r)||vS(r))s=r;else{let d;({content:s,...d}=r),u={...u,...d}}return{content:s,options:u}}createLoadingToast(t){let r=null,s={};return({content:r,options:s}=this.getContentAndOptions("loading",t)),this.loading(r,s)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(rP),i.LFG(i.Lbi),i.LFG(bS,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b2=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:bS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[yo,VL]]}),n})();const cP="firebasestorage.googleapis.com",uP="storageBucket";class xr extends Ut.ZR{constructor(e,t){super(wS(e),`Firebase Storage: ${t} (${wS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}_codeEquals(e){return wS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function wS(n){return"storage/"+n}function CS(){return new xr("unknown","An unknown error occurred, please check the error payload for server response.")}function lP(){return new xr("canceled","User canceled the upload/download.")}function dP(){return new xr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xy(n){return new xr("invalid-argument",n)}function hP(){return new xr("app-deleted","The Firebase app was deleted.")}function fP(n){return new xr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lw(n,e){return new xr("invalid-format","String does not match format '"+n+"': "+e)}function dw(n){throw new xr("internal-error","Internal error: "+n)}class ds{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ds.makeFromUrl(e,t)}catch{return new ds(e,"")}if(""===r.path)return r;throw function O2(n){return new xr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+s+"(/(.*))?$","i");function w(Ge){Ge.path_=decodeURIComponent(Ge.path)}const x=t.replace(/[.]/g,"\\."),Qe=[{regex:f,indices:{bucket:1,path:3},postModify:function u(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===cP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Ge=0;Ge<Qe.length;Ge++){const _t=Qe[Ge],vt=_t.regex.exec(e);if(vt){let Ur=vt[_t.indices.path];Ur||(Ur=""),r=new ds(vt[_t.indices.bucket],Ur),_t.postModify(r);break}}if(null==r)throw function M2(n){return new xr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class N2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function II(n){return"string"==typeof n||n instanceof String}function pP(n){return ES()&&n instanceof Blob}function ES(){return typeof Blob<"u"}function TS(n,e,t,r){if(r<e)throw Xy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Xy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Qd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function gP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var xf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(xf||(xf={})),xf))();class Z2{constructor(e,t,r,s,u,d,f,_,w,A,x){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=A,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,U)=>{this.resolve_=F,this.reject_=U,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,d=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function U2(n){return void 0!==n}(_)?u():u(_)}catch(_){d(_)}else if(null!==f){const _=CS();_.serverResponse=f.getErrorText(),d(this.errorCallback_?this.errorCallback_(f,_):_)}else d(s.canceled?this.appDelete_?hP():lP():function x2(){return new xr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new AI(!1,null,!0)):this.backoffId_=function F2(n,e,t){let r=1,s=null,u=null,d=!1,f=0;function _(){return 2===f}let w=!1;function A(...he){w||(w=!0,e.apply(null,he))}function x(he){s=setTimeout(()=>{s=null,n(U,_())},he)}function F(){u&&clearTimeout(u)}function U(he,...Ze){if(w)return void F();if(he)return F(),void A.call(null,he,...Ze);if(_()||d)return F(),void A.call(null,he,...Ze);let Qe;r<64&&(r*=2),1===f?(f=2,Qe=0):Qe=1e3*(r+Math.random()),x(Qe)}let B=!1;function re(he){B||(B=!0,F(),!w&&(null!==s?(he||(f=2),clearTimeout(s),x(0)):he||(f=1)))}return x(0),u=setTimeout(()=>{d=!0,re(!0)},t),re}((r,s)=>{if(s)return void r(!1,new AI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const f=u.getErrorCode()===xf.NO_ERROR,_=u.getStatus();if(!f||this.isRetryStatusCode_(_)){const A=u.getErrorCode()===xf.ABORT;return void r(!1,new AI(!1,null,A))}const w=-1!==this.successCodes_.indexOf(_);r(!0,new AI(w,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function L2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||u}}class AI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function W2(...n){const e=function z2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(ES())return new Blob(n);throw new xr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IS{constructor(e,t){this.data=e,this.contentType=t||null}}function AS(n,e){switch(n){case Go.RAW:return new IS(mP(e));case Go.BASE64:case Go.BASE64URL:return new IS(_P(n,e));case Go.DATA_URL:return new IS(function J2(n){const e=new yP(n);return e.base64?_P(Go.BASE64,e.rest):function Q2(n){let e;try{e=decodeURIComponent(n)}catch{throw lw(Go.DATA_URL,"Malformed data URL.")}return mP(e)}(e.rest)}(e),function X2(n){return new yP(n).contentType}(e))}throw CS()}function mP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _P(n,e){switch(n){case Go.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw lw(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Go.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw lw(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Y2(n){return atob(n)}(e)}catch{throw lw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class yP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lw(Go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function eU(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ml{constructor(e,t){let r=0,s="";pP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(pP(this.data_)){const s=function K2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new ml(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ml(r,!0)}}static getBlob(...e){if(ES()){const t=e.map(r=>r instanceof ml?r.data_:r);return new ml(W2.apply(null,t))}{const t=e.map(d=>II(d)?AS(Go.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)s[u++]=d[f]}),new ml(s,!0)}}uploadData(){return this.data_}}function DS(n){let e;try{e=JSON.parse(n)}catch{return null}return function B2(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function vP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function rU(n,e){return e}class Ls{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||rU}}let DI=null;function hw(){if(DI)return DI;const n=[];n.push(new Ls("bucket")),n.push(new Ls("generation")),n.push(new Ls("metageneration")),n.push(new Ls("name","fullPath",!0));const t=new Ls("name");t.xform=function e(u,d){return function iU(n){return!II(n)||n.length<2?n:vP(n)}(d)},n.push(t);const s=new Ls("size");return s.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(s),n.push(new Ls("timeCreated")),n.push(new Ls("updated")),n.push(new Ls("md5Hash",null,!0)),n.push(new Ls("cacheControl",null,!0)),n.push(new Ls("contentDisposition",null,!0)),n.push(new Ls("contentEncoding",null,!0)),n.push(new Ls("contentLanguage",null,!0)),n.push(new Ls("contentType",null,!0)),n.push(new Ls("metadata","customMetadata",!0)),DI=n,DI}function bP(n,e,t){const r=DS(e);return null===r?null:function oU(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function sU(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new ds(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function SS(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const wP="prefixes";class _l{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yl(n){if(!n)throw CS()}function SI(n,e){return function t(r,s){const u=bP(n,s,e);return yl(null!==u),u}}function ev(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function D2(){return new xr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function A2(){return new xr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function I2(n){return new xr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function S2(n){return new xr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,s.serverResponse=r.serverResponse,s}}function fw(n){const e=ev(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function T2(n){return new xr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function EP(n,e,t){const s=Qd(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new _l(s,"GET",SI(n,t),d);return f.errorHandler=fw(e),f}function hU(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const f=Qd(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,A=new _l(f,"GET",function lU(n,e){return function t(r,s){const u=function uU(n,e,t){const r=DS(t);return null===r?null:function cU(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wP])for(const s of t[wP]){const u=s.replace(/\/$/,""),d=n._makeStorageReference(new ds(e,u));r.prefixes.push(d)}if(t.items)for(const s of t.items){const u=n._makeStorageReference(new ds(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return yl(null!==u),u}}(n,e.bucket),w);return A.urlParams=u,A.errorHandler=ev(e),A}function IP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function mU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class xI{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function xS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{yl(!1)}return yl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const bU={STATE_CHANGED:"state_changed"},Us={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MS(n){switch(n){case"running":case"pausing":case"canceling":return Us.RUNNING;case"paused":return Us.PAUSED;case"success":return Us.SUCCESS;case"canceled":return Us.CANCELED;default:return Us.ERROR}}class wU{constructor(e,t,r){if(function V2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function tv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class EU extends class CU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw dw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Kc(){return new EU}class xP{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=hw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function _U(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d=IP(e,r,s),f={name:d.fullPath},_=Qd(u,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},x=SS(d,t),B=new _l(_,"POST",function U(re){let he;xS(re);try{he=re.getResponseHeader("X-Goog-Upload-URL")}catch{yl(!1)}return yl(II(he)),he},n.maxUploadRetryTime);return B.urlParams=f,B.headers=A,B.body=x,B.errorHandler=ev(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Kc,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function yU(n,e,t,r){const _=new _l(t,"POST",function u(w){const A=xS(w,["active","final"]);let x=null;try{x=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yl(!1)}x||yl(!1);const F=Number(x);return yl(!isNaN(F)),new xI(F,r.size(),"final"===A)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=ev(e),_}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,Kc,t,r);this._request=u,u.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new xI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let d;try{d=function vU(n,e,t,r,s,u,d,f){const _=new xI(0,0);if(d?(_.current=d.current,_.total=d.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function k2(){return new xr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let A=w;s>0&&(A=Math.min(A,s));const x=_.current,B={"X-Goog-Upload-Command":A===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},re=r.slice(x,x+A);if(null===re)throw dP();const Qe=new _l(t,"POST",function he(Ge,_t){const vt=xS(Ge,["active","final"]),Wt=_.current+A,Ur=r.size();let Yo;return Yo="final"===vt?SI(e,u)(Ge,_t):null,new xI(Wt,Ur,"final"===vt,Yo)},e.maxUploadRetryTime);return Qe.headers=B,Qe.body=re.uploadData(),Qe.progressCallback=f||null,Qe.errorHandler=ev(n),Qe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(d,Kc,s,u);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=EP(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Kc,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function AP(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Qe="";for(let Ge=0;Ge<2;Ge++)Qe+=Math.random().toString().slice(2);return Qe}();d["Content-Type"]="multipart/related; boundary="+_;const w=IP(e,r,s),A=SS(w,t),U=ml.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===U)throw dP();const B={name:w.fullPath},re=Qd(u,n.host,n._protocol),Ze=n.maxUploadRetryTime,Ke=new _l(re,"POST",SI(n,t),Ze);return Ke.urlParams=B,Ke.headers=d,Ke.body=U.uploadData(),Ke.errorHandler=ev(e),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Kc,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=MS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new wU(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(MS(this._state)){case Us.SUCCESS:tv(this._resolve.bind(null,this.snapshot))();break;case Us.CANCELED:case Us.ERROR:tv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(MS(this._state)){case Us.RUNNING:case Us.PAUSED:e.next&&tv(e.next.bind(e,this.snapshot))();break;case Us.SUCCESS:e.complete&&tv(e.complete.bind(e))();break;default:e.error&&tv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Yg{constructor(e,t){this._service=e,this._location=t instanceof ds?t:ds.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Yg(e,t)}get root(){const e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vP(this._location.path)}get storage(){return this._service}get parent(){const e=function tU(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ds(this._location.bucket,e);return new Yg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fP(e)}}function OP(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,ve.Z)(function*(n,e,t){const s=yield PP(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield OP(n,e,s.nextPageToken))}),OS.apply(this,arguments)}function PP(n,e){null!=e&&"number"==typeof e.maxResults&&TS("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=hU(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Kc)}function NU(n){n._throwIfRoot("getDownloadURL");const e=function fU(n,e,t){const s=Qd(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new _l(s,"GET",function dU(n,e){return function t(r,s){const u=bP(n,s,e);return yl(null!==u),function aU(n,e,t,r){const s=DS(e);if(null===s||!II(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(w=>{const x=n.fullPath;return Qd("/b/"+d(n.bucket)+"/o/"+d(x),t,r)+gP({alt:"media",token:w})})[0]}(u,s,n.host,n._protocol)}}(n,t),d);return f.errorHandler=fw(e),f}(n.storage,n._location,hw());return n.storage.makeRequestWithTokens(e,Kc).then(t=>{if(null===t)throw function R2(){return new xr("no-download-url","The given file does not have any download URLs.")}();return t})}function kP(n,e){const t=function nU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ds(n._location.bucket,t);return new Yg(n.storage,r)}function RP(n,e){if(n instanceof PS){const t=n;if(null==t._bucket)throw function P2(){return new xr("no-default-bucket","No default bucket found. Did you set the '"+uP+"' property when initializing the app?")}();const r=new Yg(t,t._bucket);return null!=e?RP(r,e):r}return void 0!==e?kP(n,e):n}function VU(n,e){if(e&&function LU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof PS)return function UU(n,e){return new Yg(n,e)}(n,e);throw Xy("To use ref(service, url), the first argument must be a Storage instance.")}return RP(n,e)}function NP(n,e){const t=e?.[uP];return null==t?null:ds.makeFromBucketSpec(t,n)}class PS{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=cP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?ds.makeFromBucketSpec(s,this._host):NP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ds.makeFromBucketSpec(this._url,e):NP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yg(this,e)}_makeRequest(e,t,r,s){if(this._deleted)return new N2(hP());{const u=function G2(n,e,t,r,s,u){const d=gP(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function $2(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function j2(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function q2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,u),function H2(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new Z2(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(e,this._appId,r,s,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const FP="@firebase/storage";function VP(n,e){return VU(n=(0,Ut.m9)(n),e)}function YU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new PS(t,r,s,e,oo.SDK_VERSION)}!function QU(){(0,oo._registerComponent)(new ao.wA("storage",YU,"PUBLIC").setMultipleInstances(!0)),(0,oo.registerVersion)(FP,"0.9.9",""),(0,oo.registerVersion)(FP,"0.9.9","esm2017")}();class MI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class BP{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new MI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new MI(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?d=>t(new MI(d,this,this._ref)):{next:t.next?d=>t.next(new MI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class ZP{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Jd(e,this._service))}get items(){return this._delegate.items.map(e=>new Jd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function WU(n,e){return kP(n,e)}(this._delegate,e);return new Jd(t,this.storage)}get root(){return new Jd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Jd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new BP(function ZU(n,e,t){return function MU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new xP(n,new ml(e),t)}(n=(0,Ut.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Go.RAW,r){this._throwIfRoot("putString");const s=AS(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new BP(new xP(this._delegate,new ml(s.data,!0),u),this)}listAll(){return function HU(n){return function PU(n){const e={prefixes:[],items:[]};return OP(n,e).then(()=>e)}(n=(0,Ut.m9)(n))}(this._delegate).then(e=>new ZP(e,this.storage))}list(e){return function $U(n,e){return PP(n=(0,Ut.m9)(n),e)}(this._delegate,e||void 0).then(t=>new ZP(t,this.storage))}getMetadata(){return function jU(n){return function kU(n){n._throwIfRoot("getMetadata");const e=EP(n.storage,n._location,hw());return n.storage.makeRequestWithTokens(e,Kc)}(n=(0,Ut.m9)(n))}(this._delegate)}updateMetadata(e){return function qU(n,e){return function RU(n,e){n._throwIfRoot("updateMetadata");const t=function pU(n,e,t,r){const u=Qd(e.fullServerUrl(),n.host,n._protocol),f=SS(t,r),w=n.maxOperationRetryTime,A=new _l(u,"PATCH",SI(n,r),w);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=f,A.errorHandler=fw(e),A}(n.storage,n._location,e,hw());return n.storage.makeRequestWithTokens(t,Kc)}(n=(0,Ut.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function GU(n){return NU(n=(0,Ut.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zU(n){return function FU(n){n._throwIfRoot("deleteObject");const e=function gU(n,e){const r=Qd(e.fullServerUrl(),n.host,n._protocol),f=new _l(r,"DELETE",function d(_,w){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=fw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Kc)}(n=(0,Ut.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fP(e)}}class jP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(qP(e))throw Xy("ref() expected a child path but got a URL, use refFromURL instead.");return new Jd(VP(this._delegate,e),this)}refFromURL(e){if(!qP(e))throw Xy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ds.makeFromUrl(e,this._delegate.host)}catch{throw Xy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jd(VP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function KU(n,e,t,r={}){!function BU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Ut.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function qP(n){return/^[A-Za-z]+:\/\//.test(n)}function tV(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new jP(t,r)}function $P(n){const e=function rV(n){return new Ir.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function w2(n,e=cC.z){return(0,cr.e)((t,r)=>{let s=null,u=null,d=null;const f=()=>{if(s){s.unsubscribe(),s=null;const w=u;u=null,r.next(w)}};function _(){const w=d+n,A=e.now();if(A<w)return s=this.schedule(void 0,w-A),void r.add(s);f()}t.subscribe((0,Nn.x)(r,w=>{u=w,d=e.now(),s||(s=e.schedule(_,n),r.add(s))},()=>{f(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,at.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function OI(n){return{getDownloadURL:()=>Xe(void 0).pipe(Xn.fc,Jt(()=>n.getDownloadURL()),Xn.iC),getMetadata:()=>Xe(void 0).pipe(Xn.fc,Jt(()=>n.getMetadata()),Xn.iC),delete:()=>(0,jt.D)(n.delete()),child:e=>OI(n.child(e)),updateMetadata:e=>(0,jt.D)(n.updateMetadata(e)),put:(e,t)=>$P(n.put(e,t)),putString:(e,t,r)=>$P(n.putString(e,t,r)),list:e=>(0,jt.D)(n.list(e)),listAll:()=>(0,jt.D)(n.listAll())}}!function nV(n){const e={TaskState:Us,TaskEvent:bU,StringFormat:Go,Storage:jP,Reference:Jd};n.INTERNAL.registerComponent(new ao.wA("storage-compat",tV,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}($A.Z);const iV=new i.OlP("angularfire2.storageBucket"),sV=new i.OlP("angularfire2.storage.maxUploadRetryTime"),oV=new i.OlP("angularfire2.storage.maxOperationRetryTime"),aV=new i.OlP("angularfire2.storage.use-emulator");let Qg=(()=>{class n{constructor(t,r,s,u,d,f,_,w,A,x){const F=(0,ji.on)(t,d,r);this.storage=(0,ji.cc)(`${F.name}.storage.${s}`,"AngularFireStorage",F.name,()=>{const U=d.runOutsideAngular(()=>F.storage(s||void 0)),B=A;return B&&U.useEmulator(...B),_&&U.setMaxUploadRetryTime(_),w&&U.setMaxOperationRetryTime(w),U},[_,w])}ref(t){return OI(this.storage.ref(t))}refFromURL(t){return OI(this.storage.refFromURL(t))}upload(t,r,s){return OI(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ji.Dh),i.LFG(ji.xv,8),i.LFG(iV,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Xn.HU),i.LFG(sV,8),i.LFG(oV,8),i.LFG(aV,8),i.LFG(CI,8))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})(),uV=(()=>{class n{constructor(){MO.Z.registerVersion("angularfire",Xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[Qg],imports:[cV]}),n})(),pw=(()=>{class n{constructor(t,r){this.storage=t,this.authService=r,this.basePath="/images"}uploadImage(t,r){const s=this.storage.ref(r);return s.put(t).snapshotChanges().pipe(ts(()=>s.getDownloadURL().subscribe()))}get userprofPic$(){return this.authService.currentUser$.pipe(Jt(t=>this.storage.ref(`${this.basePath}/profile/${t?.uid}`).getDownloadURL()))}uploadFile(t,r){const s=this.storage.ref(`pdf/${r}`);return s.put(t).snapshotChanges().pipe(ts(()=>s.getDownloadURL().subscribe()))}booksProfile(t){return this.storage.ref(`${this.basePath}/books/${t}`).getDownloadURL()}getPDF(t){return this.storage.ref(`pdf/${t}`).getDownloadURL()}imageDelete(t){return this.storage.ref(`${this.basePath}/books`).child(t).delete()}pdfDelete(t){return this.storage.ref("pdf").child(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Qg),i.LFG(Ho))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hs=(()=>{class n{constructor(t){this.afs=t}addBook(t){return t.bid=this.afs.createId(),this.afs.collection("/publish requests").doc(t.bid).set(t),Xe(t.bid)}getAllPublishReq(){return this.afs.collection("/publish requests").snapshotChanges()}deleteCustomerRequest(t){return this.afs.collection("/rejectedRequests").doc(t.bid).set(t),this.afs.doc("/publish requests/"+t.bid).delete()}acceptedPublishRequests(t){return this.afs.doc("/publish requests/"+t.bid).delete(),(0,jt.D)(this.afs.collection("/acceptedBook").doc(t.bid).set(t))}getAllAcceptedRequests(){return this.afs.collection("/acceptedBook").snapshotChanges()}getBooksById(t){return this.afs.collection("/publish requests").doc(t).valueChanges()}getItemPublished(t){return this.afs.collection("/acceptedBook").doc(t).valueChanges()}updateFrmCart(t){return this.afs.collection("/acceptedBook").doc(t.bid).update(t)}getRejectedRequest(){return this.afs.collection("/rejectedRequests").snapshotChanges()}searchItem(t){return this.afs.collection("/acceptedBook",r=>r.orderBy("category").startAt(t).endAt(t+"\uf8ff").limit(10)).snapshotChanges()}searchByName(t){return console.log(t),this.afs.collection("/acceptedBook",r=>r.orderBy("bname").startAt(t).endAt(t+"\uf8ff").limit(10)).snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(TI))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lV(n,e){if(1&n&&(i.TgZ(0,"div",18)(1,"table",19)(2,"tbody")(3,"tr")(4,"td",20),i._uU(5,"Name"),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA()(),i.TgZ(8,"tr")(9,"td"),i._uU(10,"Phone no"),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA()(),i.TgZ(13,"tr")(14,"td"),i._uU(15,"Email"),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA()(),i.TgZ(18,"tr")(19,"td"),i._uU(20,"Address"),i.qZA(),i.TgZ(21,"td"),i._uU(22),i.qZA()()()()()),2&n){const t=e.$implicit;i.xp6(7),i.Oqu(t.username),i.xp6(5),i.Oqu(t.phno),i.xp6(5),i.Oqu(t.email),i.xp6(5),i.Oqu(t.address)}}function dV(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4)(4,"strong"),i._uU(5),i.qZA()(),i.TgZ(6,"div",5)(7,"div",6)(8,"div",7),i._UZ(9,"img",8),i.qZA()(),i.TgZ(10,"div",9)(11,"h4",10)(12,"strong"),i._uU(13,"Product description"),i.qZA()(),i.TgZ(14,"p"),i._uU(15),i.qZA(),i.TgZ(16,"h2",11),i._uU(17),i.qZA(),i.TgZ(18,"button",12),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.accept(u))}),i._uU(19,"Approve"),i.qZA(),i._uU(20,"\xa0 "),i.TgZ(21,"button",13),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.reject(u))}),i._uU(22,"Reject"),i.qZA(),i.TgZ(23,"h3",10)(24,"strong"),i._uU(25,"Others"),i.qZA()(),i.TgZ(26,"ul",14)(27,"li"),i._uU(28),i.qZA(),i.TgZ(29,"li"),i._uU(30),i.qZA(),i.TgZ(31,"li"),i._uU(32),i.qZA(),i.TgZ(33,"li"),i._uU(34,"Sample Story : "),i.TgZ(35,"a",15),i._uU(36,"click to open"),i.qZA()()()(),i.TgZ(37,"div",16)(38,"h3",10),i._uU(39,"User Info"),i.qZA(),i.YNc(40,lV,23,4,"div",17),i.qZA()()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(5),i.Oqu(t.bname),i.xp6(4),i.s9C("src",r.imageFile,i.LSH),i.xp6(6),i.Oqu(t.description),i.xp6(2),i.hij(" $",t.price," "),i.xp6(11),i.hij("Target :",t.target,""),i.xp6(2),i.hij("Date expected : ",t.dateexpected,""),i.xp6(2),i.hij("Account Number : ",t.acctno,""),i.xp6(3),i.s9C("href",r.pdfFile,i.LSH),i.xp6(5),i.Q6J("ngForOf",r.userList)}}let Jg=class{constructor(e,t,r,s,u,d,f){this.confirmService=e,this.userService=t,this.router=r,this.toast=s,this.route=u,this.imgService=d,this.bookService=f,this.booksList=[],this.userList=[]}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),this.getBooksById(this.bid),this.getImageById(this.bid),this.getPDFById(this.bid)}getBooksById(e){this.bookService.getBooksById(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.booksList.push(r),this.userService.getUserById(r.uid).pipe(nt(this)).subscribe(s=>{const u=JSON.parse(JSON.stringify(s));this.userList.push(u),this.authorName=u.username.toUpperCase()})},error:t=>{console.log(t)}})}getImageById(e){this.imgService.booksProfile(e).pipe(nt(this)).subscribe(t=>{this.imageFile=t})}getPDFById(e){this.imgService.getPDF(e).pipe(nt(this)).subscribe(t=>{this.pdfFile=t})}reject(e){this.confirmService.showConfirm("Reject "+e.uname+"?",()=>{this.bookService.deleteCustomerRequest(e),this.imgService.imageDelete(e.bid),this.imgService.pdfDelete(e.bid),this.toast.success("Rejected successfully"),this.router.navigate(["/reqlist"])},()=>{})}accept(e){this.bookService.acceptedPublishRequests(e).pipe(nt(this),this.toast.observe({success:"Accepted!!!!",loading:"Processing...",error:({msg:t})=>`${t}`})).subscribe(()=>{this.router.navigate(["/reqlist"])})}};function hV(n,e){if(1&n&&i._UZ(0,"img",8),2&n){const t=i.oxw().$implicit;i.s9C("src",t.url,i.LSH)}}function fV(n,e){if(1&n&&(i.TgZ(0,"a",6),i.YNc(1,hV,1,1,"img",7),i.qZA()),2&n){const t=e.$implicit,r=i.oxw();i.MGl("routerLink","/request-detail/",r.publishRequest.bid,""),i.xp6(1),i.Q6J("ngIf",r.publishRequest.bid==t.name)}}Jg.\u0275fac=function(e){return new(e||Jg)(i.Y36(Yd),i.Y36(fr),i.Y36(un),i.Y36(Za),i.Y36(br),i.Y36(pw),i.Y36(hs))},Jg.\u0275cmp=i.Xpm({type:Jg,selectors:[["app-request-details"]],decls:1,vars:1,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"row"],[1,"col-lg-5","col-md-5","col-sm-6"],[1,"white-box","text-center"],[1,"adjust",3,"src"],[1,"col-lg-7","col-md-7","col-sm-6"],[1,"box-title","mt-5"],[1,"mt-5"],["type","button",1,"btn","btn-dark",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"list-unstyled"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"col-lg-12","col-md-12","col-sm-12"],["class","table-responsive",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped","table-product"],["width","390"]],template:function(e,t){1&e&&i.YNc(0,dV,41,9,"div",0),2&e&&i.Q6J("ngForOf",t.booksList)},dependencies:[sn],styles:["body[_ngcontent-%COMP%]{background-color:#edf1f5;margin-top:20px}.card[_ngcontent-%COMP%]{margin-bottom:30px}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:0 solid transparent;border-radius:0}.card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-weight:300;margin-bottom:10px;color:#8898aa}.table-product.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f3f8fa!important}.table-product[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0px solid #dee2e6!important;color:#728299!important}.adjust[_ngcontent-%COMP%]{height:400px}"]}),Jg=(0,zn.gn)([Wn()],Jg);let Xg=class{constructor(e){this.storage=e,this.fileList=[]}ngOnInit(){this.imageList()}imageList(){this.storage.ref("/images/books/").listAll().pipe(nt(this)).subscribe(t=>{for(let r=0;r<t.items.length;r++){let s=t.items[r].name;this.storage.ref("/images/books/"+t.items[r].name).getDownloadURL().subscribe(d=>{this.fileList.push({name:s,url:d})})}})}};function pV(n,e){if(1&n&&(i.TgZ(0,"div",4),i._UZ(1,"app-request-card",5),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("publishRequest",t)}}function gV(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"h4",1),i._uU(2),i.qZA(),i.TgZ(3,"div",2),i.YNc(4,pV,2,1,"div",3),i.qZA(),i.BQk()),2&n){const t=i.oxw();i.xp6(2),i.hij("Request List (",t.customerReq.length,")"),i.xp6(2),i.Q6J("ngForOf",t.customerReq)}}function mV(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",6),i._uU(2," No Requests Pending !! "),i.qZA(),i.BQk())}Xg.\u0275fac=function(e){return new(e||Xg)(i.Y36(Qg))},Xg.\u0275cmp=i.Xpm({type:Xg,selectors:[["app-request-card"]],inputs:{publishRequest:"publishRequest"},decls:15,vars:6,consts:[[1,"card",2,"width","18rem"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-link",3,"routerLink"],[3,"routerLink"],["class","card-img-top adjustSize","alt","Card image cap",3,"src",4,"ngIf"],["alt","Card image cap",1,"card-img-top","adjustSize",3,"src"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,fV,2,2,"a",1),i.TgZ(2,"div",2)(3,"h2",3),i._uU(4),i.qZA(),i.TgZ(5,"h3"),i._uU(6),i.qZA(),i.TgZ(7,"p",4),i._uU(8),i.qZA(),i.TgZ(9,"p")(10,"strong"),i._uU(11),i.qZA()()(),i.TgZ(12,"div",2)(13,"a",5),i._uU(14,"Details"),i.qZA()()()),2&e&&(i.xp6(1),i.Q6J("ngForOf",t.fileList),i.xp6(3),i.Oqu(t.publishRequest.uname),i.xp6(2),i.hij("Book Name : ",t.publishRequest.bname,""),i.xp6(2),i.Oqu(t.publishRequest.description),i.xp6(3),i.hij("Price : $",t.publishRequest.price,""),i.xp6(2),i.MGl("routerLink","/request-detail/",t.publishRequest.bid,""))},dependencies:[sn,kt,Zi],styles:[".adjustSize[_ngcontent-%COMP%]{height:188px;width:285px}"]}),Xg=(0,zn.gn)([Wn()],Xg);let em=class{constructor(e,t){this.route=e,this.bookService=t,this.customerReq=[]}ngOnInit(){this.getAllRequest()}getAllRequest(){this.bookService.getAllPublishReq().pipe(nt(this)).subscribe({next:e=>{this.customerReq=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}};em.\u0275fac=function(e){return new(e||em)(i.Y36(br),i.Y36(hs))},em.\u0275cmp=i.Xpm({type:em,selectors:[["app-request-list"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-t-0","m-b-20"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[3,"publishRequest"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"]],template:function(e,t){1&e&&(i.YNc(0,gV,5,2,"ng-container",0),i.YNc(1,mV,3,0,"ng-container",0)),2&e&&(i.Q6J("ngIf",t.customerReq),i.xp6(1),i.Q6J("ngIf",0===t.customerReq.length))},dependencies:[sn,kt,Xg]}),em=(0,zn.gn)([Wn()],em);let li=class{constructor(e,t){this.afs=e,this.authService=t}pay(e){return e.oid=this.afs.createId(),this.afs.collection("/orderedCustomers").doc(e.oid).set(e)}getAllOrderedCustomers(){return this.afs.collection("/orderedCustomers").snapshotChanges()}finishedProject(e){return this.afs.doc("/acceptedBook/"+e.bid).delete(),this.afs.collection("/finishedproject").doc(e.bid).set(e)}unfinishedProject(e){return this.afs.doc("/acceptedBook/"+e.bid).delete(),this.afs.collection("/unifinishedproject").doc(e.bid).set(e)}allFinishedProjects(){return this.afs.collection("/finishedproject").snapshotChanges()}allUnFinishedProjects(){return this.afs.collection("/unifinishedproject").snapshotChanges()}addtocart(e){return this.authService.currentUser$.pipe(nt(this),Jt(t=>t?this.afs.collection("/users").doc(`${t.uid}`).collection("/addtocart").doc(`${e.bid}`).set(e):Xe(null)))}getCart(){return this.authService.currentUser$.pipe(nt(this),Jt(e=>e?this.afs.collection("/users").doc(`${e.uid}`).collection("/addtocart").valueChanges():Xe(null)))}deleteCartItem(e){return this.authService.currentUser$.pipe(nt(this),Jt(t=>t?this.afs.collection("/users").doc(t.uid).collection("/addtocart").doc(e.bid).delete():Xe(null)))}deleteOrderedCustomer(e){return this.afs.doc("/orderedCustomers/"+e.oid).delete()}};function _V(n,e){if(1&n&&(i.TgZ(0,"ul",12)(1,"li",11),i._uU(2,"To: "),i.TgZ(3,"span",27),i._uU(4),i.qZA()(),i.TgZ(5,"li",11),i._uU(6),i.qZA(),i.TgZ(7,"li",11),i._uU(8),i.qZA(),i.TgZ(9,"li",11),i._UZ(10,"i",28),i._uU(11),i.qZA()()),2&n){const t=e.ngIf;i.xp6(4),i.Oqu(t.username),i.xp6(2),i.Oqu(t.address),i.xp6(2),i.Oqu(t.email),i.xp6(3),i.hij(" ",t.phno,"")}}function yV(n,e){if(1&n&&(i.TgZ(0,"tbody")(1,"tr")(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA()()()),2&n){const t=e.$implicit;i.xp6(3),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(2),i.hij("$",t.price,"")}}li.\u0275fac=function(e){return new(e||li)(i.LFG(TI),i.LFG(Ho))},li.\u0275prov=i.Yz7({token:li,factory:li.\u0275fac,providedIn:"root"}),li=(0,zn.gn)([Wn()],li);let tm=class{constructor(e,t,r,s){this.orderService=e,this.bookService=t,this.route=r,this.userService=s,this.localDate=(new Date).toDateString(),this.cartList=[],this.user$=this.userService.CurrentUserProfile$}ngOnInit(){console.log(this.userId),this.getAllCart()}getAllCart(){this.orderService.getCart().pipe(nt(this)).subscribe({next:e=>{const t=JSON.parse(JSON.stringify(e));let r=0;for(var s=0;s<t.length;s++)this.cartList.push(t[s]);for(s=0;s<this.cartList.length;s++)r+=Number(this.cartList[s].price);this.totalPrice=r.toString()},error:e=>{console.log(e)}})}print(){window.print()}};function vV(n,e){if(1&n&&i._UZ(0,"img",39),2&n){const t=i.oxw().$implicit;i.s9C("src",t.url,i.LSH)}}function bV(n,e){if(1&n&&(i.ynx(0),i.YNc(1,vV,1,1,"img",38),i.BQk()),2&n){const t=e.$implicit,r=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",r.bid==t.name)}}function wV(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i.YNc(2,bV,2,1,"ng-container",28),i.qZA(),i.TgZ(3,"div",29)(4,"h3",30),i._uU(5),i.qZA(),i.TgZ(6,"h3",31),i._uU(7),i.qZA()(),i._UZ(8,"div",32),i.TgZ(9,"div",33)(10,"h3",34),i._uU(11),i.qZA()(),i.TgZ(12,"div",35)(13,"a",36),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw(2);return i.KtG(d.removeItem(u))}),i._UZ(14,"img",37),i.qZA()()()}if(2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",r.fileList),i.xp6(3),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(4),i.hij("\u20ac ",t.price,"")}}function CV(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h1",10),i._uU(11,"Cart"),i.qZA(),i.TgZ(12,"h6",11),i._uU(13,"3 items"),i.qZA()(),i._UZ(14,"hr",12),i.YNc(15,wV,15,4,"div",13),i._UZ(16,"hr",12),i.qZA()(),i.TgZ(17,"div",14)(18,"div",8)(19,"h2",15),i._uU(20,"Summary"),i.qZA(),i._UZ(21,"hr",12)(22,"div",16),i.TgZ(23,"h5",17),i._uU(24,"charges"),i.qZA(),i.TgZ(25,"div",18)(26,"h3"),i._uU(27,"All charges are included in the purchase"),i.qZA()(),i.TgZ(28,"h5",17),i._uU(29,"Give code"),i.qZA(),i.TgZ(30,"div",19)(31,"div",20),i._UZ(32,"input",21),i.TgZ(33,"label",22),i._uU(34,"Enter your code"),i.qZA()()(),i._UZ(35,"hr",12),i.TgZ(36,"div",23)(37,"h2",24),i._uU(38,"Total price"),i.qZA(),i.TgZ(39,"h2"),i._uU(40),i.qZA()(),i.TgZ(41,"button",25),i._uU(42,"Place order"),i.qZA()()()()()()()()(),i.BQk()),2&n){const t=i.oxw();i.xp6(15),i.Q6J("ngForOf",t.cartList),i.xp6(25),i.hij("$ ",t.totalPrice,"")}}function EV(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",40)(2,"div",41),i._UZ(3,"img",42),i.TgZ(4,"h2"),i._uU(5,"Your cart is empty!"),i.qZA(),i.TgZ(6,"h4"),i._uU(7,"Add item to cart now"),i.qZA(),i.TgZ(8,"button",43),i._uU(9,"Shop Now"),i.qZA()()(),i.BQk())}tm.\u0275fac=function(e){return new(e||tm)(i.Y36(li),i.Y36(hs),i.Y36(br),i.Y36(fr))},tm.\u0275cmp=i.Xpm({type:tm,selectors:[["app-addtocartbill"]],decls:57,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"container","mb-5","mt-3"],[1,"row","d-flex","align-items-baseline"],[1,"container"],[1,"col-md-12"],[1,"text-center"],[1,"row"],[1,"col-xl-8"],["class","list-unstyled",4,"ngIf"],[1,"col-xl-4"],[1,"text-muted"],[1,"list-unstyled"],[1,"fas","fa-circle",2,"color","#84B0CA"],[1,"fw-bold"],[1,"row","my-2","mx-1","justify-content-center"],[1,"table","table-striped","table-borderless"],[1,"text-white",2,"background-color","#84B0CA"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-xl-3"],[1,"text-black","float-start"],[1,"text-black","me-3"],[2,"font-size","25px"],[1,"col-xl-10"],[1,"col-xl-2"],["type","button",1,"btn","btn-primary","text-capitalize",2,"background-color","#60bdf3",3,"click"],[2,"color","#5d9fc5"],[1,"fas","fa-phone"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"div",3),i.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),i._uU(8," My Books"),i.qZA()()(),i.TgZ(9,"div",7)(10,"div",8),i.YNc(11,_V,12,4,"ul",9),i.ALo(12,"async"),i.qZA(),i.TgZ(13,"div",10)(14,"p",11),i._uU(15,"Invoice"),i.qZA(),i.TgZ(16,"ul",12)(17,"li",11),i._UZ(18,"i",13),i.TgZ(19,"span",14),i._uU(20,"ID:"),i.qZA(),i._uU(21,"#123-456"),i.qZA(),i.TgZ(22,"li",11),i._UZ(23,"i",13),i.TgZ(24,"span",14),i._uU(25,"Date: "),i.qZA(),i._uU(26),i.qZA()()()(),i.TgZ(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr")(31,"th",18),i._uU(32,"Book Name"),i.qZA(),i.TgZ(33,"th",18),i._uU(34,"Category"),i.qZA(),i.TgZ(35,"th",18),i._uU(36,"Amount"),i.qZA()()(),i.YNc(37,yV,8,3,"tbody",19),i.qZA()(),i.TgZ(38,"div",7),i._UZ(39,"div",8),i.TgZ(40,"div",20)(41,"p",21)(42,"span",22),i._uU(43," Total Amount"),i.qZA(),i.TgZ(44,"span",23),i._uU(45),i.qZA()()()(),i._UZ(46,"hr"),i.TgZ(47,"div",7)(48,"div",24)(49,"p"),i._uU(50,"Paid"),i.qZA(),i._UZ(51,"br"),i.TgZ(52,"p"),i._uU(53,"Thank you for your purchase"),i.qZA()(),i.TgZ(54,"div",25)(55,"button",26),i.NdJ("click",function(){return t.print()}),i._uU(56,"Print"),i.qZA()()()()()()()),2&e&&(i.xp6(11),i.Q6J("ngIf",i.lcZ(12,4,t.user$)),i.xp6(15),i.Oqu(t.localDate),i.xp6(11),i.Q6J("ngForOf",t.cartList),i.xp6(8),i.hij("$",t.totalPrice,""))},dependencies:[sn,kt,pi]}),tm=(0,zn.gn)([Wn()],tm);let nm=class{constructor(e,t,r,s){this.router=e,this.storage=t,this.userService=r,this.orderService=s,this.user$=this.userService.CurrentUserProfile$,this.cartList=[],this.fileList=[]}ngOnInit(){this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid}),this.getAllCart(),this.getAllCartImages()}getAllCart(){this.orderService.getCart().pipe(nt(this)).subscribe({next:e=>{const t=JSON.parse(JSON.stringify(e));let r=0;for(var s=0;s<t.length;s++)this.cartList.push(t[s]);for(s=0;s<this.cartList.length;s++)r+=Number(this.cartList[s].price);this.totalPrice=r.toString()},error:e=>{console.log(e)}})}getAllCartImages(){this.storage.ref("/images/books/").listAll().pipe(nt(this)).subscribe(t=>{for(let r=0;r<t.items.length;r++){let s=t.items[r].name;this.storage.ref("/images/books/"+t.items[r].name).getDownloadURL().pipe(nt(this)).subscribe(d=>{this.fileList.push({name:s,url:d})})}})}removeItem(e){this.orderService.deleteCartItem(e).pipe(nt(this)).subscribe(()=>{location.reload()})}};function TV(n,e){if(1&n&&(i.TgZ(0,"ul",12)(1,"li",11),i._uU(2,"To: "),i.TgZ(3,"span",27),i._uU(4),i.qZA()(),i.TgZ(5,"li",11),i._uU(6),i.qZA(),i.TgZ(7,"li",11),i._uU(8),i.qZA(),i.TgZ(9,"li",11),i._UZ(10,"i",28),i._uU(11),i.qZA()()),2&n){const t=e.ngIf;i.xp6(4),i.Oqu(t.username),i.xp6(2),i.Oqu(t.address),i.xp6(2),i.Oqu(t.email),i.xp6(3),i.hij(" ",t.phno,"")}}function IV(n,e){if(1&n&&(i.TgZ(0,"tbody")(1,"tr")(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA()()()),2&n){const t=e.$implicit;i.xp6(3),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(2),i.hij("$",t.price,"")}}nm.\u0275fac=function(e){return new(e||nm)(i.Y36(un),i.Y36(Qg),i.Y36(fr),i.Y36(li))},nm.\u0275cmp=i.Xpm({type:nm,selectors:[["app-cart"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12"],[1,"card","card-registration","card-registration-2",2,"border-radius","15px"],[1,"card-body","p-0"],[1,"row","g-0"],[1,"col-lg-8"],[1,"p-5"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"fw-bold","mb-0","text-black"],[1,"mb-0","text-muted"],[1,"my-4"],["class","row mb-4 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"col-lg-4","bg-grey"],[1,"fw-bold","mb-5","mt-2","pt-1"],[1,"d-flex","justify-content-between","mb-4"],[1,"text-uppercase","mb-3"],[1,"mb-4","pb-2"],[1,"mb-5"],[1,"form-outline"],["type","text","id","form3Examplea2",1,"form-control","form-control-lg"],["for","form3Examplea2",1,"form-label"],[1,"d-flex","justify-content-between","mb-5"],[1,"text-uppercase"],["type","button","routerLink","/cartorderbill","data-mdb-ripple-color","dark",1,"btn","btn-dark","btn-block","btn-lg"],[1,"row","mb-4","d-flex","justify-content-between","align-items-center"],[1,"col-md-2","col-lg-2","col-xl-2"],[4,"ngFor","ngForOf"],[1,"col-md-3","col-lg-3","col-xl-3"],[1,"text-muted"],[1,"text-black","mb-0"],[1,"col-md-3","col-lg-3","col-xl-2","d-flex"],[1,"col-md-3","col-lg-2","col-xl-2","offset-lg-1"],[1,"mb-0"],[1,"col-md-1","col-lg-1","col-xl-1","text-end"],[3,"click"],["src","https://img.icons8.com/plasticine/100/000000/filled-trash.png",1,"adj"],["class","img-fluid rounded-3",3,"src",4,"ngIf"],[1,"img-fluid","rounded-3",3,"src"],[1,"container","ad"],[1,"center"],["src","https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90","alt",""],["routerLink","/categories",1,"btn","btn-dark"]],template:function(e,t){1&e&&(i.YNc(0,CV,43,2,"ng-container",0),i.YNc(1,EV,10,0,"ng-container",0)),2&e&&(i.Q6J("ngIf",0!=t.cartList.length),i.xp6(1),i.Q6J("ngIf",0==t.cartList.length))},dependencies:[sn,kt,ku],styles:["@media (min-width: 1025px){.h-custom[_ngcontent-%COMP%]{height:100vh!important}}.card-registration[_ngcontent-%COMP%]   .select-input.form-control[readonly][_ngcontent-%COMP%]:not([disabled]){font-size:1rem;line-height:2.15;padding-left:.75em;padding-right:.75em}.card-registration[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{top:0px}.bg-grey[_ngcontent-%COMP%]{background-color:#eae8e8}@media (min-width: 992px){.card-registration-2[_ngcontent-%COMP%]   .bg-grey[_ngcontent-%COMP%]{border-top-right-radius:16px;border-bottom-right-radius:16px}}@media (max-width: 991px){.card-registration-2[_ngcontent-%COMP%]   .bg-grey[_ngcontent-%COMP%]{border-bottom-left-radius:16px;border-bottom-right-radius:16px}}.adj[_ngcontent-%COMP%]{height:50px;width:50px}.adj[_ngcontent-%COMP%]:hover{cursor:pointer}.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border:none;outline:none;height:162px;width:250px;margin:20px 0}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.ad[_ngcontent-%COMP%]{margin-top:2%}"]}),nm=(0,zn.gn)([Wn()],nm);let rm=class{constructor(e,t,r){this.router=e,this.userService=t,this.orderService=r,this.user$=this.userService.CurrentUserProfile$,this.cartList=[],this.localDate=(new Date).toDateString()}ngOnInit(){this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid}),this.getAllCart()}getAllCart(){this.orderService.getCart().pipe(nt(this)).subscribe({next:e=>{const t=JSON.parse(JSON.stringify(e));let r=0;for(var s=0;s<t.length;s++)this.cartList.push(t[s]);for(s=0;s<this.cartList.length;s++)r+=Number(this.cartList[s].price);this.totalPrice=r.toString()},error:e=>{console.log(e)}})}pay(e){this.router.navigate(["/paymentcard",e.bid])}};function AV(n,e){if(1&n){const t=i.EpF();i.ynx(0)(1),i.TgZ(2,"div",1)(3,"div",2)(4,"p",3),i._uU(5,"Payment Details"),i.qZA(),i.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"p",7),i._uU(10,"Person Name"),i.qZA(),i._UZ(11,"input",8),i.qZA()(),i.TgZ(12,"div",5)(13,"div",6)(14,"p",7),i._uU(15,"Card Number"),i.qZA(),i._UZ(16,"input",9),i.qZA()(),i.TgZ(17,"div",10)(18,"div",6)(19,"p",7),i._uU(20,"Expiry"),i.qZA(),i._UZ(21,"input",11),i.qZA()(),i.TgZ(22,"div",10)(23,"div",6)(24,"p",7),i._uU(25,"CVV/CVC"),i.qZA(),i._UZ(26,"input",12),i.qZA()(),i.TgZ(27,"div",5)(28,"a",13),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.onPayment())}),i.TgZ(29,"div",14)(30,"span",15),i._uU(31),i.qZA()()()()()()(),i.BQk()()}if(2&n){const t=e.ngIf,r=i.oxw();i.xp6(11),i.s9C("value",t.username),i.xp6(20),i.hij("Pay $",r.totalPrice,"")}}rm.\u0275fac=function(e){return new(e||rm)(i.Y36(un),i.Y36(fr),i.Y36(li))},rm.\u0275cmp=i.Xpm({type:rm,selectors:[["app-cartorderdetails"]],decls:54,vars:7,consts:[[1,"card"],[1,"card-body"],[1,"container","mb-5","mt-3"],[1,"row","d-flex","align-items-baseline"],[1,"container"],[1,"col-md-12"],[1,"text-center"],[1,"row"],[1,"col-xl-8"],["class","list-unstyled",4,"ngIf"],[1,"col-xl-4"],[1,"text-muted"],[1,"list-unstyled"],[1,"fas","fa-circle",2,"color","#84B0CA"],[1,"fw-bold"],[1,"row","my-2","mx-1","justify-content-center"],[1,"table","table-striped","table-borderless"],[1,"text-white",2,"background-color","#84B0CA"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-xl-3"],[1,"text-black","float-start"],[1,"text-black","me-3"],[2,"font-size","25px"],[1,"col-xl-10"],[1,"col-xl-2"],["type","button",1,"btn","btn-primary","text-capitalize",2,"background-color","#60bdf3",3,"routerLink"],[2,"color","#5d9fc5"],[1,"fas","fa-phone"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"div",3),i.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),i._uU(8," My Books"),i.qZA()()(),i.TgZ(9,"div",7)(10,"div",8),i.YNc(11,TV,12,4,"ul",9),i.ALo(12,"async"),i.qZA(),i.TgZ(13,"div",10)(14,"p",11),i._uU(15,"Invoice"),i.qZA(),i.TgZ(16,"ul",12)(17,"li",11),i._UZ(18,"i",13),i.TgZ(19,"span",14),i._uU(20,"ID:"),i.qZA(),i._uU(21,"#123-456"),i.qZA(),i.TgZ(22,"li",11),i._UZ(23,"i",13),i.TgZ(24,"span",14),i._uU(25,"Date: "),i.qZA(),i._uU(26),i.qZA()()()(),i.TgZ(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr")(31,"th",18),i._uU(32,"Book Name"),i.qZA(),i.TgZ(33,"th",18),i._uU(34,"Category"),i.qZA(),i.TgZ(35,"th",18),i._uU(36,"Amount"),i.qZA()()(),i.YNc(37,IV,8,3,"tbody",19),i.qZA()(),i.TgZ(38,"div",7),i._UZ(39,"div",8),i.TgZ(40,"div",20)(41,"p",21)(42,"span",22),i._uU(43," Total Amount"),i.qZA(),i.TgZ(44,"span",23),i._uU(45),i.qZA()()()(),i._UZ(46,"hr"),i.TgZ(47,"div",7)(48,"div",24)(49,"p"),i._uU(50,"Thank you for your purchase"),i.qZA()(),i.TgZ(51,"div",25)(52,"button",26),i._uU(53,"Pay Now"),i.qZA()()()()()()()),2&e&&(i.xp6(11),i.Q6J("ngIf",i.lcZ(12,5,t.user$)),i.xp6(15),i.Oqu(t.localDate),i.xp6(11),i.Q6J("ngForOf",t.cartList),i.xp6(8),i.hij("$",t.totalPrice,""),i.xp6(7),i.MGl("routerLink","/cartpaymentcard/",t.totalPrice,""))},dependencies:[sn,kt,ku,pi]}),rm=(0,zn.gn)([Wn()],rm);let im=class{constructor(e,t,r,s,u,d,f){this.toast=e,this.router=t,this.bookService=r,this.confirmService=s,this.userService=u,this.route=d,this.orderService=f,this.user$=this.userService.CurrentUserProfile$,this.cartList=[]}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.totalPrice=e.price}),this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid}),this.getAllCart()}getAllCart(){this.orderService.getCart().pipe(nt(this)).subscribe({next:e=>{const t=JSON.parse(JSON.stringify(e));for(var r=0;r<t.length;r++)this.cartList.push(t[r])},error:e=>{console.log(e)}})}onPayment(){this.confirmService.showConfirm("Proceed to pay?",()=>{const e=(new Date).toDateString();for(let t=0;t<this.cartList.length;t++){const r="",s=this.cartList[t].bid;this.bookService.updateFrmCart({bid:s,uid:this.userId,uname:this.cartList[t].uname,bname:this.cartList[t].bname,category:this.cartList[t].category,nofpages:this.cartList[t].nofpages,price:this.cartList[t].price,acctno:this.cartList[t].acctno,target:this.cartList[t].target,receivedorders:(+this.cartList[t].receivedorders+1).toString(),dateexpected:this.cartList[t].dateexpected,description:this.cartList[t].description}).then(()=>{this.orderService.pay({oid:r,uid:this.userId,bid:s,dateoforder:e})})}this.toast.success("Payment Successfull"),console.log(this.userId),this.router.navigate(["/addtocartbill"])},()=>{})}};im.\u0275fac=function(e){return new(e||im)(i.Y36(Za),i.Y36(un),i.Y36(hs),i.Y36(Yd),i.Y36(fr),i.Y36(br),i.Y36(li))},im.\u0275cmp=i.Xpm({type:im,selectors:[["app-cartpaymentcard"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container","p-0"],[1,"card","px-4"],[1,"h8","py-3"],[1,"row","gx-3"],[1,"col-12"],[1,"d-flex","flex-column"],[1,"text","mb-1"],["type","text","placeholder","Name",1,"form-control","mb-3",3,"value"],["type","text","placeholder","1234 5678 435678","required","",1,"form-control","mb-3"],[1,"col-6"],["type","text","placeholder","MM/YYYY","required","",1,"form-control","mb-3"],["type","password","placeholder","***","required","",1,"form-control","mb-3","pt-2"],[3,"click"],[1,"btn","btn-primary","mb-3"],[1,"ps-3"]],template:function(e,t){1&e&&(i.YNc(0,AV,32,2,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,t.user$))},dependencies:[kt,pi],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#0c4160;padding:30px 10px}.card[_ngcontent-%COMP%]{max-width:500px;margin:auto;color:#000;border-radius:20 px}p[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]   .h8[_ngcontent-%COMP%]{font-size:30px;font-weight:800;text-align:center}.btn.btn-primary[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 15px;background-image:linear-gradient(to right,#77A1D3 0%,#79CBCA 51%,#77A1D3 100%);border:none;transition:.5s;background-size:200% auto}.btn.btn.btn-primary[_ngcontent-%COMP%]:hover{background-position:right center;color:#fff;text-decoration:none}.btn.btn-primary[_ngcontent-%COMP%]:hover   .fas.fa-arrow-right[_ngcontent-%COMP%]{transform:translate(15px);transition:transform .2s ease-in}.form-control[_ngcontent-%COMP%]{color:#fff;background-color:#223c60;border:2px solid transparent;height:60px;padding-left:20px;vertical-align:middle}.form-control[_ngcontent-%COMP%]:focus{color:#fff;background-color:#0c4160;border:2px solid #2d4dda;box-shadow:none}.text[_ngcontent-%COMP%]{font-size:14px;font-weight:600}[_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:600}']}),im=(0,zn.gn)([Wn()],im);class HP{}const Xd="*";function SV(n,e){return{type:7,name:n,definitions:e,options:{}}}function GP(n,e=null){return{type:4,styles:e,timings:n}}function zP(n,e=null){return{type:2,steps:n,options:e}}function gw(n){return{type:6,styles:n,offset:null}}function xV(n,e,t){return{type:0,name:n,styles:e,options:t}}function WP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function KP(n){Promise.resolve(null).then(n)}class mw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){KP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class YP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?KP(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const MV=["overlay"];function OV(n,e){1&n&&i._UZ(0,"div")}function PV(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,OV,1,0,"div",6),i.qZA()),2&n){const t=i.oxw(2);i.Tol(t.spinner.class),i.Udp("color",t.spinner.color),i.xp6(1),i.Q6J("ngForOf",t.spinner.divArray)}}function kV(n,e){if(1&n&&(i._UZ(0,"div",7),i.ALo(1,"safeHtml")),2&n){const t=i.oxw(2);i.Q6J("innerHTML",i.lcZ(1,1,t.template),i.oJD)}}function RV(n,e){if(1&n&&(i.TgZ(0,"div",1,2),i.YNc(2,PV,2,5,"div",3),i.YNc(3,kV,2,3,"div",4),i.TgZ(4,"div",5),i.Hsn(5),i.qZA()()),2&n){const t=i.oxw();i.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),i.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),i.xp6(2),i.Q6J("ngIf",!t.template),i.xp6(1),i.Q6J("ngIf",t.template),i.xp6(1),i.Udp("z-index",t.spinner.zIndex)}}const NV=["*"],FV={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},NS="primary";class sm{constructor(e){Object.assign(this,e)}static create(e){return(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new sm(e)}}let Mf=(()=>{class n{constructor(){this.spinnerObservable=new bn(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(T(r=>r&&r.name===t))}show(t=NS,r){return new Promise((s,u)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new sm({...r,show:!0})),s(!0)):(this.spinnerObservable.next(new sm({name:t,show:!0})),s(!0))},10)})}hide(t=NS,r=10){return new Promise((s,u)=>{setTimeout(()=>{this.spinnerObservable.next(new sm({name:t,show:!1})),s(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QP=new i.OlP("NGX_SPINNER_CONFIG");let LV=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(dc,16))},n.\u0275pipe=i.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),UV=(()=>{class n{constructor(t,r,s,u){this.spinnerService=t,this.changeDetector=r,this.elementRef=s,this.globalConfig=u,this.disableAnimation=!1,this.spinner=new sm,this.ngUnsubscribe=new ar.x,this.setDefaultOptions=()=>{const{type:d}=this.globalConfig??{};this.spinner=sm.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??d,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=NS,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(GO(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const s=t[r];if(s.isFirstChange())return;typeof s.currentValue<"u"&&s.currentValue!==s.previousValue&&""!==s.currentValue&&(this.spinner[r]=s.currentValue,"showSpinner"===r&&(s.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=FV[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((u,d)=>d);let s="";switch(r.toLowerCase()){case"small":s="la-sm";break;case"medium":s="la-2x";break;case"large":s="la-3x"}return"la-"+t+" "+s}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(QP,8))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&i.Gf(MV,5),2&t){let s;i.iGM(s=i.CRH())&&(r.spinnerDOM=s.first)}},hostBindings:function(t,r){1&t&&i.NdJ("keydown",function(u){return r.handleKeyboardEvent(u)},!1,i.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[i.TTD],ngContentSelectors:NV,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(i.F$t(),i.YNc(0,RV,6,12,"div",0)),2&t&&i.Q6J("ngIf",r.spinner.show)},dependencies:[sn,kt,LV],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[SV("fadeIn",[xV("in",gw({opacity:1})),WP(":enter",[gw({opacity:0}),GP(300)]),WP(":leave",GP(200,gw({opacity:0})))])]},changeDetection:0}),n})(),VV=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:QP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[yo]}),n})(),JP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),om=(()=>{class n extends JP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const vl=new i.OlP("NgValueAccessor"),jV={provide:vl,useExisting:(0,i.Gpc)(()=>am),multi:!0},$V=new i.OlP("CompositionEventMode");let am=(()=>{class n extends JP{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qV(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36($V,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[i._Bn([jV]),i.qOj]}),n})();function Of(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ek(n){return null!=n&&"number"==typeof n.length}const fs=new i.OlP("NgValidators"),Pf=new i.OlP("NgAsyncValidators"),GV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zi{static min(e){return function tk(n){return e=>{if(Of(e.value)||Of(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function nk(n){return e=>{if(Of(e.value)||Of(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return rk(e)}static requiredTrue(e){return function ik(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function sk(n){return Of(n.value)||GV.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ok(n){return e=>Of(e.value)||!ek(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ak(n){return e=>ek(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ck(n){if(!n)return PI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Of(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return pk(e)}static composeAsync(e){return gk(e)}}function rk(n){return Of(n.value)?{required:!0}:null}function PI(n){return null}function uk(n){return null!=n}function lk(n){return(0,i.QGY)(n)?(0,jt.D)(n):n}function dk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function hk(n,e){return e.map(t=>t(n))}function fk(n){return n.map(e=>function zV(n){return!n.validate}(e)?e:t=>e.validate(t))}function pk(n){if(!n)return null;const e=n.filter(uk);return 0==e.length?null:function(t){return dk(hk(t,e))}}function FS(n){return null!=n?pk(fk(n)):null}function gk(n){if(!n)return null;const e=n.filter(uk);return 0==e.length?null:function(t){return function BV(...n){const e=(0,ki.jO)(n),{args:t,keys:r}=fc(n),s=new Ir.y(u=>{const{length:d}=t;if(!d)return void u.complete();const f=new Array(d);let _=d,w=d;for(let A=0;A<d;A++){let x=!1;(0,Ni.Xf)(t[A]).subscribe((0,Nn.x)(u,F=>{x||(x=!0,w--),f[A]=F},()=>_--,void 0,()=>{(!_||!x)&&(w||u.next(r?pa(r,f):f),u.complete())}))}});return e?s.pipe(gc(e)):s}(hk(t,e).map(lk)).pipe((0,at.U)(dk))}}function LS(n){return null!=n?gk(fk(n)):null}function mk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _k(n){return n._rawValidators}function yk(n){return n._rawAsyncValidators}function US(n){return n?Array.isArray(n)?n:[n]:[]}function kI(n,e){return Array.isArray(n)?n.includes(e):n===e}function vk(n,e){const t=US(e);return US(n).forEach(s=>{kI(t,s)||t.push(s)}),t}function bk(n,e){return US(e).filter(t=>!kI(n,t))}class wk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vs extends wk{get formDirective(){return null}get path(){return null}}class kf extends wk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ck{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _w=(()=>{class n extends Ck{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(kf,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[i.qOj]}),n})(),yw=(()=>{class n extends Ck{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Vs,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[i.qOj]}),n})();const vw="VALID",NI="INVALID",nv="PENDING",bw="DISABLED";function jS(n){return(FI(n)?n.validators:n)||null}function Tk(n){return Array.isArray(n)?FS(n):n||null}function qS(n,e){return(FI(e)?e.asyncValidators:n)||null}function Ik(n){return Array.isArray(n)?LS(n):n||null}function FI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ak(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[t])throw new i.vHH(1001,"")}function Dk(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new i.vHH(1002,"")})}class LI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Tk(this._rawValidators),this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vw}get invalid(){return this.status===NI}get pending(){return this.status==nv}get disabled(){return this.status===bw}get enabled(){return this.status!==bw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Tk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ik(e)}addValidators(e){this.setValidators(vk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bk(e,this._rawAsyncValidators))}hasValidator(e){return kI(this._rawValidators,e)}hasAsyncValidator(e){return kI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vw||this.status===nv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bw:vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nv,this._hasOwnPendingAsyncValidator=!0;const t=lk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?bw:this.errors?NI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nv)?nv:this._anyControlsHaveStatus(NI)?NI:vw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){FI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class zo extends LI{constructor(e,t,r){super(jS(t),qS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Dk(this,0,e),Object.keys(e).forEach(r=>{Ak(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Sk extends zo{}function UI(n,e){return[...e.path,n]}function ww(n,e){$S(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function t3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xk(n,e)})}(n,e),function r3(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function n3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function e3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function VI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ZI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function BI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $S(n,e){const t=_k(n);null!==e.validator?n.setValidators(mk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=yk(n);null!==e.asyncValidator?n.setAsyncValidators(mk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();BI(e._rawValidators,s),BI(e._rawAsyncValidators,s)}function ZI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=_k(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=yk(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return BI(e._rawValidators,r),BI(e._rawAsyncValidators,r),t}function xk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mk(n,e){$S(n,e)}function HS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Pk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GS(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===am?t=u:function o3(n){return Object.getPrototypeOf(n.constructor)===om}(u)?r=u:s=u}),s||r||t||null}const c3={provide:Vs,useExisting:(0,i.Gpc)(()=>Ew)},Cw=(()=>Promise.resolve(null))();let Ew=(()=>{class n extends Vs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.vpe,this.form=new zo({},FS(t),LS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ww(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Cw.then(()=>{const r=this._findContainer(t.path),s=new zo({});Mk(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Pk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(fs,10),i.Y36(Pf,10))},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&i.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([c3]),i.qOj]}),n})();function kk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gn=class extends LI{constructor(e=null,t,r){super(jS(t),qS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Rk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Rk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},d3={provide:kf,useExisting:(0,i.Gpc)(()=>zS)},Lk=(()=>Promise.resolve(null))();let zS=(()=>{class n extends kf{constructor(t,r,s,u,d){super(),this._changeDetectorRef=d,this.control=new gn,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=GS(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),HS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ww(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,i.D6c)(r);Lk.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?UI(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Vs,9),i.Y36(fs,10),i.Y36(Pf,10),i.Y36(vl,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([d3]),i.qOj,i.TTD]}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const WS=new i.OlP("NgModelWithFormControlWarning"),_3={provide:Vs,useExisting:(0,i.Gpc)(()=>rv)};let rv=(()=>{class n extends Vs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ZI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ww(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){VI(t.control||null,t,!1),function a3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Pk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(VI(r||null,t),(n=>n instanceof gn)(s)&&(ww(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Mk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function i3(n,e){return ZI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$S(this.form,this),this._oldForm&&ZI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(fs,10),i.Y36(Pf,10))},n.\u0275dir=i.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&i.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([_3]),i.qOj,i.TTD]}),n})();const b3={provide:kf,useExisting:(0,i.Gpc)(()=>Iw)};let Iw=(()=>{class n extends kf{constructor(t,r,s,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=GS(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),HS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return UI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(i.Y36(Vs,13),i.Y36(fs,10),i.Y36(Pf,10),i.Y36(vl,10),i.Y36(WS,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([b3]),i.qOj,i.TTD]}),n})();const w3={provide:vl,useExisting:(0,i.Gpc)(()=>QS),multi:!0};function $k(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let QS=(()=>{class n extends om{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=$k(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function C3(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([w3]),i.qOj]}),n})(),JS=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($k(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(QS,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const E3={provide:vl,useExisting:(0,i.Gpc)(()=>XS),multi:!0};function Hk(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let XS=(()=>{class n extends om{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let f=0;f<d.length;f++){const w=this._getOptionValue(d[f].value);s.push(w)}}else{const d=r.options;for(let f=0;f<d.length;f++){const _=d[f];if(_.selected){const w=this._getOptionValue(_.value);s.push(w)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function T3(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([E3]),i.qOj]}),n})(),ex=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Hk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Hk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(XS,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),cm=(()=>{class n{constructor(){this._validator=PI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):PI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=i.lG2({type:n,features:[i.TTD]}),n})();const D3={provide:fs,useExisting:(0,i.Gpc)(()=>jI),multi:!0};let jI=(()=>{class n extends cm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.D6c,this.createValidator=t=>rk}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&i.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[i._Bn([D3]),i.qOj]}),n})(),tR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Vk]}),n})(),k3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[tR]}),n})(),nR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[tR]}),n})();class rR extends LI{constructor(e,t,r){super(jS(t),qS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Dk(this,0,e),e.forEach((r,s)=>{Ak(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function iR(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let R3=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let u={};return iR(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new zo(s,u)}record(t,r=null){const s=this._reduceControls(t);return new Sk(s,r)}control(t,r,s){let u={};return this.useNonNullable?(iR(r)?u=r:(u.validators=r,u.asyncValidators=s),new gn(t,{...u,nonNullable:!0})):new gn(t,r,s)}array(t,r,s){const u=t.map(d=>this._createControl(d));return new rR(u,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof gn||t instanceof LI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:nR}),n})();function N3(n,e){if(1&n&&i._UZ(0,"img",28),2&n){const t=i.oxw().$implicit;i.s9C("src",t.url,i.LSH)}}function F3(n,e){if(1&n&&(i.TgZ(0,"div")(1,"a",26),i.YNc(2,N3,1,1,"img",27),i.qZA()()),2&n){const t=e.$implicit,r=i.oxw().$implicit;i.xp6(1),i.MGl("routerLink","/productdetails/",r.bid,""),i.xp6(1),i.Q6J("ngIf",r.bid==t.name)}}const L3=function(n){return{width:n}};function U3(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",21),i.YNc(2,F3,3,2,"div",19),i.TgZ(3,"h2",22),i._uU(4),i.qZA(),i.TgZ(5,"p")(6,"strong"),i._uU(7),i.qZA()(),i.TgZ(8,"p",22),i._uU(9),i.qZA(),i.TgZ(10,"div",23),i._UZ(11,"div",24),i._uU(12),i.qZA(),i._UZ(13,"br"),i.TgZ(14,"button",25),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.ordernow(u))}),i._uU(15,"Order Now"),i.qZA()(),i.BQk()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(2),i.Q6J("ngForOf",r.fileList),i.xp6(2),i.hij(" ",t.bname.toLocaleUpperCase(),""),i.xp6(3),i.hij("Price : $",t.price,""),i.xp6(2),i.hij(" Campaign end Date : ",t.dateexpected,""),i.xp6(2),i.Q6J("ngStyle",i.VKq(8,L3,t.receivedorders+"%")),i.uIk("aria-valuenow",t.receivedorders)("aria-valuemax",t.target),i.xp6(1),i.hij("",t.receivedorders,"% ")}}function V3(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",29),i._uU(2," No Books Published on this Category !! "),i.qZA(),i.BQk())}let um=class{constructor(e,t,r,s,u,d){this.spinner=e,this.router=t,this.toast=r,this.storage=s,this.bookService=u,this.userService=d,this.allBooks=[],this.fileList=[],this.user$=this.userService.CurrentUserProfile$}ngOnInit(){this.spinner.show(),this.getAllBooks(),this.imageList(),setTimeout(()=>{this.spinner.hide()},2e3)}getAllBooks(){this.bookService.getAllAcceptedRequests().pipe(nt(this)).subscribe({next:e=>{this.allBooks=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}imageList(){this.storage.ref("/images/books/").listAll().pipe(nt(this)).subscribe(t=>{for(let r=0;r<t.items.length;r++){let s=t.items[r].name;this.storage.ref("/images/books/"+t.items[r].name).getDownloadURL().pipe(nt(this)).subscribe(d=>{this.fileList.push({name:s,url:d})})}})}ordernow(e){this.user$.pipe(nt(this)).subscribe(t=>{t?(this.userid=t.uid,this.router.navigate(["/orderbill",e.bid])):this.toast.warning("Login to continue...")})}search(e){this.bookService.searchItem(e).pipe(nt(this)).subscribe(t=>{this.allBooks=t.map(r=>{const s=r.payload.doc.data();return s.id=r.payload.doc.id,s})})}searchByName(){this.bookService.searchByName(this.searchTxt.toLowerCase()).pipe(nt(this)).subscribe(e=>{this.allBooks=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})})}};function B3(n,e){if(1&n&&(i.TgZ(0,"ul",13)(1,"li",12),i._uU(2,"To: "),i.TgZ(3,"span",27),i._uU(4),i.qZA()(),i.TgZ(5,"li",12),i._uU(6),i.qZA(),i.TgZ(7,"li",12),i._uU(8),i.qZA(),i.TgZ(9,"li",12),i._UZ(10,"i",28),i._uU(11),i.qZA()()),2&n){const t=e.ngIf;i.xp6(4),i.Oqu(t.username),i.xp6(2),i.Oqu(t.address),i.xp6(2),i.Oqu(t.email),i.xp6(3),i.hij(" ",t.phno,"")}}function Z3(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h2"),i._uU(4," My Books"),i.qZA()()(),i.TgZ(5,"div",8)(6,"div",9),i.YNc(7,B3,12,4,"ul",10),i.ALo(8,"async"),i.qZA(),i.TgZ(9,"div",11)(10,"p",12),i._uU(11,"Invoice"),i.qZA(),i.TgZ(12,"ul",13)(13,"li",12),i._UZ(14,"i",14),i.TgZ(15,"span",15),i._uU(16,"ID:"),i.qZA(),i._uU(17,"#123-456"),i.qZA(),i.TgZ(18,"li",12),i._UZ(19,"i",14),i.TgZ(20,"span",15),i._uU(21,"Date: "),i.qZA(),i._uU(22),i.qZA()()()(),i.TgZ(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th",19),i._uU(28,"Book Name"),i.qZA(),i.TgZ(29,"th",19),i._uU(30,"Category"),i.qZA(),i.TgZ(31,"th",19),i._uU(32,"Amount"),i.qZA()()(),i.TgZ(33,"tbody")(34,"tr")(35,"td"),i._uU(36),i.qZA(),i.TgZ(37,"td"),i._uU(38),i.qZA(),i.TgZ(39,"td"),i._uU(40),i.qZA()()()()(),i.TgZ(41,"div",8),i._UZ(42,"div",9),i.TgZ(43,"div",20)(44,"p",21)(45,"span",22),i._uU(46," Total Amount"),i.qZA(),i.TgZ(47,"span",23),i._uU(48),i.qZA()()()(),i._UZ(49,"hr"),i.TgZ(50,"div",8)(51,"div",24)(52,"p"),i._uU(53,"Paid"),i.qZA(),i._UZ(54,"br"),i.TgZ(55,"p"),i._uU(56,"Thank you for your purchase"),i.qZA()(),i.TgZ(57,"div",25)(58,"button",26),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.print())}),i._uU(59,"Print"),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(7),i.Q6J("ngIf",i.lcZ(8,6,r.user$)),i.xp6(15),i.Oqu(r.localDate),i.xp6(14),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(2),i.hij("$",t.price,""),i.xp6(8),i.hij("$",t.price,"")}}um.\u0275fac=function(e){return new(e||um)(i.Y36(Mf),i.Y36(un),i.Y36(Za),i.Y36(Qg),i.Y36(hs),i.Y36(fr))},um.\u0275cmp=i.Xpm({type:um,selectors:[["app-categories"]],decls:43,vars:3,consts:[[1,"card-top","container-fluid"],[1,"container","d-flex"],[1,"item"],[3,"click"],["src","https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-books-literature-flaticons-lineal-color-flat-icons-31.png"],["src","https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-fiction-literature-flaticons-lineal-color-flat-icons.png"],["src","https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-books-literature-flaticons-lineal-color-flat-icons.png"],["src","https://img.icons8.com/color/48/000000/history-book.png",2,"height","80px","margin-top","-3px"],[2,"margin-top","-5px"],["src","https://img.icons8.com/external-inipagistudio-lineal-color-inipagistudio/64/000000/external-poetry-student-club-inipagistudio-lineal-color-inipagistudio.png"],[2,"margin-top","2px"],["src","https://img.icons8.com/color/48/000000/comic-book.png",2,"height","80px","margin-top","-3px"],[1,"searchbar"],["type","text","name","search","placeholder","Search...",1,"search_input",3,"ngModel","ngModelChange"],[1,"search_icon",3,"click"],[1,"fas","fa-search"],["src","https://img.icons8.com/external-anggara-outline-color-anggara-putra/32/000000/external-search-social-media-interface-anggara-outline-color-anggara-putra.png"],[1,"container"],[1,"row"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card","col-md-3"],[2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis","max-width","100ch"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar",3,"ngStyle"],[1,"btn","btn-dark",3,"click"],[3,"routerLink"],[3,"src",4,"ngIf"],[3,"src"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),i.NdJ("click",function(){return t.getAllBooks()}),i._UZ(4,"img",4),i.TgZ(5,"h6"),i._uU(6,"All"),i.qZA()()(),i.TgZ(7,"div",2)(8,"a",3),i.NdJ("click",function(){return t.search("Fiction")}),i._UZ(9,"img",5),i.TgZ(10,"h6"),i._uU(11,"Fiction"),i.qZA()()(),i.TgZ(12,"div",2)(13,"a",3),i.NdJ("click",function(){return t.search("Biography")}),i._UZ(14,"img",6),i.TgZ(15,"h6"),i._uU(16,"Biography"),i.qZA()()(),i.TgZ(17,"div",2)(18,"a",3),i.NdJ("click",function(){return t.search("History")}),i._UZ(19,"img",7),i.TgZ(20,"h6",8),i._uU(21,"History"),i.qZA()()(),i.TgZ(22,"div",2)(23,"a",3),i.NdJ("click",function(){return t.search("Poetry")}),i._UZ(24,"img",9),i.TgZ(25,"h6",10),i._uU(26,"Poetry"),i.qZA()()(),i.TgZ(27,"div",2)(28,"a",3),i.NdJ("click",function(){return t.search("Comic")}),i._UZ(29,"img",11),i.TgZ(30,"h6",8),i._uU(31,"Comic books"),i.qZA()()(),i.TgZ(32,"div",2),i._UZ(33,"br"),i.TgZ(34,"div",12)(35,"input",13),i.NdJ("ngModelChange",function(s){return t.searchTxt=s}),i.qZA(),i.TgZ(36,"a",14),i.NdJ("click",function(){return t.searchByName()}),i._UZ(37,"i",15)(38,"img",16),i.qZA()()()()(),i.TgZ(39,"div",17)(40,"div",18),i.YNc(41,U3,16,10,"ng-container",19),i.YNc(42,V3,3,0,"ng-container",20),i.qZA()()),2&e&&(i.xp6(35),i.Q6J("ngModel",t.searchTxt),i.xp6(6),i.Q6J("ngForOf",t.allBooks),i.xp6(1),i.Q6J("ngIf",0===t.allBooks.length))},dependencies:[sn,kt,ea,Zi,am,_w,zS],styles:[".card-top[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.2);border-radius:.25rem}.item[_ngcontent-%COMP%]{margin:0 15px;text-align:center}.item-[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px}.item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c0b327}.card[_ngcontent-%COMP%]{padding:20px;margin:50px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;height:200px;margin:1% 15px 15px;transition:.3s ease-in-out}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transition:.3s ease-in-out;transform:scale(1.1)}img[_ngcontent-%COMP%]{margin-top:5px}.btn[_ngcontent-%COMP%]:hover{color:#c0b327}.searchbar[_ngcontent-%COMP%]{margin-bottom:auto;margin-top:auto;height:60px;background-color:#fff;border-radius:30px;padding:10px}.search_input[_ngcontent-%COMP%]{color:#000;border:0;outline:0;background:none;width:0;caret-color:transparent;line-height:40px;transition:width .4s linear}.searchbar[_ngcontent-%COMP%]:hover > .search_input[_ngcontent-%COMP%]{padding:0 10px;width:450px;caret-color:red;transition:width .4s linear}.searchbar[_ngcontent-%COMP%]:hover > .search_icon[_ngcontent-%COMP%]{background:white;color:#e74c3c}.search_icon[_ngcontent-%COMP%]{height:40px;width:40px;float:right;display:flex;justify-content:center;align-items:center;border-radius:50%;color:#fff;text-decoration:none}.logreg[_ngcontent-%COMP%]{color:#f0f8ff}.logreg[_ngcontent-%COMP%]:hover{color:#9f13ebf7}"]}),um=(0,zn.gn)([Wn()],um);let lm=class{constructor(e,t,r){this.bookService=e,this.route=t,this.userService=r,this.user$=this.userService.CurrentUserProfile$,this.localDate=(new Date).toDateString(),this.bookItem=[]}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),console.log(this.bid),this.getItem(this.bid)}getItem(e){this.bookService.getItemPublished(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.bookItem.push(r)},error:t=>{console.log(t)}})}print(){window.print()}};lm.\u0275fac=function(e){return new(e||lm)(i.Y36(hs),i.Y36(br),i.Y36(fr))},lm.\u0275cmp=i.Xpm({type:lm,selectors:[["app-customer-bill"]],decls:5,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"container","mb-5","mt-3"],[1,"row","d-flex","align-items-baseline"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"col-md-12"],[1,"text-center"],[1,"row"],[1,"col-xl-8"],["class","list-unstyled",4,"ngIf"],[1,"col-xl-4"],[1,"text-muted"],[1,"list-unstyled"],[1,"fas","fa-circle",2,"color","#84B0CA"],[1,"fw-bold"],[1,"row","my-2","mx-1","justify-content-center"],[1,"table","table-striped","table-borderless"],[1,"text-white",2,"background-color","#84B0CA"],["scope","col"],[1,"col-xl-3"],[1,"text-black","float-start"],[1,"text-black","me-3"],[2,"font-size","25px"],[1,"col-xl-10"],[1,"col-xl-2"],["type","button",1,"btn","btn-primary","text-capitalize",2,"background-color","#60bdf3",3,"click"],[2,"color","#5d9fc5"],[1,"fas","fa-phone"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"div",3),i.YNc(4,Z3,60,8,"div",4),i.qZA()()()),2&e&&(i.xp6(4),i.Q6J("ngForOf",t.bookItem))},dependencies:[sn,kt,pi]}),lm=(0,zn.gn)([Wn()],lm);const j3=function(n){return{width:n}};function q3(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),i._UZ(6,"i",9),i.qZA(),i.TgZ(7,"div",10)(8,"h4",11),i._uU(9),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()()(),i.TgZ(12,"div",12)(13,"span"),i._uU(14),i.qZA()()(),i.TgZ(15,"div",13)(16,"h3",14),i._uU(17),i._UZ(18,"br"),i.TgZ(19,"a",15),i._uU(20,"ordered customers"),i.qZA()(),i.TgZ(21,"div",13)(22,"div",16),i._UZ(23,"div",17),i.qZA(),i.TgZ(24,"div",18)(25,"span",19),i._uU(26),i.TgZ(27,"span",20),i._uU(28),i.qZA()()()()()()(),i.BQk()),2&n){const t=e.$implicit;i.xp6(9),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.dateexpected),i.xp6(3),i.Oqu(t.category),i.xp6(3),i.hij("Price : ",t.price,""),i.xp6(2),i.MGl("routerLink","/orderreqdetails/",t.bid,""),i.xp6(4),i.Q6J("ngStyle",i.VKq(10,j3,t.receivedorders+"%")),i.uIk("aria-valuenow",t.receivedorders)("aria-valuemax",t.target),i.xp6(3),i.hij("",t.receivedorders," received "),i.xp6(2),i.hij("of ",t.target," target")}}function $3(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",21),i._uU(2," You have Not published anything !! "),i.TgZ(3,"a",22),i._uU(4," Click here to publish"),i.qZA()(),i.BQk())}let dm=class{constructor(e,t){this.bookService=e,this.userService=t,this.orderItemList=[],this.user$=this.userService.CurrentUserProfile$,this.receieved=10,this.total=100}ngOnInit(){this.getAllBooks()}getAllBooks(){this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid,this.bookService.getAllAcceptedRequests().pipe(nt(this)).subscribe({next:t=>{t.map(r=>{const s=r.payload.doc.data();s.id=r.payload.doc.id,this.userId==s.uid&&this.orderItemList.push(s)})},error:t=>{console.log(t)}})})}remove(e){}};function H3(n,e){if(1&n&&(i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA()()),2&n){const t=i.oxw(2).$implicit,r=i.oxw().$implicit;i.xp6(2),i.Oqu(r.username),i.xp6(2),i.Oqu(r.address),i.xp6(2),i.Oqu(t.bname),i.xp6(2),i.Oqu(r.phno),i.xp6(2),i.Oqu(r.email)}}function G3(n,e){if(1&n&&(i.TgZ(0,"tbody"),i.YNc(1,H3,11,5,"tr",3),i.qZA()),2&n){const t=e.$implicit,r=i.oxw().$implicit,s=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",t.bid==r.bid&&t.uid==s.uid)}}function z3(n,e){if(1&n&&(i.ynx(0),i.YNc(1,G3,2,1,"tbody",2),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.orderList)}}function W3(n,e){if(1&n&&(i.ynx(0),i.YNc(1,z3,2,1,"ng-container",2),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.bookArray)}}dm.\u0275fac=function(e){return new(e||dm)(i.Y36(hs),i.Y36(fr))},dm.\u0275cmp=i.Xpm({type:dm,selectors:[["app-customer-req"]],decls:4,vars:2,consts:[[1,"container","mt-5","mb-3"],[1,"row"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-md-4"],[1,"card","p-3","mb-2"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-row","align-items-center"],[1,"icon"],[1,"bx","bxl-mailchimp"],[1,"ms-2","c-details"],[1,"mb-0"],[1,"badge"],[1,"mt-5"],[1,"heading"],[1,"co",3,"routerLink"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar",3,"ngStyle"],[1,"mt-3"],[1,"text1"],[1,"text2"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],["routerLink","/publishform",1,"link-dark"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,q3,29,12,"ng-container",2),i.YNc(3,$3,5,0,"ng-container",3),i.qZA()()),2&e&&(i.xp6(2),i.Q6J("ngForOf",t.orderItemList),i.xp6(1),i.Q6J("ngIf",0===t.orderItemList.length))},dependencies:[sn,kt,ea,Zi],styles:["body[_ngcontent-%COMP%]{background-color:#eee}.card[_ngcontent-%COMP%]{border:none;border-radius:10px}.c-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300;font-size:13px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#eee;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:39px}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fffbec;width:60px;height:25px;padding-bottom:3px;border-radius:5px;display:flex;color:#fed85d;justify-content:center;align-items:center}.progress[_ngcontent-%COMP%]{height:10px;border-radius:10px}.progress[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:red}.text1[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.text2[_ngcontent-%COMP%]{color:#a5aec0}.co[_ngcontent-%COMP%]{color:#000}.co[_ngcontent-%COMP%]:hover{color:brown}"]}),dm=(0,zn.gn)([Wn()],dm);let hm=class{constructor(e,t,r,s){this.route=e,this.orderService=t,this.bookService=r,this.userService=s,this.orderList=[],this.bookArray=[],this.customersList=[],this.sample=[]}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),this.getAllCustomers(this.bid)}getAllCustomers(e){this.userService.getAllUsers().pipe(nt(this)).subscribe({next:t=>{this.customersList=t.map(r=>{const s=r.payload.doc.data();return s.id=r.payload.doc.id,s})},error:t=>{console.log(t)}}),this.orderService.getAllOrderedCustomers().pipe(nt(this)).subscribe({next:t=>{this.orderList=t.map(r=>{const s=r.payload.doc.data();return s.id=r.payload.doc.id,s})},error:t=>{console.log(t)}}),this.bookService.getItemPublished(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.bookArray.push(r)},error:t=>{console.log(t)}})}};function K3(n,e){if(1&n&&i._UZ(0,"img",10),2&n){const t=i.oxw().$implicit;i.s9C("src",t.url,i.LSH)}}function Y3(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,K3,1,1,"img",9),i.qZA()),2&n){const t=e.$implicit,r=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",r.bid==t.name)}}function Q3(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i.YNc(3,Y3,2,1,"div",2),i.TgZ(4,"div",5)(5,"div",6),i._uU(6),i.qZA(),i.TgZ(7,"div",1)(8,"div",7)(9,"div",8)(10,"p"),i._uU(11,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Targets\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Received Orders"),i.qZA(),i.TgZ(12,"h4"),i._uU(13),i.qZA()()(),i.TgZ(14,"div",7)(15,"div",8)(16,"div"),i._uU(17),i.qZA()()()()()()(),i.BQk()),2&n){const t=e.$implicit,r=i.oxw();i.xp6(3),i.Q6J("ngForOf",r.imageList),i.xp6(3),i.Oqu(t.bname),i.xp6(7),i.AsE("",t.target,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ",t.receivedorders,""),i.xp6(4),i.hij("Book by ",t.uname,"")}}hm.\u0275fac=function(e){return new(e||hm)(i.Y36(br),i.Y36(li),i.Y36(hs),i.Y36(fr))},hm.\u0275cmp=i.Xpm({type:hm,selectors:[["app-customerorders"]],decls:15,vars:1,consts:[[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i._uU(5,"Customer Name"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Address"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Ordered Item"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Phone Number"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"Email-id"),i.qZA()()(),i.YNc(14,W3,2,1,"ng-container",2),i.qZA()()),2&e&&(i.xp6(14),i.Q6J("ngForOf",t.customersList))},dependencies:[sn,kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.reject[_ngcontent-%COMP%]{color:#000;font-weight:700}.btn[_ngcontent-%COMP%]{text-decoration:none;line-height:35px;display:inline-block}.table-container[_ngcontent-%COMP%]{margin:40px auto 0}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reject[_ngcontent-%COMP%]:hover{color:red}"]}),hm=(0,zn.gn)([Wn()],hm);let fm=class{constructor(e,t,r){this.orderService=e,this.storage=t,this.spinner=r,this.finishedList=[],this.imageList=[]}ngOnInit(){this.spinner.show(),this.getAllFinishedProjects(),this.getImages(),setTimeout(()=>{this.spinner.hide()},5e3)}getAllFinishedProjects(){this.orderService.allFinishedProjects().pipe(nt(this)).subscribe({next:e=>{this.finishedList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}getImages(){this.storage.ref("/images/books/").listAll().pipe(nt(this)).subscribe(t=>{for(let r=0;r<t.items.length;r++){let s=t.items[r].name;this.storage.ref("/images/books/"+t.items[r].name).getDownloadURL().pipe(nt(this)).subscribe(d=>{this.imageList.push({name:s,url:d})})}})}};function J3(n,e){if(1&n&&(i.TgZ(0,"ul",13)(1,"li",12),i._uU(2,"To: "),i.TgZ(3,"span",27),i._uU(4),i.qZA()(),i.TgZ(5,"li",12),i._uU(6),i.qZA(),i.TgZ(7,"li",12),i._uU(8),i.qZA(),i.TgZ(9,"li",12),i._UZ(10,"i",28),i._uU(11),i.qZA()()),2&n){const t=e.ngIf;i.xp6(4),i.Oqu(t.username),i.xp6(2),i.Oqu(t.address),i.xp6(2),i.Oqu(t.email),i.xp6(3),i.hij(" ",t.phno,"")}}function X3(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h2"),i._uU(4," My Books"),i.qZA()()(),i.TgZ(5,"div",8)(6,"div",9),i.YNc(7,J3,12,4,"ul",10),i.ALo(8,"async"),i.qZA(),i.TgZ(9,"div",11)(10,"p",12),i._uU(11,"Invoice"),i.qZA(),i.TgZ(12,"ul",13)(13,"li",12),i._UZ(14,"i",14),i.TgZ(15,"span",15),i._uU(16,"ID:"),i.qZA(),i._uU(17,"#123-456"),i.qZA(),i.TgZ(18,"li",12),i._UZ(19,"i",14),i.TgZ(20,"span",15),i._uU(21,"Date: "),i.qZA(),i._uU(22),i.qZA()()()(),i.TgZ(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th",19),i._uU(28,"Book Name"),i.qZA(),i.TgZ(29,"th",19),i._uU(30,"Category"),i.qZA(),i.TgZ(31,"th",19),i._uU(32,"Amount"),i.qZA()()(),i.TgZ(33,"tbody")(34,"tr")(35,"td"),i._uU(36),i.qZA(),i.TgZ(37,"td"),i._uU(38),i.qZA(),i.TgZ(39,"td"),i._uU(40),i.qZA()()()()(),i.TgZ(41,"div",8),i._UZ(42,"div",9),i.TgZ(43,"div",20)(44,"p",21)(45,"span",22),i._uU(46," Total Amount"),i.qZA(),i.TgZ(47,"span",23),i._uU(48),i.qZA()()()(),i._UZ(49,"hr"),i.TgZ(50,"div",8)(51,"div",24)(52,"p"),i._uU(53,"Confirm Purchase"),i.qZA()(),i.TgZ(54,"div",25)(55,"button",26),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.pay(u))}),i._uU(56,"Pay Now"),i.qZA()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(7),i.Q6J("ngIf",i.lcZ(8,6,r.user$)),i.xp6(15),i.Oqu(r.localDate),i.xp6(14),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(2),i.hij("$",t.price,""),i.xp6(8),i.hij("$",t.price,"")}}fm.\u0275fac=function(e){return new(e||fm)(i.Y36(li),i.Y36(Qg),i.Y36(Mf))},fm.\u0275cmp=i.Xpm({type:fm,selectors:[["app-finishedprojects"]],decls:3,vars:1,consts:[[1,"container"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"profile-card-4","text-center"],[1,"profile-content"],[1,"profile-description"],[1,"col-xs-4"],[1,"profile-overview"],["class","img img-responsive adjust",3,"src",4,"ngIf"],[1,"img","img-responsive","adjust",3,"src"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,Q3,18,5,"ng-container",2),i.qZA()()),2&e&&(i.xp6(2),i.Q6J("ngForOf",t.finishedList))},dependencies:[sn,kt],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700,800,900|Open Sans:400,600,800";h1[_ngcontent-%COMP%]{font-weight:300;font-size:24px;color:#eee;letter-spacing:2px;text-align:center;text-transform:uppercase;margin:0!important;padding-bottom:25px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], div[_ngcontent-%COMP%], input[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Open Sans;margin:0}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit}body[_ngcontent-%COMP%]{background-color:#f1f2f3}.container-fluid[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1200px}.card-container[_ngcontent-%COMP%]{padding:100px 0;perspective:1000}.profile-card-4[_ngcontent-%COMP%]{max-width:300px;background-color:#fff;border-radius:5px;box-shadow:0 0 25px #0000001a;overflow:hidden;position:relative;margin:10px auto;cursor:pointer}.profile-card-4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .25s linear}.profile-card-4[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{position:relative;padding:15px;background-color:#fff}.profile-card-4[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-weight:700;position:absolute;left:0px;right:0px;top:-70px;color:#f70909;font-size:17px}.profile-card-4[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:13px;letter-spacing:1.5px}.profile-card-4[_ngcontent-%COMP%]   .profile-description[_ngcontent-%COMP%]{color:#777;font-size:12px;padding:10px}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]{padding:15px 0}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#777}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#273751;font-weight:700}.profile-card-4[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]:before{content:"";position:absolute;height:20px;top:-10px;left:0px;right:0px;background-color:#fff;z-index:0;transform:skewY(3deg)}.profile-card-4[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(5deg) scale(1.1);filter:brightness(110%)}.adjust[_ngcontent-%COMP%]{height:150px}']}),fm=(0,zn.gn)([Wn()],fm);let pm=class{constructor(e,t,r,s){this.router=e,this.route=t,this.userService=r,this.bookService=s,this.user$=this.userService.CurrentUserProfile$,this.bookItem=[],this.localDate=(new Date).toDateString()}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),this.getItem(this.bid)}getItem(e){this.bookService.getItemPublished(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.bookItem.push(r)},error:t=>{console.log(t)}})}pay(e){this.router.navigate(["/paymentcard",e.bid])}};function eB(n,e){if(1&n&&(i.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h6",8),i._uU(5),i.qZA(),i._UZ(6,"br"),i.TgZ(7,"h4",9),i._uU(8),i.qZA(),i.TgZ(9,"h4"),i._uU(10),i.qZA(),i.TgZ(11,"a",10),i._uU(12,"details"),i.qZA(),i._UZ(13,"br"),i.qZA()()()()),2&n){const t=i.oxw().$implicit;i.xp6(5),i.Oqu(t.bname),i.xp6(3),i.hij("Price : ",t.price," "),i.xp6(2),i.hij("Campaign end date ",t.dateexpected,""),i.xp6(1),i.MGl("routerLink","/productdetails/",t.bid,"")}}function tB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,eB,14,4,"div",3),i.BQk()),2&n){const t=e.$implicit,r=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",r.bid==t.bid)}}function nB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,tB,2,1,"ng-container",1),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.bookList)}}function rB(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",11),i._uU(2," You have Not ordered anything !! "),i.qZA(),i.BQk())}pm.\u0275fac=function(e){return new(e||pm)(i.Y36(un),i.Y36(br),i.Y36(fr),i.Y36(hs))},pm.\u0275cmp=i.Xpm({type:pm,selectors:[["app-order-bill"]],decls:5,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"container","mb-5","mt-3"],[1,"row","d-flex","align-items-baseline"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"col-md-12"],[1,"text-center"],[1,"row"],[1,"col-xl-8"],["class","list-unstyled",4,"ngIf"],[1,"col-xl-4"],[1,"text-muted"],[1,"list-unstyled"],[1,"fas","fa-circle",2,"color","#84B0CA"],[1,"fw-bold"],[1,"row","my-2","mx-1","justify-content-center"],[1,"table","table-striped","table-borderless"],[1,"text-white",2,"background-color","#84B0CA"],["scope","col"],[1,"col-xl-3"],[1,"text-black","float-start"],[1,"text-black","me-3"],[2,"font-size","25px"],[1,"col-xl-10"],[1,"col-xl-2"],["type","button",1,"btn","btn-primary","text-capitalize",2,"background-color","#60bdf3",3,"click"],[2,"color","#5d9fc5"],[1,"fas","fa-phone"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"div",3),i.YNc(4,X3,57,8,"div",4),i.qZA()()()),2&e&&(i.xp6(4),i.Q6J("ngForOf",t.bookItem))},dependencies:[sn,kt,pi]}),pm=(0,zn.gn)([Wn()],pm);let gm=class{constructor(e,t,r,s){this.spinner=e,this.orderService=t,this.bookService=r,this.userService=s,this.orderList=[],this.user$=this.userService.CurrentUserProfile$,this.bookList=[]}ngOnInit(){this.spinner.show(),this.getAllOrders(),setTimeout(()=>{this.spinner.hide()},2e3)}getAllOrders(){this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid,this.orderService.getAllOrderedCustomers().pipe(nt(this)).subscribe({next:t=>{t.map(r=>{const s=r.payload.doc.data();s.id=r.payload.doc.id,this.userId==s.uid&&this.orderList.push(s)})},error:t=>{console.log(t)}})}),this.bookService.getAllAcceptedRequests().pipe(nt(this)).subscribe({next:e=>{this.bookList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}};gm.\u0275fac=function(e){return new(e||gm)(i.Y36(Mf),i.Y36(li),i.Y36(hs),i.Y36(fr))},gm.\u0275cmp=i.Xpm({type:gm,selectors:[["app-ordered-items"]],decls:3,vars:2,consts:[[1,"row","row-cols-1","row-cols-md-3","g-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-md-4 col-sm-6 content-card",4,"ngIf"],[1,"col-md-4","col-sm-6","content-card"],[1,"card-big-shadow"],["data-background","color","data-color","purple","data-radius","none",1,"card","card-just-text"],[1,"content"],[1,"category"],[1,"description"],[3,"routerLink"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,nB,2,1,"ng-container",1),i.YNc(2,rB,3,0,"ng-container",2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",t.orderList),i.xp6(1),i.Q6J("ngIf",0===t.orderList.length))},dependencies:[sn,kt,Zi],styles:['body[_ngcontent-%COMP%]{margin-top:20px}.card-big-shadow[_ngcontent-%COMP%]{max-width:320px;position:relative}.coloured-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:30px}.card[data-radius=none][_ngcontent-%COMP%]{border-radius:0}.card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 2px #ccc5b980;background-color:#fff;color:#252422;margin-bottom:20px;position:relative;z-index:1}.card[data-background=image][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card[data-background=image][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .card[data-background=color][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.card.card-just-text[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:50px 65px;text-align:center}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:20px 20px 10px}.card[data-color=blue][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#7a9e9f}.card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0}.card-big-shadow[_ngcontent-%COMP%]:before{background-image:url(http://static.tumblr.com/i21wc39/coTmrkw40/shadow.png);background-position:center bottom;background-repeat:no-repeat;background-size:100% 100%;bottom:-12%;content:"";display:block;left:-12%;position:absolute;right:0;top:0;z-index:0}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:1.5em;font-weight:600;line-height:1.2em}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:.9em;font-weight:600;text-transform:uppercase}.card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;color:#66615b}.content-card[_ngcontent-%COMP%]{margin-top:30px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}.card[data-color=blue][_ngcontent-%COMP%]{background:#b8d8d8}.card[data-color=blue][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#506568}.card[data-color=green][_ngcontent-%COMP%]{background:#d5e5a3}.card[data-color=green][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#60773d}.card[data-color=green][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#92ac56}.card[data-color=yellow][_ngcontent-%COMP%]{background:#ffe28c}.card[data-color=yellow][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b25825}.card[data-color=yellow][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#d88715}.card[data-color=brown][_ngcontent-%COMP%]{background:#d6c1ab}.card[data-color=brown][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#75442e}.card[data-color=brown][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#a47e65}.card[data-color=purple][_ngcontent-%COMP%]{background:#baa9ba}.card[data-color=purple][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#3a283d}.card[data-color=purple][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#5a283d}.card[data-color=orange][_ngcontent-%COMP%]{background:#ff8f5e}.card[data-color=orange][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#772510}.card[data-color=orange][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#e95e37}']}),gm=(0,zn.gn)([Wn()],gm);let iB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"container"],["routerLink","/categories"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"h1"),i._uU(2,"Something happend"),i.qZA(),i.TgZ(3,"a",1),i._uU(4,"click here to home"),i.qZA()())},dependencies:[Zi]}),n})();function sB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",4)(1,"div",5)(2,"p",6),i._uU(3,"Payment Details"),i.qZA(),i.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"p",10),i._uU(8,"Person Name"),i.qZA(),i._UZ(9,"input",11),i.qZA()(),i.TgZ(10,"div",12)(11,"div",9)(12,"p",10),i._uU(13,"Target"),i.qZA(),i._UZ(14,"input",13),i.qZA()(),i.TgZ(15,"div",12)(16,"div",9)(17,"p",10),i._uU(18,"tax"),i.qZA(),i._UZ(19,"input",13),i.qZA()(),i.TgZ(20,"div",8)(21,"div",9)(22,"p",10),i._uU(23,"Card Number"),i.qZA(),i._UZ(24,"input",14),i.qZA()(),i.TgZ(25,"div",12)(26,"div",9)(27,"p",10),i._uU(28,"Expiry"),i.qZA(),i._UZ(29,"input",15),i.qZA()(),i.TgZ(30,"div",12)(31,"div",9)(32,"p",10),i._uU(33,"CVV/CVC"),i.qZA(),i._UZ(34,"input",16),i.qZA()(),i.TgZ(35,"div",8)(36,"a",17),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw(3);return i.KtG(d.adminPayment(u))}),i.TgZ(37,"div",18)(38,"span",19),i._uU(39),i.qZA()()()()()()()}if(2&n){const t=e.$implicit,r=i.oxw(2).ngIf,s=i.oxw();i.xp6(9),i.hYB("value","",r.firstname," ",r.lastname,""),i.xp6(5),i.s9C("value",t.target),i.xp6(5),i.s9C("value",s.taxamount),i.xp6(20),i.hij("Pay $",s.total,"")}}function oB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,sB,40,5,"div",3),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.bookItem)}}function aB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",4)(1,"div",5)(2,"p",6),i._uU(3,"Payment Details"),i.qZA(),i.TgZ(4,"div",7)(5,"div",8)(6,"div",9)(7,"p",10),i._uU(8,"Person Name"),i.qZA(),i._UZ(9,"input",11),i.qZA()(),i.TgZ(10,"div",8)(11,"div",9)(12,"p",10),i._uU(13,"Card Number"),i.qZA(),i._UZ(14,"input",14),i.qZA()(),i.TgZ(15,"div",12)(16,"div",9)(17,"p",10),i._uU(18,"Expiry"),i.qZA(),i._UZ(19,"input",15),i.qZA()(),i.TgZ(20,"div",12)(21,"div",9)(22,"p",10),i._uU(23,"CVV/CVC"),i.qZA(),i._UZ(24,"input",16),i.qZA()(),i.TgZ(25,"div",8)(26,"a",17),i.NdJ("click",function(){i.CHM(t);const s=i.oxw(2);return i.KtG(s.onPayement())}),i.TgZ(27,"div",18)(28,"span",19),i._uU(29),i.qZA()()()()()()()}if(2&n){const t=i.oxw().ngIf,r=i.oxw();i.xp6(9),i.s9C("value",t.username),i.xp6(20),i.hij("Pay $",r.itemPrice,"")}}function cB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,oB,2,1,"ng-container",1),i.YNc(2,aB,30,2,"ng-template",null,2,i.W1O),i.BQk()),2&n){const t=e.ngIf,r=i.MAs(3);i.xp6(1),i.Q6J("ngIf","admin"==t.roles)("ngIfElse",r)}}let mm=class{constructor(e,t,r,s,u,d,f,_){this.spinner=e,this.confirmService=t,this.router=r,this.toast=s,this.orderService=u,this.route=d,this.userService=f,this.bookService=_,this.user$=this.userService.CurrentUserProfile$,this.bookItem=[]}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid}),this.payment(this.bid)}payment(e){this.bookService.getItemPublished(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.targetprice=Number(r.target)*Number(r.receivedorders),this.taxamount=2*this.targetprice/100,this.total=this.targetprice-this.taxamount,this.bookItem.push(r),this.itemPrice=r.price},error:t=>{console.log(t)}})}onPayement(){this.confirmService.showConfirm("Proceed to pay ?",()=>{for(let e=0;e<this.bookItem.length;e++){const t="",r=this.bid,s=this.userId,u=(new Date).toDateString(),d=+this.bookItem[e].receivedorders+1;this.spinner.show(),this.bookService.updateFrmCart({bid:this.bookItem[e].bid,uid:this.bookItem[e].uid,uname:this.bookItem[e].uname,bname:this.bookItem[e].bname,category:this.bookItem[e].category,nofpages:this.bookItem[e].nofpages,price:this.bookItem[e].price,acctno:this.bookItem[e].acctno,target:this.bookItem[e].target,receivedorders:d.toString(),dateexpected:this.bookItem[e].dateexpected,description:this.bookItem[e].description}).then(()=>{this.orderService.pay({oid:t,uid:s,bid:r,dateoforder:u}).then(()=>{this.router.navigate(["/customerbill",this.bookItem[e].bid]),setTimeout(()=>{this.spinner.hide()},1e3),this.toast.success("Payment Successfull")})})}},()=>{})}adminPayment(e){this.confirmService.showConfirm("Proceed to pay ?",()=>{this.spinner.show(),this.orderService.finishedProject(e).then(()=>{this.router.navigate(["/categories"])}),setTimeout(()=>{this.spinner.hide()},3e3)},()=>{})}};function uB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),i._UZ(8,"img",9),i.qZA(),i.TgZ(9,"div",10)(10,"h2",11),i._uU(11),i.qZA(),i.TgZ(12,"h3",12),i._uU(13,"SAMPLE STORY : "),i.TgZ(14,"a",13),i._uU(15,"click to open"),i.qZA()()()()(),i.TgZ(16,"div",6)(17,"div",14)(18,"div",15)(19,"span",16)(20,"h2"),i._uU(21),i.qZA()(),i.TgZ(22,"h5",17),i._uU(23),i.qZA(),i.TgZ(24,"div",18)(25,"span",19),i._uU(26),i.qZA()()(),i.TgZ(27,"strong"),i._uU(28,"Description :"),i.qZA(),i.TgZ(29,"p",20),i._uU(30),i.qZA(),i.TgZ(31,"div",21)(32,"h3",17),i._uU(33),i.qZA(),i.TgZ(34,"label")(35,"strong"),i._uU(36),i.qZA()(),i._uU(37,"\xa0\xa0 "),i.TgZ(38,"label")(39,"strong"),i._uU(40),i.qZA()(),i.TgZ(41,"h3"),i._uU(42),i.qZA()(),i.TgZ(43,"div",22)(44,"button",23),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.ordernow(u))}),i._uU(45,"Order Now"),i.qZA(),i._uU(46,"\xa0 "),i.TgZ(47,"button",24),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.addtocart(u))}),i._uU(48,"Add to Cart"),i.qZA()()()()()()()()()}if(2&n){const t=e.$implicit,r=i.oxw();i.xp6(8),i.s9C("src",r.imageFile,i.LSH),i.xp6(3),i.hij("by ",r.authorName,""),i.xp6(3),i.s9C("href",r.pdfFile,i.LSH),i.xp6(7),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(3),i.hij("$",t.price,""),i.xp6(4),i.Oqu(t.description),i.xp6(3),i.hij("Total Number of Pages : ",t.nofpages,""),i.xp6(3),i.hij("Target : ",t.target," "),i.xp6(4),i.hij("Received Orders :",t.receivedorders,""),i.xp6(2),i.hij("Campaign end date : ",t.dateexpected,"")}}mm.\u0275fac=function(e){return new(e||mm)(i.Y36(Mf),i.Y36(Yd),i.Y36(un),i.Y36(Za),i.Y36(li),i.Y36(br),i.Y36(fr),i.Y36(hs))},mm.\u0275cmp=i.Xpm({type:mm,selectors:[["app-payment-card"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["cust",""],["class","container p-0",4,"ngFor","ngForOf"],[1,"container","p-0"],[1,"card","px-4"],[1,"h8","py-3"],[1,"row","gx-3"],[1,"col-12"],[1,"d-flex","flex-column"],[1,"text","mb-1"],["type","text","placeholder","Name",1,"form-control","mb-3",3,"value"],[1,"col-6"],["type","text","required","","readonly","",1,"form-control","mb-3",3,"value"],["type","text","placeholder","1234 5678 435678","required","",1,"form-control","mb-3"],["type","text","placeholder","MM/YYYY","required","",1,"form-control","mb-3"],["type","password","placeholder","***","required","",1,"form-control","mb-3","pt-2"],[3,"click"],[1,"btn","btn-primary","mb-3"],[1,"ps-3"]],template:function(e,t){1&e&&(i.YNc(0,cB,4,2,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,t.user$))},dependencies:[sn,kt,pi],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#0c4160;padding:30px 10px}.card[_ngcontent-%COMP%]{max-width:500px;margin:auto;color:#000;border-radius:20 px}p[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]   .h8[_ngcontent-%COMP%]{font-size:30px;font-weight:800;text-align:center}.btn.btn-primary[_ngcontent-%COMP%]{width:100%;height:70px;display:flex;align-items:center;justify-content:space-between;padding:0 15px;background-image:linear-gradient(to right,#77A1D3 0%,#79CBCA 51%,#77A1D3 100%);border:none;transition:.5s;background-size:200% auto}.btn.btn.btn-primary[_ngcontent-%COMP%]:hover{background-position:right center;color:#fff;text-decoration:none}.btn.btn-primary[_ngcontent-%COMP%]:hover   .fas.fa-arrow-right[_ngcontent-%COMP%]{transform:translate(15px);transition:transform .2s ease-in}.form-control[_ngcontent-%COMP%]{color:#fff;background-color:#223c60;border:2px solid transparent;height:60px;padding-left:20px;vertical-align:middle}.form-control[_ngcontent-%COMP%]:focus{color:#fff;background-color:#0c4160;border:2px solid #2d4dda;box-shadow:none}.text[_ngcontent-%COMP%]{font-size:14px;font-weight:600}[_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:600}']}),mm=(0,zn.gn)([Wn()],mm);let _m=class{constructor(e,t,r,s,u,d,f){this.orderService=e,this.route=t,this.toast=r,this.bookService=s,this.imgService=u,this.router=d,this.userService=f,this.bookItem=[],this.user$=this.userService.CurrentUserProfile$}ngOnInit(){this.route.params.pipe(nt(this)).subscribe(e=>{this.bid=e.bid}),this.getProduct(this.bid),this.getImageById(this.bid),this.getPDFById(this.bid)}getProduct(e){this.bookService.getItemPublished(e).pipe(nt(this)).subscribe({next:t=>{const r=JSON.parse(JSON.stringify(t));this.bookItem.push(r),this.userService.getUserById(r.uid).pipe(nt(this)).subscribe(s=>{const u=JSON.parse(JSON.stringify(s));this.authorName=u.username.toUpperCase()})},error:t=>{console.log(t)}})}getPDFById(e){this.imgService.getPDF(e).pipe(nt(this)).subscribe(t=>{this.pdfFile=t})}getImageById(e){this.imgService.booksProfile(e).pipe(nt(this)).subscribe(t=>{this.imageFile=t})}ordernow(e){this.user$.pipe(nt(this)).subscribe(t=>{t?(this.userid=t.uid,this.router.navigate(["/orderbill",e.bid])):this.toast.warning("Login to continue...")})}addtocart(e){this.user$.pipe(nt(this)).subscribe(t=>{t?this.orderService.addtocart(e).pipe(nt(this),this.toast.observe({success:"Item added to cart",loading:"Adding to cart...",error:({message:r})=>`${r}`})).subscribe():this.toast.warning("Login to continue...")})}};function lB(n,e){if(1&n&&(i.TgZ(0,"div")(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"div",7),i._uU(8," Change Photo "),i._UZ(9,"input",8),i.qZA()()(),i.TgZ(10,"div",9)(11,"div",10)(12,"h5"),i._uU(13),i.qZA(),i.TgZ(14,"h6"),i._uU(15),i.qZA(),i.TgZ(16,"ul",11)(17,"li",12)(18,"a",13),i._uU(19,"About"),i.qZA()()()()(),i.TgZ(20,"div",14),i._UZ(21,"input",15),i.qZA()(),i.TgZ(22,"div",3)(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",3)(27,"div",9)(28,"label"),i._uU(29,"User Id"),i.qZA()(),i.TgZ(30,"div",9)(31,"p"),i._uU(32),i.qZA()()(),i.TgZ(33,"div",3)(34,"div",9)(35,"label"),i._uU(36,"Name"),i.qZA()(),i.TgZ(37,"div",9)(38,"p"),i._uU(39),i.qZA()()(),i.TgZ(40,"div",3)(41,"div",9)(42,"label"),i._uU(43,"Email"),i.qZA()(),i.TgZ(44,"div",9)(45,"p"),i._uU(46),i.qZA()()(),i.TgZ(47,"div",3)(48,"div",9)(49,"label"),i._uU(50,"Phone"),i.qZA()(),i.TgZ(51,"div",9)(52,"p"),i._uU(53),i.qZA()()(),i.TgZ(54,"div",3)(55,"div",9)(56,"label"),i._uU(57,"Position"),i.qZA()(),i.TgZ(58,"div",9)(59,"p"),i._uU(60),i.qZA()()(),i.TgZ(61,"div",3)(62,"div",9)(63,"label"),i._uU(64,"Country"),i.qZA()(),i.TgZ(65,"div",9)(66,"p"),i._uU(67),i.qZA()()(),i.TgZ(68,"div",3)(69,"div",9)(70,"label"),i._uU(71,"Street"),i.qZA()(),i.TgZ(72,"div",9)(73,"p"),i._uU(74),i.qZA()()(),i.TgZ(75,"div",3)(76,"div",9)(77,"label"),i._uU(78,"Zipcode"),i.qZA()(),i.TgZ(79,"div",9)(80,"p"),i._uU(81),i.qZA()()(),i.TgZ(82,"div",3)(83,"div",9)(84,"label"),i._uU(85,"Place"),i.qZA()(),i.TgZ(86,"div",9)(87,"p"),i._uU(88),i.qZA()()()()()()()()()()),2&n){const t=i.oxw().ngIf;i.xp6(13),i.AsE(" ",t.firstname," ",t.lastname," "),i.xp6(2),i.hij(" ",t.position," "),i.xp6(17),i.Oqu(t.uid),i.xp6(7),i.AsE("",t.firstname," ",t.lastname,""),i.xp6(7),i.Oqu(t.email),i.xp6(7),i.Oqu(t.phno),i.xp6(7),i.Oqu(t.position),i.xp6(7),i.Oqu(t.country),i.xp6(7),i.Oqu(t.street),i.xp6(7),i.Oqu(t.zipcode),i.xp6(7),i.Oqu(t.place)}}function dB(n,e){if(1&n&&(i.TgZ(0,"div",29),i._UZ(1,"img",30),i.TgZ(2,"h5",31),i._uU(3),i.qZA(),i.TgZ(4,"p",32),i._uU(5),i.qZA()()),2&n){const t=e.ngIf,r=i.oxw(2).ngIf;let s;i.xp6(1),i.Q6J("src",null!==(s=t)&&void 0!==s?s:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp",i.LSH),i.xp6(2),i.Oqu(r.username),i.xp6(2),i.Oqu(r.address)}}function hB(n,e){if(1&n&&(i.TgZ(0,"div")(1,"section",19)(2,"div",3)(3,"div",20)(4,"div",21),i.YNc(5,dB,6,3,"div",22),i.ALo(6,"async"),i.qZA()(),i.TgZ(7,"div",23)(8,"div",21)(9,"div",24)(10,"div",3)(11,"div",25)(12,"p",26),i._uU(13,"Full Name"),i.qZA()(),i.TgZ(14,"div",27)(15,"p",28),i._uU(16),i.qZA()()(),i._UZ(17,"hr"),i.TgZ(18,"div",3)(19,"div",25)(20,"p",26),i._uU(21,"Email"),i.qZA()(),i.TgZ(22,"div",27)(23,"p",28),i._uU(24),i.qZA()()(),i._UZ(25,"hr"),i.TgZ(26,"div",3)(27,"div",25)(28,"p",26),i._uU(29,"Phone"),i.qZA()(),i.TgZ(30,"div",27)(31,"p",28),i._uU(32),i.qZA()()(),i._UZ(33,"hr"),i.TgZ(34,"div",3)(35,"div",25)(36,"p",26),i._uU(37,"Role"),i.qZA()(),i.TgZ(38,"div",27)(39,"p",28),i._uU(40),i.qZA()()(),i._UZ(41,"hr"),i.TgZ(42,"div",3)(43,"div",25)(44,"p",26),i._uU(45,"Address"),i.qZA()(),i.TgZ(46,"div",27)(47,"p",28),i._uU(48),i.qZA()()()()()()()()()),2&n){const t=i.oxw().ngIf,r=i.oxw();i.xp6(5),i.Q6J("ngIf",i.lcZ(6,6,r.userImg$)),i.xp6(11),i.Oqu(t.username),i.xp6(8),i.Oqu(t.email),i.xp6(8),i.Oqu(t.phno),i.xp6(8),i.Oqu(t.roles),i.xp6(8),i.Oqu(t.address)}}function fB(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,lB,89,13,"div",0),i.YNc(2,hB,49,8,"div",0),i.qZA()),2&n){const t=e.ngIf;i.xp6(1),i.Q6J("ngIf","admin"==t.roles),i.xp6(1),i.Q6J("ngIf","customer"==t.roles)}}_m.\u0275fac=function(e){return new(e||_m)(i.Y36(li),i.Y36(br),i.Y36(Za),i.Y36(hs),i.Y36(pw),i.Y36(un),i.Y36(fr))},_m.\u0275cmp=i.Xpm({type:_m,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","container mt-5 mb-5",4,"ngFor","ngForOf"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"row"],[1,"col-md-6"],[1,"images","p-3"],[1,"text-center","p-4"],["id","main-image",1,"adjust",3,"src"],[1,"thumbnail","text-center"],[1,"authorName"],[1,"sampleStory"],["target","_blank","rel","noopener noreferrer",1,"aclas",3,"href"],[1,"product","p-4"],[1,"mt-4","mb-3"],[1,"text-uppercase","text-muted","brand"],[1,"text-uppercase"],[1,"price","d-flex","flex-row","align-items-center"],[1,"act-price"],[1,"about"],[1,"sizes","mt-5"],[1,"cart","mt-4","align-items-center","gradient-buttons"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&i.YNc(0,uB,49,11,"div",0),2&e&&i.Q6J("ngForOf",t.bookItem)},dependencies:[sn],styles:["body[_ngcontent-%COMP%]{background-color:#000}.card[_ngcontent-%COMP%]{border:none}.product[_ngcontent-%COMP%]{background-color:#eee}.brand[_ngcontent-%COMP%]{font-size:13px}.act-price[_ngcontent-%COMP%]{color:red;font-weight:700}.dis-price[_ngcontent-%COMP%]{text-decoration:line-through}.about[_ngcontent-%COMP%]{font-size:14px}.color[_ngcontent-%COMP%]{margin-bottom:10px}label.radio[_ngcontent-%COMP%]{cursor:pointer}label.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;visibility:hidden;pointer-events:none}label.radio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:2px 9px;border:2px solid #ff0000;display:inline-block;color:red;border-radius:3px;text-transform:uppercase}label.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{border-color:red;background-color:red;color:#fff}.btn-danger[_ngcontent-%COMP%]:focus{box-shadow:none}.cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.adjust[_ngcontent-%COMP%]{width:250px;height:257px}.gradient-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,rgba(255,255,255,.5),rgba(255,255,255,.2) 49%,rgba(0,0,0,.15) 51%,rgba(0,0,0,.05));background-repeat:repeat-x}.authorName[_ngcontent-%COMP%]{color:#5f9ea0}.sampleStory[_ngcontent-%COMP%]{color:red}.aclas[_ngcontent-%COMP%]{color:#000}.aclas[_ngcontent-%COMP%]:hover{color:#deb887}"]}),_m=(0,zn.gn)([Wn()],_m);let pB=(()=>{class n{constructor(t,r){this.userService=t,this.imgService=r,this.user$=this.userService.CurrentUserProfile$,this.userImg$=this.imgService.userprofPic$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(fr),i.Y36(pw))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container","emp-profile"],["method","post"],[1,"row"],[1,"col-md-4"],[1,"profile-img"],["src","../../../assets/admin.png","alt",""],[1,"file","btn","btn-lg","btn-primary"],["type","file","name","file"],[1,"col-md-6"],[1,"profile-head"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","home-tab","data-toggle","tab","href","#home","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active"],[1,"col-md-2"],["type","submit","name","btnAddMore","value","Edit Profile",1,"profile-edit-btn"],[1,"col-md-8"],["id","myTabContent",1,"tab-content","profile-tab"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[2,"background-color","#eee"],[1,"col-lg-4"],[1,"card","mb-4"],["class","card-body text-center",4,"ngIf"],[1,"col-lg-8"],[1,"card-body"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],[1,"card-body","text-center"],["alt","avatar",1,"rounded-circle","img-fluid",2,"width","150px",3,"src"],[1,"my-3"],[1,"text-muted","mb-4"]],template:function(t,r){1&t&&(i.YNc(0,fB,3,2,"div",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,r.user$))},dependencies:[kt,Tw,yw,Ew,pi],styles:["body[_ngcontent-%COMP%]{background:-webkit-linear-gradient(left,#3931af,#00c6ff)}.emp-profile[_ngcontent-%COMP%]{padding:3%;margin-top:3%;margin-bottom:3%;border-radius:.5rem;background:#fff}.profile-img[_ngcontent-%COMP%]{text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:100%}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:-20%;width:70%;border:none;border-radius:0;font-size:15px;background:#212529b8}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;right:0;top:0}.profile-head[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}.profile-head[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#0062cc}.profile-edit-btn[_ngcontent-%COMP%]{border:none;border-radius:1.5rem;width:70%;padding:2%;font-weight:600;color:#6c757d;cursor:pointer}.proile-rating[_ngcontent-%COMP%]{font-size:12px;color:#818182;margin-top:5%}.proile-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#495057;font-size:15px;font-weight:600}.profile-head[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{margin-bottom:5%}.profile-head[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:600;border:none}.profile-head[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #0062cc}.profile-work[_ngcontent-%COMP%]{padding:14%;margin-top:-15%}.profile-work[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#818182;font-weight:600;margin-top:10%}.profile-work[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#495057;font-weight:600;font-size:14px}.profile-work[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.profile-tab[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}.profile-tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;color:#0062cc}"]}),n})();function gB(n,e){if(1&n&&(i.TgZ(0,"option",28),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.Q6J("value",t),i.xp6(1),i.Oqu(t)}}function mB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",8)(1,"button",29),i.NdJ("click",function(){const u=i.CHM(t).ngIf,d=i.oxw();return i.KtG(d.publishBook(u))}),i.TgZ(2,"div",30)(3,"span"),i._uU(4,"Publish"),i.qZA()()()()}if(2&n){const t=i.oxw();i.xp6(1),i.Q6J("disabled",t.publishForm.invalid)}}let ym=class{constructor(e,t,r,s,u,d,f){this.confirmService=e,this.img=t,this.router=r,this.toast=s,this.formBuilder=u,this.userService=d,this.bookService=f,this.user$=this.userService.CurrentUserProfile$,this.ngOptions=["Fiction","Biography","History","Poetry","Comic"],this.ngSelected=this.ngOptions[0],this.publishForm=new zo({})}ngOnInit(){this.publishForm=new zo({bname:new gn(""),category:new gn(""),nofpages:new gn(""),price:new gn(""),acctno:new gn(""),target:new gn(""),dateexpected:new gn(""),description:new gn("")})}selectFile(e){this.selectedFiles=e.target.files}selectPDF(e){this.selectedPDF=e.target.files}selectedCategory(e){this.ngSelected=e.target.value}publishBook(e){const t=e.uid,r=e.username,{bname:s,nofpages:u,price:d,acctno:f,target:_,dateexpected:w,description:A}=this.publishForm.value;if(_>50&&this.selectedFiles&&this.selectedPDF){const F=this.selectedFiles.item(0),U=this.selectedPDF.item(0);this.selectedFiles=void 0,this.selectedPDF=void 0,F&&this.confirmService.showConfirm("Request to Admin?",()=>{this.bookService.addBook({bid:"",uid:t,uname:r,bname:s.toLowerCase(),category:this.ngSelected,nofpages:u,price:d,acctno:f,target:_,receivedorders:"0",dateexpected:w,description:A}).pipe(nt(this),Jt(B=>this.img.uploadImage(F,`images/books/${B}`).pipe(nt(this),Jt(()=>this.img.uploadFile(U,B)))),this.toast.observe({success:"Requested",loading:"Requesting progeress...",error:({message:B})=>`${B}`})).subscribe(()=>{this.router.navigate(["/publish"])})},()=>{})}}};ym.\u0275fac=function(e){return new(e||ym)(i.Y36(Yd),i.Y36(pw),i.Y36(un),i.Y36(Za),i.Y36(R3),i.Y36(fr),i.Y36(hs))},ym.\u0275cmp=i.Xpm({type:ym,selectors:[["app-publish-form"]],decls:49,vars:5,consts:[[1,"publishform"],[3,"formGroup"],[1,"title"],[1,"container"],[1,"publish-form","row"],[1,"form-floating","mb-3"],["type","text","id","bname","formControlName","bname","placeholder","Book Name","required","",1,"form-control"],["for","floatingInput"],[1,"form-field","col-lg-12"],["name","category","id","category",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-floating","mb-3","col-lg-6"],["type","text","id","noofpages","formControlName","nofpages","placeholder","no of pages",1,"form-control"],["for","noofpages"],["type","text","id","setaprice","formControlName","price","placeholder","Price",1,"form-control"],["for","setaprice"],["type","text","id","acctno","formControlName","acctno","placeholder","account number",1,"form-control"],["type","text","id","target","formControlName","target","placeholder","no of target",1,"form-control"],["type","date","id","dateexpected","formControlName","dateexpected","placeholder","Amount Excepted Date",1,"form-control"],[1,"form-floating"],["type","text","id","description","formControlName","description","placeholder","Description",1,"form-control"],["for","description"],[1,"form-field","col-lg-12","mb-3"],["for","sampleimages",1,"form-label"],["type","file","id","sampleimages",1,"form-control",3,"change"],["for","samplepdf",1,"form-label"],["type","file","id","samplepdf",1,"form-control",3,"change"],["class","form-field col-lg-12",4,"ngIf"],[3,"value"],["id","publish",1,"btn","btn-dark","btn-block","btn-lg","checkk",3,"disabled","click"],[1,"d-flex","justify-content-between"]],template:function(e,t){1&e&&(i.TgZ(0,"section",0)(1,"form",1)(2,"h1",2),i._uU(3,"Include Details"),i.qZA(),i.TgZ(4,"div",3)(5,"div",4)(6,"div",5),i._UZ(7,"input",6),i.TgZ(8,"label",7),i._uU(9,"Book Name"),i.qZA()(),i.TgZ(10,"div",8)(11,"select",9),i.NdJ("change",function(s){return t.selectedCategory(s)}),i.TgZ(12,"option"),i._uU(13,"--Category--"),i.qZA(),i.YNc(14,gB,2,2,"option",10),i.qZA()(),i.TgZ(15,"div",11),i._UZ(16,"input",12),i.TgZ(17,"label",13),i._uU(18,"No of Pages"),i.qZA()(),i.TgZ(19,"div",11),i._UZ(20,"input",14),i.TgZ(21,"label",15),i._uU(22,"Set a price"),i.qZA()(),i.TgZ(23,"div",5),i._UZ(24,"input",16),i.TgZ(25,"label",7),i._uU(26,"Account Number"),i.qZA()(),i.TgZ(27,"div",11),i._UZ(28,"input",17),i.TgZ(29,"label",13),i._uU(30,"No of Target"),i.qZA()(),i.TgZ(31,"div",11),i._UZ(32,"input",18),i.TgZ(33,"label",13),i._uU(34,"Amount Excepted Date"),i.qZA()(),i.TgZ(35,"div",19),i._UZ(36,"textarea",20),i.TgZ(37,"label",21),i._uU(38,"Description"),i.qZA()(),i.TgZ(39,"div",22)(40,"label",23),i._uU(41,"Book Cover Photo"),i.qZA(),i.TgZ(42,"input",24),i.NdJ("change",function(s){return t.selectFile(s)}),i.qZA()(),i.TgZ(43,"div",22)(44,"label",25),i._uU(45,"Upload sample story in PDF Format"),i.qZA(),i.TgZ(46,"input",26),i.NdJ("change",function(s){return t.selectPDF(s)}),i.qZA()()()()(),i.YNc(47,mB,5,1,"div",27),i.ALo(48,"async"),i.qZA()),2&e&&(i.xp6(1),i.Q6J("formGroup",t.publishForm),i.xp6(13),i.Q6J("ngForOf",t.ngOptions),i.xp6(33),i.Q6J("ngIf",i.lcZ(48,3,t.user$)))},dependencies:[sn,kt,Tw,JS,ex,am,_w,yw,jI,rv,Iw,pi],styles:["input[_ngcontent-%COMP%]{border-top-style:hidden;border-right-style:hidden;border-left-style:hidden;border-bottom-style:groove}input[_ngcontent-%COMP%]:focus{outline:none}.publishform[_ngcontent-%COMP%]{max-width:800px;margin:50px auto;position:relative;box-shadow:0 10px 30px #0000001a;padding:30px}.publishform[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:2em;line-height:48px;padding-bottom:20px;color:#595a4c}.publish-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{position:relative;margin:32px 0}.publish-form[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{display:block;width:100%;height:36px;border-width:0 0 2px 0;border-color:#595a4c;font-size:18px;line-height:26px;font-weight:400}.publish-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{display:inline-block;background-image:linear-gradient(125deg,#a72879,#064497);color:#fff;text-transform:uppercase;letter-spacing:2px;font-size:16px;padding:8px 16px;cursor:pointer;border:none;width:200px}.publish-form[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{position:absolute;left:20px;bottom:11px;font-size:18px;line-height:26px;font-weight:400;color:#595a4c;cursor:text;text-transform:capitalize;transition:transform .2s ease-in-out}.publish-form[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]:focus + .label[_ngcontent-%COMP%], .publish-form[_ngcontent-%COMP%]   .input-text.not-empty[_ngcontent-%COMP%] + .label[_ngcontent-%COMP%]{transform:translateY(-24px)}.checkk[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:red}"]}),ym=(0,zn.gn)([Wn()],ym);let _B=(()=>{class n{constructor(t){this.spinner=t}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1e3)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-publish"]],decls:6,vars:0,consts:[[1,"container"],["routerLink","/publishform",1,"link-dark"],["src","https://img.icons8.com/ios-filled/50/000000/plus-2-math.png"],["name","plist"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"a",1),i._UZ(2,"img",2),i._uU(3," Publish Your own books "),i.qZA(),i._UZ(4,"br"),i.qZA(),i._UZ(5,"router-outlet",3))},dependencies:[m,Zi],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 0 4px rgba(black,.068)}"]}),n})();function yB(n,e){1&n&&(i.ynx(0),i.TgZ(1,"p"),i._uU(2,"Empty List"),i.qZA(),i.BQk())}function vB(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"tbody")(2,"tr")(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA()()(),i.BQk()),2&n){const t=e.$implicit;i.xp6(4),i.Oqu(t.bname),i.xp6(2),i.Oqu(t.category),i.xp6(2),i.Oqu(t.nofpages),i.xp6(2),i.Oqu(t.target),i.xp6(2),i.Oqu(t.price)}}function bB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,vB,13,5,"ng-container",3),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.rejectedList)}}function wB(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th"),i._uU(6,"Book Name"),i.qZA(),i.TgZ(7,"th"),i._uU(8,"Category"),i.qZA(),i.TgZ(9,"th"),i._uU(10,"No Of Pages"),i.qZA(),i.TgZ(11,"th"),i._uU(12,"Target"),i.qZA(),i.TgZ(13,"th"),i._uU(14,"Price"),i.qZA()()(),i.YNc(15,bB,2,1,"ng-container",3),i.qZA()(),i.BQk()),2&n){const t=i.oxw();i.xp6(15),i.Q6J("ngForOf",t.rejectedList)}}let vm=class{constructor(e,t){this.bookService=e,this.userService=t,this.user$=this.userService.CurrentUserProfile$,this.rejectedList=[]}ngOnInit(){this.getAllrejected()}getAllrejected(){this.user$.pipe(nt(this)).subscribe(e=>{this.userId=e.uid,this.bookService.getRejectedRequest().pipe(nt(this)).subscribe({next:t=>{t.map(r=>{const s=r.payload.doc.data();s.id=r.payload.doc.id,this.userId==s.uid&&this.rejectedList.push(s)})},error:t=>{console.log(t)}})})}};function CB(n,e){if(1&n&&i._UZ(0,"img",10),2&n){const t=i.oxw().$implicit;i.s9C("src",t.url,i.LSH)}}function EB(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,CB,1,1,"img",9),i.qZA()),2&n){const t=e.$implicit,r=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",r.bid==t.name)}}function TB(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i.YNc(3,EB,2,1,"div",2),i.TgZ(4,"div",5)(5,"div",6),i._uU(6),i.qZA(),i.TgZ(7,"div",1)(8,"div",7)(9,"div",8)(10,"p"),i._uU(11,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Targets\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Received Orders"),i.qZA(),i.TgZ(12,"h4"),i._uU(13),i.qZA()()(),i.TgZ(14,"div",7),i._UZ(15,"div",8),i.qZA()()()()(),i.BQk()),2&n){const t=e.$implicit,r=i.oxw();i.xp6(3),i.Q6J("ngForOf",r.imageList),i.xp6(3),i.Oqu(t.bname),i.xp6(7),i.AsE("",t.target,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ",t.receivedorders,"")}}vm.\u0275fac=function(e){return new(e||vm)(i.Y36(hs),i.Y36(fr))},vm.\u0275cmp=i.Xpm({type:vm,selectors:[["app-rejected-requests"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.YNc(0,yB,3,0,"ng-container",0),i.YNc(1,wB,16,1,"ng-container",0)),2&e&&(i.Q6J("ngIf",0===t.rejectedList.length),i.xp6(1),i.Q6J("ngIf",0!=t.rejectedList.length))},dependencies:[sn,kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.reject[_ngcontent-%COMP%]{color:#000;font-weight:700}.btn[_ngcontent-%COMP%]{text-decoration:none;line-height:35px;display:inline-block}.table-container[_ngcontent-%COMP%]{margin:40px auto 0}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reject[_ngcontent-%COMP%]:hover{color:red}"]}),vm=(0,zn.gn)([Wn()],vm);let bm=class{constructor(e,t){this.orderService=e,this.storage=t,this.unfinishedList=[],this.imageList=[]}ngOnInit(){this.getAllUnFinishedProjects(),this.getImages()}getAllUnFinishedProjects(){this.orderService.allUnFinishedProjects().pipe(nt(this)).subscribe({next:e=>{this.unfinishedList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}getImages(){this.storage.ref("/images/books/").listAll().pipe(nt(this)).subscribe(t=>{for(let r=0;r<t.items.length;r++){let s=t.items[r].name;this.storage.ref("/images/books/"+t.items[r].name).getDownloadURL().subscribe(d=>{this.imageList.push({name:s,url:d})})}})}};bm.\u0275fac=function(e){return new(e||bm)(i.Y36(li),i.Y36(Qg))},bm.\u0275cmp=i.Xpm({type:bm,selectors:[["app-unfinishedprojects"]],decls:3,vars:1,consts:[[1,"container"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"profile-card-4","text-center"],[1,"profile-content"],[1,"profile-description"],[1,"col-xs-4"],[1,"profile-overview"],["class","img img-responsive adjust",3,"src",4,"ngIf"],[1,"img","img-responsive","adjust",3,"src"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,TB,16,4,"ng-container",2),i.qZA()()),2&e&&(i.xp6(2),i.Q6J("ngForOf",t.unfinishedList))},dependencies:[sn,kt],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700,800,900|Open Sans:400,600,800";h1[_ngcontent-%COMP%]{font-weight:300;font-size:24px;color:#eee;letter-spacing:2px;text-align:center;text-transform:uppercase;margin:0!important;padding-bottom:25px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], div[_ngcontent-%COMP%], input[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-family:Open Sans;margin:0}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:inherit}body[_ngcontent-%COMP%]{background-color:#f1f2f3}.container-fluid[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1200px}.card-container[_ngcontent-%COMP%]{padding:100px 0;perspective:1000}.profile-card-4[_ngcontent-%COMP%]{max-width:300px;background-color:#fff;border-radius:5px;box-shadow:0 0 25px #0000001a;overflow:hidden;position:relative;margin:10px auto;cursor:pointer}.profile-card-4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .25s linear}.profile-card-4[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{position:relative;padding:15px;background-color:#fff}.profile-card-4[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-weight:700;position:absolute;left:0px;right:0px;top:-70px;color:#fff;font-size:17px}.profile-card-4[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:13px;letter-spacing:1.5px}.profile-card-4[_ngcontent-%COMP%]   .profile-description[_ngcontent-%COMP%]{color:#777;font-size:12px;padding:10px}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]{padding:15px 0}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#777}.profile-card-4[_ngcontent-%COMP%]   .profile-overview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#273751;font-weight:700}.profile-card-4[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]:before{content:"";position:absolute;height:20px;top:-10px;left:0px;right:0px;background-color:#fff;z-index:0;transform:skewY(3deg)}.profile-card-4[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(5deg) scale(1.1);filter:brightness(110%)}.adjust[_ngcontent-%COMP%]{height:150px}']}),bm=(0,zn.gn)([Wn()],bm);let IB=(()=>{class n{constructor(t,r,s,u){this.router=t,this.auth=r,this.userService=s,this.toast=u,this.adminreg=new zo({})}ngOnInit(){this.adminreg=new zo({firstname:new gn(""),lastname:new gn(""),position:new gn(""),street:new gn(""),zipcode:new gn(""),place:new gn(""),country:new gn(""),code:new gn(""),phno:new gn(""),email:new gn(""),password:new gn("")})}addAdmin(){const{firstname:t,lastname:r,position:s,street:u,zipcode:d,place:f,country:_,code:w,phno:A,email:x,password:F}=this.adminreg.value;console.log("pass"+F),this.auth.signUp(x,F).pipe(Jt(({user:{uid:B}})=>this.userService.addAdmin({uid:B,firstname:t,lastname:r,position:s,street:u,zipcode:d,place:f,country:_,code:w,phno:A,email:x,password:F,roles:"admin"})),this.toast.observe({success:"Admin added",loading:"please wait",error:({message:B})=>`${B}`})).subscribe(()=>{this.router.navigate(["/admindet"])})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(un),i.Y36(Ho),i.Y36(fr),i.Y36(Za))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-add-admin"]],decls:84,vars:1,consts:[[3,"formGroup"],[1,"h-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12"],[1,"card","card-registration","card-registration-2",2,"border-radius","15px"],[1,"card-body","p-0"],[1,"row","g-0"],[1,"col-lg-6"],[1,"p-5"],[1,"fw-normal","mb-5",2,"color","#4835d4"],[1,"mb-4","pb-2"],[1,"select"],["value","1"],["value","2"],["value","3"],[1,"row"],[1,"col-md-6","mb-4","pb-2"],[1,"form-outline"],["type","text","id","form3Examplev2","formControlName","firstname",1,"form-control","form-control-lg"],["for","form3Examplev2",1,"form-label"],["type","text","id","form3Examplev3","formControlName","lastname",1,"form-control","form-control-lg"],["for","form3Examplev3",1,"form-label"],["type","text","id","form3Examplev4","formControlName","position",1,"form-control","form-control-lg"],["for","form3Examplev4",1,"form-label"],[1,"col-lg-6","bg-indigo","text-white"],[1,"fw-normal","mb-5"],[1,"form-outline","form-white"],["type","text","id","form3Examplea2","formControlName","street",1,"form-control","form-control-lg"],["for","form3Examplea2",1,"form-label"],[1,"col-md-5","mb-4","pb-2"],["type","text","id","form3Examplea4","formControlName","zipcode",1,"form-control","form-control-lg"],["for","form3Examplea4",1,"form-label"],[1,"col-md-7","mb-4","pb-2"],["type","text","id","form3Examplea5","formControlName","place",1,"form-control","form-control-lg"],["for","form3Examplea5",1,"form-label"],["type","text","id","form3Examplea6","formControlName","country",1,"form-control","form-control-lg"],["for","form3Examplea6",1,"form-label"],["type","text","id","form3Examplea7","formControlName","code",1,"form-control","form-control-lg"],["for","form3Examplea7",1,"form-label"],["type","text","id","form3Examplea8","formControlName","phno",1,"form-control","form-control-lg"],["for","form3Examplea8",1,"form-label"],[1,"mb-4"],["type","text","id","form3Examplea9","formControlName","email",1,"form-control","form-control-lg"],["for","form3Examplea9",1,"form-label"],["type","password","id","form3Examplea3","formControlName","password",1,"form-control","form-control-lg"],["for","form3Examplea3",1,"form-label"],["type","button","data-mdb-ripple-color","dark",1,"btn","btn-light","btn-lg",3,"click"]],template:function(t,r){1&t&&(i.TgZ(0,"form",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h3",10),i._uU(11,"General Infomation"),i.qZA(),i.TgZ(12,"div",11)(13,"select",12)(14,"option",13),i._uU(15,"Title"),i.qZA(),i.TgZ(16,"option",14),i._uU(17,"Mr"),i.qZA(),i.TgZ(18,"option",15),i._uU(19,"mrs"),i.qZA()()(),i.TgZ(20,"div",16)(21,"div",17)(22,"div",18),i._UZ(23,"input",19),i.TgZ(24,"label",20),i._uU(25,"First name"),i.qZA()()(),i.TgZ(26,"div",17)(27,"div",18),i._UZ(28,"input",21),i.TgZ(29,"label",22),i._uU(30,"Last name"),i.qZA()()()(),i.TgZ(31,"div",11)(32,"div",18),i._UZ(33,"input",23),i.TgZ(34,"label",24),i._uU(35,"Position"),i.qZA()()()()(),i.TgZ(36,"div",25)(37,"div",9)(38,"h3",26),i._uU(39,"Contact Details"),i.qZA(),i.TgZ(40,"div",11)(41,"div",27),i._UZ(42,"input",28),i.TgZ(43,"label",29),i._uU(44,"Street"),i.qZA()()(),i.TgZ(45,"div",16)(46,"div",30)(47,"div",27),i._UZ(48,"input",31),i.TgZ(49,"label",32),i._uU(50,"Zip Code"),i.qZA()()(),i.TgZ(51,"div",33)(52,"div",27),i._UZ(53,"input",34),i.TgZ(54,"label",35),i._uU(55,"Place"),i.qZA()()()(),i.TgZ(56,"div",11)(57,"div",27),i._UZ(58,"input",36),i.TgZ(59,"label",37),i._uU(60,"Country"),i.qZA()()(),i.TgZ(61,"div",16)(62,"div",30)(63,"div",27),i._UZ(64,"input",38),i.TgZ(65,"label",39),i._uU(66,"Code +"),i.qZA()()(),i.TgZ(67,"div",33)(68,"div",27),i._UZ(69,"input",40),i.TgZ(70,"label",41),i._uU(71,"Phone Number"),i.qZA()()()(),i.TgZ(72,"div",42)(73,"div",27),i._UZ(74,"input",43),i.TgZ(75,"label",44),i._uU(76,"Email"),i.qZA()()(),i.TgZ(77,"div",11)(78,"div",27),i._UZ(79,"input",45),i.TgZ(80,"label",46),i._uU(81,"Password"),i.qZA()()(),i.TgZ(82,"button",47),i.NdJ("click",function(){return r.addAdmin()}),i._uU(83,"Register"),i.qZA()()()()()()()()()()()),2&t&&i.Q6J("formGroup",r.adminreg)},dependencies:[Tw,JS,ex,am,_w,yw,rv,Iw],styles:["@media (min-width: 1025px){.h-custom[_ngcontent-%COMP%]{height:100vh!important}}.card-registration[_ngcontent-%COMP%]   .select-input.form-control[readonly][_ngcontent-%COMP%]:not([disabled]){font-size:1rem;line-height:2.15;padding-left:.75em;padding-right:.75em}.card-registration[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{top:13px}.bg-indigo[_ngcontent-%COMP%]{background-color:#111}@media (min-width: 992px){.card-registration-2[_ngcontent-%COMP%]   .bg-indigo[_ngcontent-%COMP%]{border-top-right-radius:15px;border-bottom-right-radius:15px}}@media (max-width: 991px){.card-registration-2[_ngcontent-%COMP%]   .bg-indigo[_ngcontent-%COMP%]{border-bottom-left-radius:15px;border-bottom-right-radius:15px}}"]}),n})();function AB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td",4)(12,"a",5),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,u=i.oxw();return i.KtG(u.deleteadmin(s))}),i._uU(13,"Remove"),i.qZA()()()}if(2&n){const t=i.oxw().$implicit;i.xp6(2),i.AsE("",t.firstname," ",t.lastname,""),i.xp6(2),i.Oqu(t.position),i.xp6(2),i.Oqu(t.phno),i.xp6(2),i.Oqu(t.email),i.xp6(2),i.Oqu(t.place)}}function DB(n,e){if(1&n&&(i.TgZ(0,"tbody"),i.YNc(1,AB,14,6,"tr",3),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf","admin"==t.roles)}}let wm=class{constructor(e,t,r){this.toast=e,this.userService=t,this.confirmService=r,this.adminList=[]}ngOnInit(){this.getAllAdmin()}getAllAdmin(){this.userService.getAllUsers().pipe(nt(this)).subscribe({next:e=>{this.adminList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}deleteadmin(e){this.confirmService.showConfirm("Are you sure you want to delete "+e.firstname+"?",()=>{this.userService.deleteAdmin(e),this.toast.success("deleted")},()=>{})}};wm.\u0275fac=function(e){return new(e||wm)(i.Y36(Za),i.Y36(fr),i.Y36(Yd))},wm.\u0275cmp=i.Xpm({type:wm,selectors:[["app-admin-list"]],decls:17,vars:1,consts:[[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-label","Add"],[1,"btn","reject",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i._uU(5,"Name"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Position"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Phone Number"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Email-id"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"Place"),i.qZA(),i.TgZ(14,"th"),i._uU(15,"#"),i.qZA()()(),i.YNc(16,DB,2,1,"tbody",2),i.qZA()()),2&e&&(i.xp6(16),i.Q6J("ngForOf",t.adminList))},dependencies:[sn,kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.reject[_ngcontent-%COMP%]{color:#000;font-weight:700}.btn[_ngcontent-%COMP%]{text-decoration:none;line-height:35px;display:inline-block}.table-container[_ngcontent-%COMP%]{margin:40px auto 0}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reject[_ngcontent-%COMP%]:hover{color:red}"]}),wm=(0,zn.gn)([Wn()],wm);const SB=function(){return["addadmin"]},sR=function(n){return{show:n}},oR=function(n){return{outlets:n}},aR=function(n){return[n]},xB=function(){return["adminlist"]};let MB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-admin"]],decls:12,vars:16,consts:[[1,"container"],[1,"link-dark",3,"routerLink"],["src","https://img.icons8.com/ios-filled/50/000000/add--v1.png"],["src","https://img.icons8.com/ios-filled/50/000000/summary-list.png"],[1,"display-area"],["name","show"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"a",1),i._UZ(2,"img",2),i._uU(3," Add Admin "),i.qZA(),i._UZ(4,"br"),i.TgZ(5,"a",1),i._UZ(6,"img",3),i._uU(7," Admin List "),i.qZA(),i._UZ(8,"br")(9,"br"),i.qZA(),i.TgZ(10,"div",4),i._UZ(11,"router-outlet",5),i.qZA()),2&t&&(i.xp6(1),i.Q6J("routerLink",i.VKq(7,aR,i.VKq(5,oR,i.VKq(3,sR,i.DdM(2,SB))))),i.xp6(4),i.Q6J("routerLink",i.VKq(14,aR,i.VKq(12,oR,i.VKq(10,sR,i.DdM(9,xB))))))},dependencies:[m,Zi],styles:[".display-area[_ngcontent-%COMP%]{width:95%;min-height:calc(100vh - (2 * var(--headerHeight)) - 1rem);margin:1rem auto}"]}),n})();function OB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td",4)(10,"a",5),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,u=i.oxw();return i.KtG(u.deleteCustomer(s))}),i._uU(11,"Remove"),i.qZA()()()}if(2&n){const t=i.oxw().$implicit;i.xp6(2),i.Oqu(t.username),i.xp6(2),i.Oqu(t.address),i.xp6(2),i.Oqu(t.phno),i.xp6(2),i.Oqu(t.email)}}function PB(n,e){if(1&n&&(i.TgZ(0,"tbody"),i.YNc(1,OB,12,4,"tr",3),i.qZA()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf","customer"==t.roles)}}let Cm=class{constructor(e,t,r){this.toast=e,this.userService=t,this.confirmService=r,this.customerList=[]}ngOnInit(){this.getAllCustomers()}getAllCustomers(){this.userService.getAllUsers().pipe(nt(this)).subscribe({next:e=>{this.customerList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}deleteCustomer(e){this.confirmService.showConfirm("Are you sure you want to delete "+e.username+"?",()=>{this.userService.deleteCustomer(e),this.toast.success("deleted")},()=>{})}};Cm.\u0275fac=function(e){return new(e||Cm)(i.Y36(Za),i.Y36(fr),i.Y36(Yd))},Cm.\u0275cmp=i.Xpm({type:Cm,selectors:[["app-customer-list"]],decls:15,vars:1,consts:[[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-label","Add"],[1,"btn","reject",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i._uU(5,"Customer Name"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Address"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Phone Number"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Email-id"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"#"),i.qZA()()(),i.YNc(14,PB,2,1,"tbody",2),i.qZA()()),2&e&&(i.xp6(14),i.Q6J("ngForOf",t.customerList))},dependencies:[sn,kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.reject[_ngcontent-%COMP%]{color:#000;font-weight:700}.btn[_ngcontent-%COMP%]{text-decoration:none;line-height:35px;display:inline-block}.table-container[_ngcontent-%COMP%]{margin:40px auto 0}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reject[_ngcontent-%COMP%]:hover{color:red}"]}),Cm=(0,zn.gn)([Wn()],Cm);const kB=function(){return["pcust"]},tx=function(n){return{showcus:n}},nx=function(n){return{outlets:n}},rx=function(n){return[n]},RB=function(){return["custlist"]},NB=function(){return["orderedcust"]};let FB=(()=>{class n{constructor(t){this.spinner=t}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-customer"]],decls:16,vars:24,consts:[[1,"container"],[1,"link-dark",3,"routerLink"],["src","https://img.icons8.com/ios-filled/50/000000/add--v1.png"],["src","https://img.icons8.com/external-kiranshastry-solid-kiranshastry/64/000000/external-customers-business-and-management-kiranshastry-solid-kiranshastry-1.png"],["src","https://img.icons8.com/ios-filled/50/000000/order-history.png"],[1,"display-area"],["name","showcus"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"a",1),i._UZ(2,"img",2),i._uU(3," Published Customer "),i.qZA(),i._uU(4,"\xa0\xa0\xa0 "),i.TgZ(5,"a",1),i._UZ(6,"img",3),i._uU(7," Customer List "),i.qZA(),i._uU(8,"\xa0\xa0\xa0 "),i.TgZ(9,"a",1),i._UZ(10,"img",4),i._uU(11," Ordered Customers "),i.qZA(),i._UZ(12,"br")(13,"br"),i.qZA(),i.TgZ(14,"div",5),i._UZ(15,"router-outlet",6),i.qZA()),2&t&&(i.xp6(1),i.Q6J("routerLink",i.VKq(8,rx,i.VKq(6,nx,i.VKq(4,tx,i.DdM(3,kB))))),i.xp6(4),i.Q6J("routerLink",i.VKq(15,rx,i.VKq(13,nx,i.VKq(11,tx,i.DdM(10,RB))))),i.xp6(4),i.Q6J("routerLink",i.VKq(22,rx,i.VKq(20,nx,i.VKq(18,tx,i.DdM(17,NB))))))},dependencies:[m,Zi]}),n})();function LB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"tr")(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td",4)(12,"a",5),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,u=i.oxw(3);return i.KtG(u.remove(s))}),i._uU(13,"Remove"),i.qZA()()()}if(2&n){const t=i.oxw(2).$implicit,r=i.oxw().$implicit;i.xp6(2),i.Oqu(r.username),i.xp6(2),i.Oqu(r.address),i.xp6(2),i.Oqu(t.bname),i.xp6(2),i.Oqu(r.phno),i.xp6(2),i.Oqu(r.email)}}function UB(n,e){if(1&n&&(i.TgZ(0,"tbody"),i.YNc(1,LB,14,5,"tr",3),i.qZA()),2&n){const t=e.$implicit,r=i.oxw().$implicit,s=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",t.uid==s.uid&&t.bid==r.bid)}}function VB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,UB,2,1,"tbody",2),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.orderList)}}function BB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,VB,2,1,"ng-container",2),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.orderItemList)}}let Em=class{constructor(e,t,r,s,u){this.confirmService=e,this.toast=t,this.bookService=r,this.orderService=s,this.userService=u,this.orderList=[],this.orderCustomers=[],this.orderItemList=[]}ngOnInit(){this.getAllOrderedCustomers(),this.getAllCustomers(),this.getAllBooks()}getAllOrderedCustomers(){this.orderService.getAllOrderedCustomers().pipe(nt(this)).subscribe({next:e=>{this.orderList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}getAllCustomers(){this.userService.getAllUsers().pipe(nt(this)).subscribe({next:e=>{this.orderCustomers=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}getAllBooks(){this.bookService.getAllAcceptedRequests().pipe(nt(this)).subscribe({next:e=>{this.orderItemList=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}remove(e){this.confirmService.showConfirm("Are you sure want to delete this order ?",()=>{this.orderService.deleteOrderedCustomer(e).then(()=>{this.toast.success("Deleted")})},()=>{})}};function ZB(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),i._uU(4),i.qZA(),i.TgZ(5,"h3",7),i._uU(6),i.qZA(),i.TgZ(7,"h4",6),i._uU(8),i.qZA(),i.TgZ(9,"h4",6),i._uU(10),i.qZA(),i.TgZ(11,"h4",6),i._uU(12,"Price :"),i.TgZ(13,"strong"),i._uU(14),i.qZA()(),i.TgZ(15,"p",8),i._uU(16,"Some quick example text to build on the card title and make up the bulk of the card's content."),i.qZA(),i.TgZ(17,"button",9),i._uU(18,"Finish"),i.qZA(),i.TgZ(19,"button",10),i.NdJ("click",function(){const u=i.CHM(t).$implicit,d=i.oxw();return i.KtG(d.unifinished(u))}),i._uU(20,"Unfinish"),i.qZA()()()()}if(2&n){const t=e.$implicit;i.xp6(4),i.Oqu(t.uname),i.xp6(2),i.Oqu(t.bname),i.xp6(2),i.hij("Target : ",t.target,""),i.xp6(2),i.hij("Received Orders : ",t.receivedorders,""),i.xp6(4),i.hij(" $",t.price,""),i.xp6(3),i.MGl("routerLink","/paymentcard/",t.bid,"")}}Em.\u0275fac=function(e){return new(e||Em)(i.Y36(Yd),i.Y36(Za),i.Y36(hs),i.Y36(li),i.Y36(fr))},Em.\u0275cmp=i.Xpm({type:Em,selectors:[["app-ordered-customers"]],decls:17,vars:1,consts:[[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["data-label","Add"],[1,"btn","reject",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i._uU(5,"Customer Name"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Address"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"Ordered Item"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Phone Number"),i.qZA(),i.TgZ(12,"th"),i._uU(13,"Email-id"),i.qZA(),i.TgZ(14,"th"),i._uU(15,"#"),i.qZA()()(),i.YNc(16,BB,2,1,"ng-container",2),i.qZA()()),2&e&&(i.xp6(16),i.Q6J("ngForOf",t.orderCustomers))},dependencies:[sn,kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.reject[_ngcontent-%COMP%]{color:#000;font-weight:700}.btn[_ngcontent-%COMP%]{text-decoration:none;line-height:35px;display:inline-block}.table-container[_ngcontent-%COMP%]{margin:40px auto 0}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.reject[_ngcontent-%COMP%]:hover{color:red}"]}),Em=(0,zn.gn)([Wn()],Em);let Tm=class{constructor(e,t,r,s){this.orderService=e,this.userService=t,this.confirmService=r,this.router=s,this.pcustomers=[]}ngOnInit(){this.getPublishedCustomers()}getPublishedCustomers(){this.userService.getPublishedCust().pipe(nt(this)).subscribe({next:e=>{this.pcustomers=e.map(t=>{const r=t.payload.doc.data();return r.id=t.payload.doc.id,r})},error:e=>{console.log(e)}})}unifinished(e){this.confirmService.showConfirm("Unfinish the Project ?",()=>{this.orderService.unfinishedProject(e).then(()=>{this.router.navigate(["/customerdet"])})},()=>{})}};Tm.\u0275fac=function(e){return new(e||Tm)(i.Y36(li),i.Y36(fr),i.Y36(Yd),i.Y36(un))},Tm.\u0275cmp=i.Xpm({type:Tm,selectors:[["app-published-customers"]],decls:3,vars:1,consts:[[1,"container","mx-auto","mt-4"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"col","btn","btn-dark-moon","btn-rounded",3,"routerLink"],[1,"col","btn","btn-pink-moon","btn-rounded",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ZB,21,6,"div",2),i.qZA()()),2&e&&(i.xp6(2),i.Q6J("ngForOf",t.pcustomers))},dependencies:[sn,ku],styles:[".hov[_ngcontent-%COMP%]:hover{color:tomato}[_ngcontent-%COMP%]:root{--gradient: linear-gradient(to left top, #DD2476 10%, #FF512F 90%) !important}body[_ngcontent-%COMP%]{background:#111!important}.card[_ngcontent-%COMP%]{background:#222;border:1px solid #dd2476;color:#fafafacc;margin-bottom:2rem}.btn-dark-moon[_ngcontent-%COMP%]{background:#141E30;background:linear-gradient(to right,#243B55,#141E30);color:#fff;border:3px solid #eee}.btn-rounded[_ngcontent-%COMP%]{border-radius:35px}.btn-pink-moon[_ngcontent-%COMP%]{background:#ec008c;background:linear-gradient(to right,#fc6767,#ec008c);color:#fff;border:3px solid #eee}.btn-dark-moon[_ngcontent-%COMP%]:hover{background:#6b6f75}.btn-pink-moon[_ngcontent-%COMP%]:hover{background:#222}"]}),Tm=(0,zn.gn)([Wn()],Tm);let jB=(()=>{class n{constructor(t){this.spinner=t}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide()},2e3)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Mf))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-users"]],decls:10,vars:0,consts:[[1,"container"],["routerLink","/admindet",1,"link-dark"],["src","https://img.icons8.com/nolan/64/admin-settings-male.png"],["routerLink","/customerdet",1,"link-dark"],["src","https://img.icons8.com/external-kiranshastry-gradient-kiranshastry/64/000000/external-users-cyber-security-kiranshastry-gradient-kiranshastry.png"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"a",1),i._UZ(2,"img",2),i._uU(3," Admin Details "),i.qZA(),i._UZ(4,"br"),i.TgZ(5,"a",3),i._UZ(6,"img",4),i._uU(7," Customer Details "),i.qZA(),i._UZ(8,"br")(9,"br"),i.qZA())},dependencies:[Zi]}),n})(),Cr=(()=>{class n{constructor(t,r,s){this.authService=t,this.router=r,this.toast=s}canActivate(t,r){return!0!==this.authService.isLoggedIn&&(this.toast.warning("Access Denied, Login is Required to Access This Page!"),this.router.navigate(["categories"])),!0}canActivateChild(t,r){return!0}canDeactivate(t,r,s,u){return!0}canLoad(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ho),i.LFG(un),i.LFG(Za))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qB=[{path:"users",component:jB,canActivate:[Cr]},{path:"admindet",component:MB,children:[{path:"addadmin",component:IB,outlet:"show",canActivate:[Cr]},{path:"adminlist",component:wm,outlet:"show",canActivate:[Cr]}],canActivate:[Cr]},{path:"customerdet",component:FB,children:[{path:"pcust",component:Tm,outlet:"showcus"},{path:"custlist",component:Cm,outlet:"showcus",canActivate:[Cr]},{path:"orderedcust",component:Em,outlet:"showcus",canActivate:[Cr]}]},{path:"cart",component:nm,canActivate:[Cr]},{path:"cartorderbill",component:rm,canActivate:[Cr]},{path:"cartpaymentcard/:price",component:im,canActivate:[Cr]},{path:"addtocartbill",component:tm,canActivate:[Cr]},{path:"categories",component:um},{path:"orderbill/:bid",component:pm,canActivate:[Cr]},{path:"paymentcard/:bid",component:mm,canActivate:[Cr]},{path:"customerbill/:bid",component:lm,canActivate:[Cr]},{path:"productdetails/:bid",component:_m},{path:"orderreqdetails/:bid",component:hm,canActivate:[Cr]},{path:"rejectedorders",component:vm,canActivate:[Cr]},{path:"aboutus",component:OL},{path:"profile",component:pB,canActivate:[Cr]},{path:"ordereditems",component:gm,canActivate:[Cr]},{path:"finished",component:fm},{path:"unfinished",component:bm},{path:"publish",component:_B,canActivate:[Cr]},{path:"publishform",component:ym,canActivate:[Cr]},{path:"reqlist",component:em,canActivate:[Cr]},{path:"request-detail/:bid",component:Jg,canActivate:[Cr]},{path:"customerreq",component:dm,canActivate:[Cr]},{path:"",redirectTo:"/categories",pathMatch:"full"},{path:"**",component:iB}];let $B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[sC.forRoot(qB),sC]}),n})();function HB(n,e){1&n&&(i.ynx(0),i.TgZ(1,"a",45),i._UZ(2,"img",46)(3,"div",47),i.qZA(),i.BQk())}function GB(n,e){1&n&&(i.TgZ(0,"button",48),i._uU(1," Login "),i.qZA(),i.TgZ(2,"button",49),i._uU(3,"Register"),i.qZA())}function zB(n,e){if(1&n&&(i.TgZ(0,"button",51),i._UZ(1,"img",52),i.qZA()),2&n){const t=e.ngIf;let r;i.xp6(1),i.Q6J("src",null!==(r=t)&&void 0!==r?r:"https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp",i.LSH)}}function WB(n,e){if(1&n&&(i.ynx(0),i.YNc(1,zB,2,1,"button",50),i.ALo(2,"async"),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.userImg$))}}function KB(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",53),i.NdJ("click",function(){i.CHM(t);const s=i.oxw();return i.KtG(s.logout())}),i._uU(2,"Log Out"),i.qZA(),i.BQk()}}function YB(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Name is Required "),i.qZA())}function QB(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Name is too short "),i.qZA())}function JB(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Invalid name "),i.qZA())}function XB(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Number is Required "),i.qZA())}function e6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Invalid number "),i.qZA())}function t6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Invalid number "),i.qZA())}function n6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Invalid number "),i.qZA())}function r6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Address is Required "),i.qZA())}function i6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Email is Required "),i.qZA())}function s6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Email is Invalid. "),i.qZA())}function o6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Password is Required "),i.qZA())}function a6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Password should be at least 6 and at the max 15 characters long. "),i.qZA())}function c6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Email is Required "),i.qZA())}function u6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Email is Invalid. "),i.qZA())}function l6(n,e){1&n&&(i.TgZ(0,"div",54),i._uU(1," Password is Required "),i.qZA())}const d6=function(n){return{display:n}};let Im=class{constructor(e,t,r,s,u,d){this.bookService=e,this.auth=t,this.userService=r,this.router=s,this.toast=u,this.img=d,this.user$=this.userService.CurrentUserProfile$,this.userImg$=this.img.userprofPic$,this.sideNavToggled=new i.vpe,this.sideNavStatus=!0,this.repeatPass="none",this.registerForm=new zo({}),this.loginForm=new zo({})}ngOnInit(){this.registerForm=new zo({name:new gn("",[zi.required,zi.minLength(3),zi.pattern("[a-zA-Z].*")]),mobile:new gn("",[zi.required,zi.minLength(10),zi.maxLength(10),zi.pattern("[0-9]*")]),address:new gn("",[zi.required]),email:new gn("",[zi.required,zi.email]),pwd:new gn("",[zi.required,zi.minLength(6),zi.maxLength(15)]),rpwd:new gn("",zi.required)}),this.loginForm=new zo({email:new gn("",[zi.required,zi.email]),pwd:new gn("",[zi.required])})}menuButtonClicked(){this.sideNavStatus=!this.sideNavStatus,this.sideNavToggled.emit(this.sideNavStatus)}selectFile(e){this.selectedFiles=e.target.files}createAccount(){const{name:e,email:t,address:r}=this.registerForm.value;if(this.PWD.value==this.RPWD.value){if(this.repeatPass="none",this.selectedFiles){const u=this.selectedFiles.item(0);this.selectedFiles=void 0,u&&this.auth.signUp(t,this.PWD.value).pipe(Jt(({user:{uid:d}})=>this.userService.addUser({uid:d,username:e,phno:this.Mobile.value,email:t,address:r,roles:"customer"}).pipe(Jt(()=>this.img.uploadImage(u,`images/profile/${d}`)))),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:d})=>`${d}`})).subscribe(()=>{this.registerForm.reset(),this.router.navigate(["/categories"])})}}else this.repeatPass="inline"}loginUser(){const{email:e}=this.loginForm.value;this.auth.login(e,this.LPWD.value).pipe(nt(this),this.toast.observe({success:"Logged in Successfully",loading:"Logging in...",error:"Check your email and password"})).subscribe(()=>{this.loginForm.reset(),this.router.navigate(["/categories"])})}logout(){this.auth.logout().pipe(nt(this)).subscribe(()=>{this.router.navigate(["/"])})}get Name(){return this.registerForm.get("name")}get Mobile(){return this.registerForm.get("mobile")}get Email(){return this.registerForm.get("email")}get Address(){return this.registerForm.get("address")}get PWD(){return this.registerForm.get("pwd")}get RPWD(){return this.registerForm.get("rpwd")}get LEmail(){return this.loginForm.get("email")}get LPWD(){return this.loginForm.get("pwd")}};function h6(n,e){1&n&&(i.ynx(0),i.TgZ(1,"li",2)(2,"a",8),i._uU(3,"User Details"),i.qZA()(),i.TgZ(4,"li",2)(5,"a",9),i._uU(6,"Requests"),i.qZA()(),i.BQk())}function f6(n,e){1&n&&(i.ynx(0),i.TgZ(1,"li",2)(2,"a",10),i._uU(3,"Publish"),i.qZA()(),i.TgZ(4,"li",2)(5,"a",11),i._uU(6,"Published"),i.qZA()(),i.TgZ(7,"li",2)(8,"a",12),i._uU(9,"Ordered"),i.qZA()(),i.TgZ(10,"li",2)(11,"a",13),i._uU(12,"Rejected"),i.qZA()(),i.BQk())}function p6(n,e){if(1&n&&(i.ynx(0),i.YNc(1,h6,7,0,"ng-container",4),i.YNc(2,f6,13,0,"ng-container",4),i.BQk()),2&n){const t=e.ngIf;i.xp6(1),i.Q6J("ngIf","admin"==t.roles),i.xp6(1),i.Q6J("ngIf","customer"==t.roles)}}Im.\u0275fac=function(e){return new(e||Im)(i.Y36(hs),i.Y36(Ho),i.Y36(fr),i.Y36(un),i.Y36(Za),i.Y36(pw))},Im.\u0275cmp=i.Xpm({type:Im,selectors:[["app-header"]],outputs:{sideNavToggled:"sideNavToggled"},decls:108,vars:32,consts:[[1,"menu-button",3,"click"],[1,"bx","bx-menu"],[1,"brand-name"],["routerLink","/categories",1,"navbar-brand","nam"],["src","https://img.icons8.com/nolan/64/books-1.png",2,"width","50px","height","50px","margin-top","-10px"],["role","search","action","/search","target","_top"],[4,"ngIf"],[1,"btn-group"],["loginButton",""],[4,"ngIf","ngIfElse"],["id","registerModal","data-bs-backdrop","false","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"row","mt-2"],["for","datepicker",1,"form-label"],["type","text","id","mobile","formControlName","mobile",1,"form-control"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","pwd",1,"form-label"],["type","password","id","pwd","formControlName","pwd",1,"form-control"],["for","rpwd",1,"form-label"],["type","password","id","rpwd","formControlName","rpwd",1,"form-control"],[1,"form-text","text-danger",3,"ngStyle"],["for","profile",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","loginModal","data-bs-backdrop","false","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],["for","lemail",1,"form-label"],["type","email","id","lemail","formControlName","email",1,"form-control"],["for","lpwd",1,"form-label"],["type","password","id","lpwd","formControlName","pwd",1,"form-control"],["routerLink","/cart",1,"car"],["src","https://img.icons8.com/nolan/64/shopping-cart.png"],[1,"badge","bg-danger",2,"font-size","10px"],["data-bs-toggle","modal","data-bs-target","#loginModal",1,"btn","logreg"],["data-bs-toggle","modal","data-bs-target","#registerModal",1,"btn","logreg"],["class","btn btn-lg adj2","routerLink","/profile",4,"ngIf"],["routerLink","/profile",1,"btn","btn-lg","adj2"],["alt","Avatar",1,"img-fluid","rounded-3",2,"width","45px","height","45px",3,"src"],[1,"btn","btn-lg","adj",3,"click"],[1,"form-text","text-danger"]],template:function(e,t){if(1&e&&(i.TgZ(0,"header")(1,"div",0),i.NdJ("click",function(){return t.menuButtonClicked()}),i._UZ(2,"i",1),i.qZA(),i.TgZ(3,"div",2)(4,"a",3),i._UZ(5,"img",4),i.TgZ(6,"span"),i._uU(7,"My Books"),i.qZA()()(),i._UZ(8,"form",5),i.YNc(9,HB,4,0,"ng-container",6),i.ALo(10,"async"),i.TgZ(11,"div",7),i.YNc(12,GB,4,0,"ng-template",null,8,i.W1O),i.YNc(14,WB,3,3,"ng-container",9),i.ALo(15,"async"),i.YNc(16,KB,3,0,"ng-container",6),i.ALo(17,"async"),i.qZA()(),i.TgZ(18,"div",10)(19,"div",11)(20,"div",12)(21,"div",13)(22,"h5",14),i._uU(23,"Enter Your Data"),i.qZA(),i._UZ(24,"button",15),i.qZA(),i.TgZ(25,"div",16)(26,"form",17)(27,"div",18)(28,"div",19)(29,"label",20),i._uU(30,"Name"),i.qZA(),i._UZ(31,"input",21),i.YNc(32,YB,2,0,"div",22),i.YNc(33,QB,2,0,"div",22),i.YNc(34,JB,2,0,"div",22),i.qZA()(),i.TgZ(35,"div",23)(36,"div",19)(37,"label",24),i._uU(38,"Phone Number"),i.qZA(),i._UZ(39,"input",25),i.qZA(),i.YNc(40,XB,2,0,"div",22),i.YNc(41,e6,2,0,"div",22),i.YNc(42,t6,2,0,"div",22),i.YNc(43,n6,2,0,"div",22),i.qZA(),i.TgZ(44,"div",23)(45,"div",19)(46,"label",26),i._uU(47,"Address"),i.qZA(),i._UZ(48,"input",27),i.YNc(49,r6,2,0,"div",22),i.qZA()(),i.TgZ(50,"div",23)(51,"div",19)(52,"label",28),i._uU(53,"E-mail"),i.qZA(),i._UZ(54,"input",29),i.YNc(55,i6,2,0,"div",22),i.YNc(56,s6,2,0,"div",22),i.qZA()(),i.TgZ(57,"div",23)(58,"div",19)(59,"label",30),i._uU(60,"Password"),i.qZA(),i._UZ(61,"input",31),i.YNc(62,o6,2,0,"div",22),i.YNc(63,a6,2,0,"div",22),i.qZA()(),i.TgZ(64,"div",23)(65,"div",19)(66,"label",32),i._uU(67,"Repeat Password"),i.qZA(),i._UZ(68,"input",33),i.TgZ(69,"div",34),i._uU(70," Passwords Not match "),i.qZA()()(),i.TgZ(71,"div",23)(72,"div",19)(73,"label",35),i._uU(74,"Profile Image"),i.qZA(),i.TgZ(75,"input",36),i.NdJ("change",function(s){return t.selectFile(s)}),i.qZA()()()()(),i.TgZ(76,"div",37)(77,"button",38),i._uU(78,"Close"),i.qZA(),i.TgZ(79,"button",39),i.NdJ("click",function(){return t.createAccount()}),i._uU(80,"Create Account"),i.qZA()()()()(),i.TgZ(81,"div",40)(82,"div",11)(83,"div",12)(84,"div",13)(85,"h5",14),i._uU(86,"Login"),i.qZA(),i._UZ(87,"button",15),i.qZA(),i.TgZ(88,"div",16)(89,"form",17)(90,"div",18)(91,"div",19)(92,"label",41),i._uU(93,"E-mail"),i.qZA(),i._UZ(94,"input",42),i.YNc(95,c6,2,0,"div",22),i.YNc(96,u6,2,0,"div",22),i.qZA()(),i.TgZ(97,"div",23)(98,"div",19)(99,"label",43),i._uU(100,"Password"),i.qZA(),i._UZ(101,"input",44),i.YNc(102,l6,2,0,"div",22),i.qZA()()()(),i.TgZ(103,"div",37)(104,"button",38),i._uU(105,"Close"),i.qZA(),i.TgZ(106,"button",39),i.NdJ("click",function(){return t.loginUser()}),i._uU(107,"Login"),i.qZA()()()()()),2&e){const r=i.MAs(13);i.xp6(9),i.Q6J("ngIf",i.lcZ(10,24,t.user$)),i.xp6(5),i.Q6J("ngIf",i.lcZ(15,26,t.user$))("ngIfElse",r),i.xp6(2),i.Q6J("ngIf",i.lcZ(17,28,t.user$)),i.xp6(10),i.Q6J("formGroup",t.registerForm),i.xp6(6),i.Q6J("ngIf",(null==t.Name.errors?null:t.Name.errors.required)&&(t.Name.dirty||t.Name.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Name.errors?null:t.Name.errors.minlength)&&(t.Name.dirty||t.Name.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Name.errors?null:t.Name.errors.pattern)&&t.Name.touched),i.xp6(6),i.Q6J("ngIf",(null==t.Mobile.errors?null:t.Mobile.errors.required)&&(t.Mobile.dirty||t.Mobile.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Mobile.errors?null:t.Mobile.errors.minlength)&&(t.Mobile.dirty||t.Mobile.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Mobile.errors?null:t.Mobile.errors.maxlength)&&(t.Mobile.dirty||t.Mobile.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Mobile.errors?null:t.Mobile.errors.pattern)&&(t.Mobile.dirty||t.Mobile.touched)),i.xp6(6),i.Q6J("ngIf",(null==t.Address.errors?null:t.Address.errors.required)&&(t.Address.dirty||t.Address.touched)),i.xp6(6),i.Q6J("ngIf",(null==t.Email.errors?null:t.Email.errors.required)&&(t.Email.dirty||t.Email.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.Email.errors?null:t.Email.errors.email)&&t.Email.touched),i.xp6(6),i.Q6J("ngIf",(null==t.PWD.errors?null:t.PWD.errors.required)&&(t.PWD.dirty||t.PWD.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.PWD.errors?null:t.PWD.errors.minlength)||(null==t.PWD.errors?null:t.PWD.errors.maxlength)&&(t.PWD.dirty||t.PWD.touched)),i.xp6(6),i.Q6J("ngStyle",i.VKq(30,d6,t.repeatPass)),i.xp6(10),i.Q6J("disabled",t.registerForm.invalid),i.xp6(10),i.Q6J("formGroup",t.loginForm),i.xp6(6),i.Q6J("ngIf",(null==t.LEmail.errors?null:t.LEmail.errors.required)&&(t.LEmail.dirty||t.LEmail.touched)),i.xp6(1),i.Q6J("ngIf",(null==t.LEmail.errors?null:t.LEmail.errors.email)&&(t.LEmail.dirty||t.LEmail.touched)),i.xp6(6),i.Q6J("ngIf",(null==t.LPWD.errors?null:t.LPWD.errors.required)&&(t.LPWD.dirty||t.LPWD.touched)),i.xp6(4),i.Q6J("disabled",t.loginForm.invalid)}},dependencies:[kt,ea,ku,Zi,Tw,am,_w,yw,rv,Iw,Ew,pi],styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:var(--headerHeight);z-index:2}header[_ngcontent-%COMP%]{height:100%;background-color:#000;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0px 1rem}.menu-button[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:25%;display:flex;align-items:center;justify-content:center;font-size:2.2rem;cursor:pointer;transition:background-color .15s ease-in}.menu-button[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}.brand-name[_ngcontent-%COMP%]{height:50px;line-height:50px;text-align:center;font-size:2rem;font-weight:700;letter-spacing:5px}button[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]{background-color:#00000080}.bg-blue-steel[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(32 33 49/var(--tw-bg-opacity))}.outline-0[_ngcontent-%COMP%]{outline-width:0}.text-white[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255/var(--tw-text-opacity))}.py-1[_ngcontent-%COMP%]{padding-bottom:.25rem;padding-top:.25rem}.px-2[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.border-white[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.border-solid[_ngcontent-%COMP%]{border-style:solid}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-0[_ngcontent-%COMP%]{border-width:0}.nam[_ngcontent-%COMP%]:hover{color:#9f13ebf7}.nam[_ngcontent-%COMP%]{color:azure}.car[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transition:.3s ease-in-out;transform:scale(1.1)}.adj[_ngcontent-%COMP%]{color:azure}.adj[_ngcontent-%COMP%]:hover{color:brown}.adj2[_ngcontent-%COMP%]:hover{background-color:#545156}.searchbar[_ngcontent-%COMP%]{margin-bottom:auto;margin-top:auto;height:60px;background-color:#353b48;border-radius:30px;padding:10px}.search_input[_ngcontent-%COMP%]{color:#fff;border:0;outline:0;background:none;width:0;caret-color:transparent;line-height:40px;transition:width .4s linear}.searchbar[_ngcontent-%COMP%]:hover > .search_input[_ngcontent-%COMP%]{padding:0 10px;width:450px;caret-color:red;transition:width .4s linear}.searchbar[_ngcontent-%COMP%]:hover > .search_icon[_ngcontent-%COMP%]{background:white;color:#e74c3c}.search_icon[_ngcontent-%COMP%]{height:40px;width:40px;float:right;display:flex;justify-content:center;align-items:center;border-radius:50%;color:#fff;text-decoration:none}.logreg[_ngcontent-%COMP%]{color:#f0f8ff}.logreg[_ngcontent-%COMP%]:hover{color:#9f13ebf7}"]}),Im=(0,zn.gn)([Wn()],Im);let g6=(()=>{class n{constructor(t){this.userService=t,this.users$=this.userService.CurrentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(fr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-side-nav"]],decls:16,vars:3,consts:[[1,"side-nav-content"],[1,"nav-list"],[1,"nav-list-item"],["routerLink","/categories"],[4,"ngIf"],["routerLink","/finished"],["routerLink","/unfinished"],["routerLink","/aboutus"],["routerLink","/users"],["routerLink","/reqlist"],["routerLink","/publish"],["routerLink","/customerreq"],["routerLink","/ordereditems"],["routerLink","/rejectedorders"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),i._uU(4,"Home"),i.qZA()(),i.YNc(5,p6,3,2,"ng-container",4),i.ALo(6,"async"),i.TgZ(7,"li",2)(8,"a",5),i._uU(9,"Finished"),i.qZA()(),i.TgZ(10,"li",2)(11,"a",6),i._uU(12,"Unfinished"),i.qZA()(),i.TgZ(13,"li",2)(14,"a",7),i._uU(15,"About Us"),i.qZA()()()()),2&t&&(i.xp6(5),i.Q6J("ngIf",i.lcZ(6,1,r.users$)))},dependencies:[kt,Zi,pi],styles:["[_nghost-%COMP%]{position:fixed;top:var(--headerHeight);left:0px;width:0px;height:calc(100vh - var(--headerHeight));overflow:hidden;word-wrap:break-word;z-index:1;background-color:#181818;border-top:1px solid white;transition:width .1s ease-in;box-shadow:5px 0 10px #00000080}.side-nav-opened[_nghost-%COMP%]{width:var(--sideNavOpenWidth)}.white-border[_ngcontent-%COMP%]{border:1px solid white}.side-nav-content[_ngcontent-%COMP%]{width:230px;margin-left:10px;margin-right:10px;margin-top:10px}.nav-list[_ngcontent-%COMP%]{height:100%;padding:0%;margin-bottom:0}.nav-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:50px;width:75%;margin:0 auto;color:#fff;cursor:pointer;font-size:1.2rem}.nav-list-item[_ngcontent-%COMP%]:hover{background-color:#fff3;border-radius:10px;font-size:1.3rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a.link-active[_ngcontent-%COMP%]{color:var(--Yellow700);font-weight:600;font-size:1.4rem}"]}),n})(),m6=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"name"]],template:function(t,r){1&t&&(i.TgZ(0,"footer")(1,"div",0),i._uU(2,"Publish Books"),i.qZA()())},styles:["[_nghost-%COMP%]{display:block;height:var(--headerHeight);border-top:1px solid rgba(0,0,0,.2)}footer[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#0000001a}.name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;font-style:italic;letter-spacing:1px}"]}),n})();const _6=function(n){return{"side-nav-opened":n}},y6=function(n){return{"main-shrink":n}};let v6=(()=>{class n{constructor(){this.title="PBOOKS",this.sideNavStatus=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-root"]],decls:10,vars:7,consts:[[3,"sideNavToggled"],[3,"ngClass"],[1,"display-area"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(t,r){1&t&&(i.TgZ(0,"app-header",0),i.NdJ("sideNavToggled",function(u){return r.sideNavStatus=u}),i.qZA(),i._UZ(1,"app-side-nav",1),i.TgZ(2,"main",1)(3,"div",2),i._UZ(4,"router-outlet"),i.qZA(),i._UZ(5,"app-footer"),i.qZA(),i._UZ(6,"ng-confirm"),i.TgZ(7,"ngx-spinner",3)(8,"p",4),i._uU(9," Loading... "),i.qZA()()),2&t&&(i.xp6(1),i.Q6J("ngClass",i.VKq(3,_6,r.sideNavStatus)),i.xp6(1),i.Q6J("ngClass",i.VKq(5,y6,r.sideNavStatus)),i.xp6(5),i.Q6J("fullScreen",!0))},dependencies:[cn,m,PL,UV,Im,g6,m6],styles:[".black-border[_ngcontent-%COMP%]{border:1px solid black}main[_ngcontent-%COMP%]{position:absolute;top:var(--headerHeight);left:0px;width:calc(100% + -0px);min-height:calc(100vh - var(--headerHeight));transition:left .1s ease-in,width .1s ease-in;z-index:1}.main-shrink[_ngcontent-%COMP%]{left:var(--sideNavOpenWidth);width:calc(100% - var(--sideNavOpenWidth))}.display-area[_ngcontent-%COMP%]{width:95%;min-height:calc(100vh - (2 * var(--headerHeight)) - 1rem);margin:1rem auto}"]}),n})();function cR(n){return new i.vHH(3e3,!1)}function eZ(){return typeof window<"u"&&typeof window.document<"u"}function ix(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rf(n){switch(n.length){case 0:return new mw;case 1:return n[0];default:return new YP(n)}}function uR(n,e,t,r,s=new Map,u=new Map){const d=[],f=[];let _=-1,w=null;if(r.forEach(A=>{const x=A.get("offset"),F=x==_,U=F&&w||new Map;A.forEach((B,re)=>{let he=re,Ze=B;if("offset"!==re)switch(he=e.normalizePropertyName(he,d),Ze){case"!":Ze=s.get(re);break;case Xd:Ze=u.get(re);break;default:Ze=e.normalizeStyleValue(re,he,Ze,d)}U.set(he,Ze)}),F||f.push(U),w=U,_=x}),d.length)throw function j6(n){return new i.vHH(3502,!1)}();return f}function sx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ox(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ox(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ox(t,"destroy",n)))}}function ox(n,e,t){const u=ax(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function ax(n,e,t,r,s="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!d}}function Wo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function lR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let cx=(n,e)=>!1,dR=(n,e,t)=>[],hR=null;function ux(n){const e=n.parentNode||n.host;return e===hR?null:e}(ix()||typeof Element<"u")&&(eZ()?(hR=(()=>document.documentElement)(),cx=(n,e)=>{for(;e;){if(e===n)return!0;e=ux(e)}return!1}):cx=(n,e)=>n.contains(e),dR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Am=null,fR=!1;const pR=cx,gR=dR;let mR=(()=>{class n{validateStyleProperty(t){return function nZ(n){Am||(Am=function rZ(){return typeof document<"u"?document.body:null}()||{},fR=!!Am.style&&"WebkitAppearance"in Am.style);let e=!0;return Am.style&&!function tZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Am.style,!e&&fR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Am.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return pR(t,r)}getParentElement(t){return ux(t)}query(t,r,s){return gR(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,d,f=[],_){return new mw(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),lx=(()=>{class n{}return n.NOOP=new mR,n})();const dx="ng-enter",qI="ng-leave",$I="ng-trigger",HI=".ng-trigger",yR="ng-animating",hx=".ng-animating";function Nf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fx(parseFloat(e[1]),e[2])}function fx(n,e){return"s"===e?1e3*n:n}function GI(n,e,t){return n.hasOwnProperty("duration")?n:function oZ(n,e,t){let s,u=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(cR()),{duration:0,delay:0,easing:""};s=fx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(u=fx(parseFloat(_),f[4]));const w=f[5];w&&(d=w)}else s=n;if(!t){let f=!1,_=e.length;s<0&&(e.push(function b6(){return new i.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function w6(){return new i.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,cR())}return{duration:s,delay:u,easing:d}}(n,e,t)}function Aw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vR(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ff(n,e=new Map,t){if(t)for(let[r,s]of t)e.set(r,s);for(let[r,s]of n)e.set(r,s);return e}function wR(n,e,t){return t?e+":"+t+";":""}function CR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wR(0,lZ(t),n.style[t]));n.setAttribute("style",e)}function bl(n,e,t){n.style&&(e.forEach((r,s)=>{const u=gx(s);t&&!t.has(s)&&t.set(s,n.style[u]),n.style[u]=r}),ix()&&CR(n))}function Dm(n,e){n.style&&(e.forEach((t,r)=>{const s=gx(r);n.style[s]=""}),ix()&&CR(n))}function Dw(n){return Array.isArray(n)?1==n.length?n[0]:zP(n):n}const px=new RegExp("{{\\s*(.+?)\\s*}}","g");function ER(n){let e=[];if("string"==typeof n){let t;for(;t=px.exec(n);)e.push(t[1]);px.lastIndex=0}return e}function zI(n,e,t){const r=n.toString(),s=r.replace(px,(u,d)=>{let f=e[d];return null==f&&(t.push(function E6(n){return new i.vHH(3003,!1)}()),f=""),f.toString()});return s==r?n:s}function WI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const uZ=/-+([a-z0-9])/g;function gx(n){return n.replace(uZ,(...e)=>e[1].toUpperCase())}function lZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function T6(n){return new i.vHH(3004,!1)}()}}function TR(n,e){return window.getComputedStyle(n)[e]}function mZ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function _Z(n,e,t){if(":"==n[0]){const _=function yZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function U6(n){return new i.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function L6(n){return new i.vHH(3015,!1)}()),e;const s=r[1],u=r[2],d=r[3];e.push(IR(s,d));"<"==u[0]&&!("*"==s&&"*"==d)&&e.push(IR(d,s))}(r,t,e)):t.push(n),t}const JI=new Set(["true","1"]),XI=new Set(["false","0"]);function IR(n,e){const t=JI.has(n)||XI.has(n),r=JI.has(e)||XI.has(e);return(s,u)=>{let d="*"==n||n==s,f="*"==e||e==u;return!d&&t&&"boolean"==typeof s&&(d=s?JI.has(n):XI.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?JI.has(e):XI.has(e)),d&&f}}const vZ=new RegExp("s*:selfs*,?","g");function mx(n,e,t,r){return new bZ(n).build(e,t,r)}class bZ{constructor(e){this._driver=e}build(e,t,r){const s=new EZ(t);return this._resetContextStyleTimingState(s),Ko(this,Dw(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function A6(){return new i.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(A=>{_.name=A,u.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,s+=_.depCount,d.push(_)}else t.errors.push(function D6(){return new i.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=s||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{ER(_).forEach(w=>{d.hasOwnProperty(w)||u.add(w)})})}),u.size&&(WI(u.values()),t.errors.push(function S6(n,e){return new i.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ko(this,Dw(e.animation),t);return{type:1,matchers:mZ(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Sm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ko(this,r,t)),options:Sm(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(d=>{t.currentTime=r;const f=Ko(this,d,t);return s=Math.max(s,t.currentTime),f});return t.currentTime=s,{type:3,steps:u,options:Sm(e.options)}}visitAnimate(e,t){const r=function IZ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return _x(GI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=_x(0,0,"");return u.dynamic=!0,u.strValue=t,u}const s=GI(t,e);return _x(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:gw({});if(5==u.type)s=this.visitKeyframes(u,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=gw(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,s=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of s)"string"==typeof f?f===Xd?r.push(f):t.errors.push(new i.vHH(3002,!1)):r.push(vR(f));let u=!1,d=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!u))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),A=w.get(_);let x=!0;A&&(u!=s&&u>=A.startTime&&s<=A.endTime&&(t.errors.push(function M6(n,e,t,r,s){return new i.vHH(3010,!1)}()),x=!1),u=A.startTime),x&&w.set(_,{startTime:u,endTime:s}),t.options&&function cZ(n,e,t){const r=e.params||{},s=ER(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(function C6(n){return new i.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function O6(){return new i.vHH(3011,!1)}()),r;let u=0;const d=[];let f=!1,_=!1,w=0;const A=e.steps.map(Ze=>{const Ke=this._makeStyleAst(Ze,t);let Qe=null!=Ke.offset?Ke.offset:function TZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),Ge=0;return null!=Qe&&(u++,Ge=Ke.offset=Qe),_=_||Ge<0||Ge>1,f=f||Ge<w,w=Ge,d.push(Ge),Ke});_&&t.errors.push(function P6(){return new i.vHH(3012,!1)}()),f&&t.errors.push(function k6(){return new i.vHH(3200,!1)}());const x=e.steps.length;let F=0;u>0&&u<x?t.errors.push(function R6(){return new i.vHH(3202,!1)}()):0==u&&(F=1/(x-1));const U=x-1,B=t.currentTime,re=t.currentAnimateTimings,he=re.duration;return A.forEach((Ze,Ke)=>{const Qe=F>0?Ke==U?1:F*Ke:d[Ke],Ge=Qe*he;t.currentTime=B+re.delay+Ge,re.duration=Ge,this._validateStyleAst(Ze,t),Ze.offset=Qe,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:Ko(this,Dw(e.animation),t),options:Sm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function wZ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(vZ,"")),n=n.replace(/@\*/g,HI).replace(/@\w+/g,t=>HI+"-"+t.slice(1)).replace(/:animating/g,hx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Wo(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ko(this,Dw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Sm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function N6(){return new i.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:GI(e.timings,t.errors,!0);return{type:12,animation:Ko(this,Dw(e.animation),t),timings:r,options:null}}}class EZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sm(n){return n?(n=Aw(n)).params&&(n.params=function CZ(n){return n?Aw(n):null}(n.params)):n={},n}function _x(n,e,t){return{duration:n,delay:e,easing:t}}function yx(n,e,t,r,s,u,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:d,subTimeline:f}}class eA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const SZ=new RegExp(":enter","g"),MZ=new RegExp(":leave","g");function vx(n,e,t,r,s,u=new Map,d=new Map,f,_,w=[]){return(new OZ).buildKeyframes(n,e,t,r,s,u,d,f,_,w)}class OZ{buildKeyframes(e,t,r,s,u,d,f,_,w,A=[]){w=w||new eA;const x=new bx(e,t,w,s,u,A,[]);x.options=_;const F=_.delay?Nf(_.delay):0;x.currentTimeline.delayNextStep(F),x.currentTimeline.setStyles([d],null,x.errors,_),Ko(this,r,x);const U=x.timelines.filter(B=>B.containsAnimation());if(U.length&&f.size){let B;for(let re=U.length-1;re>=0;re--){const he=U[re];if(he.element===t){B=he;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,x.errors,_)}return U.length?U.map(B=>B.buildKeyframes()):[yx(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,s,s.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?Nf(r.duration):null,f=null!=r.delay?Nf(r.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,f);u=Math.max(u,w.duration+w.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=tA);const d=Nf(u.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Ko(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Nf(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Ko(this,d,f),s=Math.max(s,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return GI(t.params?zI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*u),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?Nf(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tA);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,A)=>{t.currentQueryIndex=A;const x=t.createSubContext(e.options,w);u&&x.delayNextStep(u),w===t.element&&(_=x.currentTimeline),Ko(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const A=t.currentTimeline;_&&A.delayNextStep(_);const x=A.currentTime;Ko(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-x+(s.startTime-r.currentTimeline.startTime)}}const tA={};class bx{constructor(e,t,r,s,u,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new nA(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=Nf(r.duration)),null!=r.delay&&(s.delay=Nf(r.delay));const u=r.params;if(u){let d=s.params;d||(d=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=zI(u[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new bx(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=tA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new PZ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,d){let f=[];if(s&&f.push(this.element),e.length>0){e=(e=e.replace(SZ,"."+this._enterClassName)).replace(MZ,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!u&&0==f.length&&d.push(function F6(n){return new i.vHH(3014,!1)}()),f}}class nA{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xd),this._currentKeyframe.set(t,Xd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);const u=s&&s.params||{},d=function kZ(n,e){const t=new Map;let r;return n.forEach(s=>{if("*"===s){r=r||e.keys();for(let u of r)t.set(u,Xd)}else Ff(s,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of d){const w=zI(_,u,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Xd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((f,_)=>{const w=Ff(f,new Map,this._backFill);w.forEach((A,x)=>{"!"===A?e.add(x):A===Xd&&t.add(x)}),r||w.set("offset",_/this.duration),s.push(w)});const u=e.size?WI(e.values()):[],d=t.size?WI(t.values()):[];if(r){const f=s[0],_=new Map(f);f.set("offset",0),_.set("offset",1),s=[f,_]}return yx(this.element,s,u,d,this.duration,this.startTime,this.easing,!1)}}class PZ extends nA{constructor(e,t,r,s,u,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,f=t/d,_=Ff(e[0]);_.set("offset",0),u.push(_);const w=Ff(e[0]);w.set("offset",SR(f)),u.push(w);const A=e.length-1;for(let x=1;x<=A;x++){let F=Ff(e[x]);const U=F.get("offset");F.set("offset",SR((t+U*r)/d)),u.push(F)}r=d,t=0,s="",e=u}return yx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function SR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wx{}const RZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NZ extends wx{normalizePropertyName(e,t){return gx(e)}normalizeStyleValue(e,t,r,s){let u="";const d=r.toString().trim();if(RZ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&s.push(function I6(n,e){return new i.vHH(3005,!1)}())}return d+u}}function xR(n,e,t,r,s,u,d,f,_,w,A,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:A,totalTime:x,errors:F}}const Cx={};class MR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function FZ(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,u,d,f,_,w,A){const x=[],F=this.ast.options&&this.ast.options.params||Cx,B=this.buildStyles(r,f&&f.params||Cx,x),re=_&&_.params||Cx,he=this.buildStyles(s,re,x),Ze=new Set,Ke=new Map,Qe=new Map,Ge="void"===s,_t={params:LZ(re,F),delay:this.ast.options?.delay},vt=A?[]:vx(e,t,this.ast.animation,u,d,B,he,_t,w,x);let Wt=0;if(vt.forEach(Yo=>{Wt=Math.max(Yo.duration+Yo.delay,Wt)}),x.length)return xR(t,this._triggerName,r,s,Ge,B,he,[],[],Ke,Qe,Wt,x);vt.forEach(Yo=>{const eh=Yo.element,GR=Wo(Ke,eh,new Set);Yo.preStyleProps.forEach(xm=>GR.add(xm));const xw=Wo(Qe,eh,new Set);Yo.postStyleProps.forEach(xm=>xw.add(xm)),eh!==t&&Ze.add(eh)});const Ur=WI(Ze.values());return xR(t,this._triggerName,r,s,Ge,B,he,vt,Ur,Ke,Qe,Wt)}}function LZ(n,e){const t=Aw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class UZ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,s=Aw(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!==d&&(s[u]=d)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((d,f)=>{d&&(d=zI(d,s,t));const _=this.normalizer.normalizePropertyName(f,t);d=this.normalizer.normalizeStyleValue(f,_,d,t),r.set(_,d)})}),r}}class BZ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new UZ(s.style,s.options&&s.options.params||{},r))}),OR(this.states,"true","1"),OR(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new MR(e,s,this.states))}),this.fallbackTransition=function ZZ(n,e,t){return new MR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(d=>d.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OR(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const jZ=new eA;class qZ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=mx(this._driver,t,r,[]);if(r.length)throw function q6(n){return new i.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const s=e.element,u=uR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations.get(e);let d;const f=new Map;if(u?(d=vx(this._driver,t,u,dx,qI,new Map,new Map,r,jZ,s),d.forEach(A=>{const x=Wo(f,A.element,new Map);A.postStyleProps.forEach(F=>x.set(F,null))})):(s.push(function $6(){return new i.vHH(3300,!1)}()),d=[]),s.length)throw function H6(n){return new i.vHH(3504,!1)}();f.forEach((A,x)=>{A.forEach((F,U)=>{A.set(U,this._driver.computeStyle(x,U,Xd))})});const w=Rf(d.map(A=>{const x=f.get(A.element);return this._buildPlayer(A,new Map,x)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function G6(n){return new i.vHH(3301,!1)}();return t}listen(e,t,r,s){const u=ax(t,"","","");return sx(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const PR="ng-animate-queued",Ex="ng-animate-disabled",WZ=[],kR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class Tx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function XZ(n){return n??null}(r?e.value:e),r){const u=Aw(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const Sw="void",Ix=new Tx(Sw);class YZ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qa(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw function z6(n,e){return new i.vHH(3302,!1)}();if(null==r||0==r.length)throw function W6(n){return new i.vHH(3303,!1)}();if(!function ej(n){return"start"==n||"done"==n}(r))throw function K6(n,e){return new i.vHH(3400,!1)}();const u=Wo(this._elementListeners,e,[]),d={name:t,phase:r,callback:s};u.push(d);const f=Wo(this._engine.statesByElement,e,new Map);return f.has(t)||(qa(e,$I),qa(e,$I+"-"+t),f.set(t,Ix)),()=>{this._engine.afterFlush(()=>{const _=u.indexOf(d);_>=0&&u.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Y6(n){return new i.vHH(3401,!1)}();return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),d=new Ax(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(qa(e,$I),qa(e,$I+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new Tx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=Ix),w.value!==Sw&&_.value===w.value){if(!function rj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(_.params,w.params)){const re=[],he=u.matchStyles(_.value,_.params,re),Ze=u.matchStyles(w.value,w.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{Dm(e,he),bl(e,Ze)})}return}const F=Wo(this._engine.playersByElement,e,[]);F.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let U=u.matchTransition(_.value,w.value,e,w.params),B=!1;if(!U){if(!s)return;U=u.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:w,player:d,isFallbackTransition:B}),B||(qa(e,PR),d.onStart(()=>{iv(e,PR)})),d.onDone(()=>{let re=this.players.indexOf(d);re>=0&&this.players.splice(re,1);const he=this._engine.playersByElement.get(e);if(he){let Ze=he.indexOf(d);Ze>=0&&he.splice(Ze,1)}}),this.players.push(d),F.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,HI,!0);r.forEach(s=>{if(s[ja])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const f=[];if(u.forEach((_,w)=>{if(d.set(w,_.value),this._triggers.has(w)){const A=this.trigger(e,w,Sw,s);A&&f.push(A)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Rf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const d=u.name;if(s.has(d))return;s.add(d);const _=this._triggers.get(d).fallbackTransition,w=r.get(d)||Ix,A=new Tx(Sw),x=new Ax(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:A,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ja];(!u||u===kR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){qa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=ax(u,r.triggerName,r.fromState.value,r.toState.value);_._data=e,sx(r.player,f.phase,_,f.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,d=s.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class QZ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new YZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,f=this.driver.getParentElement(t);for(;f;){const _=s.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}d||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let s of r.values())if(s.namespaceId){const u=this._fetchNamespace(s.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,s){if(rA(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!rA(t))return;const u=t[ja];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qa(e,Ex)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),iv(e,Ex))}removeNode(e,t,r,s){if(rA(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[ja]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return rA(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,HI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,hx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ja];if(t&&t.setForRemoval){if(e[ja]=kR,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ex)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)qa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Rf(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function Q6(n){return new i.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new eA,s=[],u=new Map,d=[],f=new Map,_=new Map,w=new Map,A=new Set;this.disabledNodes.forEach(dt=>{A.add(dt);const At=this.driver.query(dt,".ng-animate-queued",!0);for(let Pt=0;Pt<At.length;Pt++)A.add(At[Pt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),U=FR(F,this.collectedEnterElements),B=new Map;let re=0;U.forEach((dt,At)=>{const Pt=dx+re++;B.set(At,Pt),dt.forEach(pn=>qa(pn,Pt))});const he=[],Ze=new Set,Ke=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const At=this.collectedLeaveElements[dt],Pt=At[ja];Pt&&Pt.setForRemoval&&(he.push(At),Ze.add(At),Pt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(pn=>Ze.add(pn)):Ke.add(At))}const Qe=new Map,Ge=FR(F,Array.from(Ze));Ge.forEach((dt,At)=>{const Pt=qI+re++;Qe.set(At,Pt),dt.forEach(pn=>qa(pn,Pt))}),e.push(()=>{U.forEach((dt,At)=>{const Pt=B.get(At);dt.forEach(pn=>iv(pn,Pt))}),Ge.forEach((dt,At)=>{const Pt=Qe.get(At);dt.forEach(pn=>iv(pn,Pt))}),he.forEach(dt=>{this.processLeaveNode(dt)})});const _t=[],vt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Pt=>{const pn=Pt.player,Ai=Pt.element;if(_t.push(pn),this.collectedEnterElements.length){const ps=Ai[ja];if(ps&&ps.setForMove){if(ps.previousTriggersValues&&ps.previousTriggersValues.has(Pt.triggerName)){const Mm=ps.previousTriggersValues.get(Pt.triggerName),$a=this.statesByElement.get(Pt.element);if($a&&$a.has(Pt.triggerName)){const oA=$a.get(Pt.triggerName);oA.value=Mm,$a.set(Pt.triggerName,oA)}}return void pn.destroy()}}const wl=!x||!this.driver.containsElement(x,Ai),Qo=Qe.get(Ai),Lf=B.get(Ai),Er=this._buildInstruction(Pt,r,Lf,Qo,wl);if(Er.errors&&Er.errors.length)return void vt.push(Er);if(wl)return pn.onStart(()=>Dm(Ai,Er.fromStyles)),pn.onDestroy(()=>bl(Ai,Er.toStyles)),void s.push(pn);if(Pt.isFallbackTransition)return pn.onStart(()=>Dm(Ai,Er.fromStyles)),pn.onDestroy(()=>bl(Ai,Er.toStyles)),void s.push(pn);const KR=[];Er.timelines.forEach(ps=>{ps.stretchStartingKeyframe=!0,this.disabledNodes.has(ps.element)||KR.push(ps)}),Er.timelines=KR,r.append(Ai,Er.timelines),d.push({instruction:Er,player:pn,element:Ai}),Er.queriedElements.forEach(ps=>Wo(f,ps,[]).push(pn)),Er.preStyleProps.forEach((ps,Mm)=>{if(ps.size){let $a=_.get(Mm);$a||_.set(Mm,$a=new Set),ps.forEach((oA,xx)=>$a.add(xx))}}),Er.postStyleProps.forEach((ps,Mm)=>{let $a=w.get(Mm);$a||w.set(Mm,$a=new Set),ps.forEach((oA,xx)=>$a.add(xx))})});if(vt.length){const dt=[];vt.forEach(At=>{dt.push(function J6(n,e){return new i.vHH(3505,!1)}())}),_t.forEach(At=>At.destroy()),this.reportError(dt)}const Wt=new Map,Ur=new Map;d.forEach(dt=>{const At=dt.element;r.has(At)&&(Ur.set(At,At),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Wt))}),s.forEach(dt=>{const At=dt.element;this._getPreviousPlayers(At,!1,dt.namespaceId,dt.triggerName,null).forEach(pn=>{Wo(Wt,At,[]).push(pn),pn.destroy()})});const Yo=he.filter(dt=>UR(dt,_,w)),eh=new Map;NR(eh,this.driver,Ke,w,Xd).forEach(dt=>{UR(dt,_,w)&&Yo.push(dt)});const xw=new Map;U.forEach((dt,At)=>{NR(xw,this.driver,new Set(dt),_,"!")}),Yo.forEach(dt=>{const At=eh.get(dt),Pt=xw.get(dt);eh.set(dt,new Map([...Array.from(At?.entries()??[]),...Array.from(Pt?.entries()??[])]))});const xm=[],zR=[],WR={};d.forEach(dt=>{const{element:At,player:Pt,instruction:pn}=dt;if(r.has(At)){if(A.has(At))return Pt.onDestroy(()=>bl(At,pn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(pn.totalTime),void s.push(Pt);let Ai=WR;if(Ur.size>1){let Qo=At;const Lf=[];for(;Qo=Qo.parentNode;){const Er=Ur.get(Qo);if(Er){Ai=Er;break}Lf.push(Qo)}Lf.forEach(Er=>Ur.set(Er,Ai))}const wl=this._buildAnimation(Pt.namespaceId,pn,Wt,u,xw,eh);if(Pt.setRealPlayer(wl),Ai===WR)xm.push(Pt);else{const Qo=this.playersByElement.get(Ai);Qo&&Qo.length&&(Pt.parentPlayer=Rf(Qo)),s.push(Pt)}}else Dm(At,pn.fromStyles),Pt.onDestroy(()=>bl(At,pn.toStyles)),zR.push(Pt),A.has(At)&&s.push(Pt)}),zR.forEach(dt=>{const At=u.get(dt.element);if(At&&At.length){const Pt=Rf(At);dt.setRealPlayer(Pt)}}),s.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<he.length;dt++){const At=he[dt],Pt=At[ja];if(iv(At,qI),Pt&&Pt.hasAnimation)continue;let pn=[];if(f.size){let wl=f.get(At);wl&&wl.length&&pn.push(...wl);let Qo=this.driver.query(At,hx,!0);for(let Lf=0;Lf<Qo.length;Lf++){let Er=f.get(Qo[Lf]);Er&&Er.length&&pn.push(...Er)}}const Ai=pn.filter(wl=>!wl.destroyed);Ai.length?tj(this,At,Ai):this.processLeaveNode(At)}return he.length=0,xm.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const At=this.players.indexOf(dt);this.players.splice(At,1)}),dt.play()}),xm}elementContainsData(e,t){let r=!1;const s=t[ja];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!u||u==Sw;f.forEach(w=>{w.queued||!_&&w.triggerName!=s||d.push(w)})}}return(r||s)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||s&&s!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,A=w!==u,x=Wo(r,w,[]);this._getPreviousPlayers(w,A,d,f,t.toState).forEach(U=>{const B=U.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),U.destroy(),x.push(U)})}Dm(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,d){const f=t.triggerName,_=t.element,w=[],A=new Set,x=new Set,F=t.timelines.map(B=>{const re=B.element;A.add(re);const he=re[ja];if(he&&he.removedBeforeQueried)return new mw(B.duration,B.delay);const Ze=re!==_,Ke=function nj(n){const e=[];return LR(n,e),e}((r.get(re)||WZ).map(Wt=>Wt.getRealPlayer())).filter(Wt=>!!Wt.element&&Wt.element===re),Qe=u.get(re),Ge=d.get(re),_t=uR(0,this._normalizer,0,B.keyframes,Qe,Ge),vt=this._buildPlayer(B,_t,Ke);if(B.subTimeline&&s&&x.add(re),Ze){const Wt=new Ax(e,f,re);Wt.setRealPlayer(vt),w.push(Wt)}return vt});w.forEach(B=>{Wo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function JZ(n,e,t){let r=n.get(e);if(r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,B.element,B))}),A.forEach(B=>qa(B,yR));const U=Rf(F);return U.onDestroy(()=>{A.forEach(B=>iv(B,yR)),bl(_,t.toStyles)}),x.forEach(B=>{Wo(s,B,[]).push(U)}),U}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mw(e.duration,e.delay)}}class Ax{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>sx(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rA(n){return n&&1===n.nodeType}function RR(n,e){const t=n.style.display;return n.style.display=e??"none",t}function NR(n,e,t,r,s){const u=[];t.forEach(_=>u.push(RR(_)));const d=[];r.forEach((_,w)=>{const A=new Map;_.forEach(x=>{const F=e.computeStyle(w,x,s);A.set(x,F),(!F||0==F.length)&&(w[ja]=KZ,d.push(w))}),n.set(w,A)});let f=0;return t.forEach(_=>RR(_,u[f++])),d}function FR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const s=new Set(e),u=new Map;function d(f){if(!f)return 1;let _=u.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:s.has(w)?1:d(w),u.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function qa(n,e){n.classList?.add(e)}function iv(n,e){n.classList?.remove(e)}function tj(n,e,t){Rf(t).onDone(()=>n.processLeaveNode(e))}function LR(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof YP?LR(r.players,e):e.push(r)}}function UR(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class iA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new QZ(e,t,r),this._timelineEngine=new qZ(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const d=e+"-"+s;let f=this._triggerCache[d];if(!f){const _=[],A=mx(this._driver,u,_,[]);if(_.length)throw function Z6(n,e){return new i.vHH(3404,!1)}();f=function VZ(n,e,t){return new BZ(n,e,t)}(s,A,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,s,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,d]=lR(r);this._timelineEngine.command(u,t,d,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[d,f]=lR(r);return this._timelineEngine.listen(d,t,f,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sj=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bl(this._element,this._initialStyles),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dm(this._element,this._endStyles),this._endStyles=null),bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Dx(n){let e=null;return n.forEach((t,r)=>{(function oj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class VR{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&e.set(s,this._finished?r:TR(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return pR(e,t)}getParentElement(e){return ux(e)}query(e,t,r){return gR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,u,d=[]){const _={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(_.easing=u);const w=new Map,A=d.filter(U=>U instanceof VR);(function dZ(n,e){return 0===n||0===e})(r,s)&&A.forEach(U=>{U.currentSnapshot.forEach((B,re)=>w.set(re,B))});let x=function aZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>vR(e)):[]}(t).map(U=>Ff(U));x=function hZ(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((u,d)=>{r.has(d)||s.push(d),r.set(d,u)}),s.length)for(let u=1;u<e.length;u++){let d=e[u];s.forEach(f=>d.set(f,TR(n,f)))}}return e}(e,x,w);const F=function ij(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Dx(e[0]),e.length>1&&(r=Dx(e[e.length-1]))):e instanceof Map&&(t=Dx(e)),t||r?new sj(n,t,r):null}(e,x);return new VR(e,x,_,F)}}let cj=(()=>{class n extends HP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?zP(t):t;return BR(this._renderer,null,r,"register",[s]),new uj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(ue))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class uj extends class DV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new lj(this._id,e,t||{},this._renderer)}}class lj{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return BR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BR(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const ZR="@.disabled";let dj=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const f=d?.parentNode(u);f&&d.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new jR("",u,this.engine),this._rendererCache.set(u,A)),A}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=A=>{Array.isArray(A)?A.forEach(_):this.engine.registerTrigger(d,f,t,A.name,A)};return r.data.animation.forEach(_),new hj(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,f]=u;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(iA),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class jR{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ZR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hj extends jR{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ZR?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function fj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),d="";return"@"!=u.charAt(0)&&([u,d]=function pj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let gj=(()=>{class n extends iA{constructor(t,r,s,u){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(ue),i.LFG(lx),i.LFG(wx),i.LFG(i.z2F))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const qR=[{provide:HP,useClass:cj},{provide:wx,useFactory:function mj(){return new NZ}},{provide:iA,useClass:gj},{provide:i.FYo,useFactory:function _j(n,e,t){return new dj(n,e,t)},deps:[Io,iA,i.R0b]}],Sx=[{provide:lx,useFactory:()=>new aj},{provide:i.QbO,useValue:"BrowserAnimations"},...qR],$R=[{provide:lx,useClass:mR},{provide:i.QbO,useValue:"NoopAnimations"},...qR];let yj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$R:Sx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:Sx,imports:[wu]}),n})();const HR_firebase={apiKey:"AIzaSyB6No5SQtAKpUZnTRta3DtEj3hV5CnPLqk",authDomain:"college-project-34aea.firebaseapp.com",projectId:"college-project-34aea",storageBucket:"college-project-34aea.appspot.com",messagingSenderId:"939692364398",appId:"1:939692364398:web:08903267d98e12a97d8c7f"};let vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[v6]}),n.\u0275inj=i.cJS({providers:[Cr],imports:[wu,$B,nR,k3,yj,ji.hO.initializeApp(HR_firebase),b2.forRoot(),vL,uV,kL,VV]}),n})();(0,i.G48)(),bu().bootstrapModule(vj).catch(n=>console.error(n))},5867:(ut,Ae,R)=>{R.d(Ae,{C6:()=>i.getApps,Mq:()=>i.getApp});var i=R(9681);(0,i.registerVersion)("firebase","9.10.0","app")},127:(ut,Ae,R)=>{R.d(Ae,{Z:()=>i.Z});var i=R(3942);i.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(ut,Ae,R)=>{R.r(Ae);var i=R(5861),ee=R(3942),k=R(2090),ce=R(9681),se=R(655),fe=R(1877),ue=R(4859);const we=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new fe.Yd("@firebase/auth");function ot(y,...p){Je.logLevel<=fe.in.ERROR&&Je.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw je(y,...p)}function be(y,...p){return je(y,...p)}function Te(y,p,m){const b=Object.assign(Object.assign({},rt()),{[p]:m});return new k.LL("auth","Firebase",b).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Se(y,"argument-error"),Te(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ye.create(y,...p)}function Z(y,p,...m){if(!y)throw je(p,...m)}function _e(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ot(p),new Error(p)}function Y(y,p){y||_e(p)}const X=new Map;function oe(y){Y(y instanceof Function,"Expected a class definition");let p=X.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,X.set(y,p),p)}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class hn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class en{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new hn(3e4,6e4);function Zt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function dn(y,p,m,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,i.Z)(function*(y,p,m,b,S={}){return Kr(y,S,(0,i.Z)(function*(){let P={},W={};b&&("GET"===p?W=b:P={body:JSON.stringify(b)});const le=(0,k.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),en.fetch()(Wi(y,y.config.apiHost,m,le),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Kr(y,p,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,i.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),p);try{const S=new Qr(y),P=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const W=yield P.json();if("needConfirmation"in W)throw Di(y,"account-exists-with-different-credential",W);if(P.ok&&!("errorMessage"in W))return W;{const le=P.ok?W.errorMessage:W.error.message,[Le,et]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Di(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Le)throw Di(y,"email-already-in-use",W);if("USER_DISABLED"===Le)throw Di(y,"user-disabled",W);const Ct=b[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Te(y,Ct,et);Se(y,Ct)}}catch(S){if(S instanceof k.ZR)throw S;Se(y,"network-request-failed")}})).apply(this,arguments)}function Yr(y,p,m,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,i.Z)(function*(y,p,m,b,S={}){const P=yield dn(y,p,m,b,S);return"mfaPendingCredential"in P&&Se(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Wi(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Ln(y.config,S):`${y.config.apiScheme}://${S}`}class Qr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=be(y,p,b);return S.customData._tokenResponse=m,S}function Ye(){return(Ye=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Jr(y,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Un(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function di(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function yn(){return(yn=(0,i.Z)(function*(y,p=!1){const m=(0,k.m9)(y),b=yield m.getIdToken(p),S=lt(b);Z(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,W=P?.sign_in_provider;return{claims:S,token:b,authTime:di(mt(S.auth_time)),issuedAtTime:di(mt(S.iat)),expirationTime:di(mt(S.exp)),signInProvider:W||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function mt(y){return 1e3*Number(y)}function lt(y){var p;const[m,b,S]=y.split(".");if(void 0===m||void 0===b||void 0===S)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,k.tV)(b);return P?JSON.parse(P):(ot("Failed to decode base64 JWT payload"),null)}catch(P){return ot("Caught error parsing JWT payload as JSON",null===(p=P)||void 0===p?void 0:p.toString()),null}}function pr(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,i.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&Br(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Br({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Dt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,i.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class ms{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nn(y){return hi.apply(this,arguments)}function hi(){return(hi=(0,i.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield pr(y,Un(m,{idToken:b}));Z(S?.users.length,m,"internal-error");const P=S.users[0];y._notifyReloadListener(P);const W=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?V(P.providerUserInfo):[],le=q(y.providerData,W),Ct=!!y.isAnonymous&&!(y.email&&P.passwordHash||le?.length),ft={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:le,metadata:new ms(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(y,ft)})).apply(this,arguments)}function K(){return(K=(0,i.Z)(function*(y){const p=(0,k.m9)(y);yield nn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function q(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function V(y){return y.map(p=>{var{providerId:m}=p,b=(0,se._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function z(){return(z=(0,i.Z)(function*(y,p){const m=yield Kr(y,{},(0,i.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=y.config,W=Wi(y,S,"/v1/token",`key=${P}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(W,{method:"POST",headers:le,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Z(p.idToken,"internal-error"),Z(typeof p.idToken<"u","internal-error"),Z(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(y){const p=lt(y);return Z(p,"internal-error"),Z(typeof p.exp<"u","internal-error"),Z(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,i.Z)(function*(){return Z(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,i.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:W}=yield function H(y,p){return z.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,P,Number(W))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:P}=m,W=new Ie;return b&&(Z("string"==typeof b,"internal-error",{appName:p}),W.refreshToken=b),S&&(Z("string"==typeof S,"internal-error",{appName:p}),W.accessToken=S),P&&(Z("number"==typeof P,"internal-error",{appName:p}),W.expirationTime=P),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Ve(y,p){Z("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class ct{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,P=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new ms(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,i.Z)(function*(){const b=yield pr(m,m.stsTokenManager.getToken(m.auth,p));return Z(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function nr(y){return yn.apply(this,arguments)}(this,p)}reload(){return function Qt(y){return K.apply(this,arguments)}(this)}_assign(p){this!==p&&(Z(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ct(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,i.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield nn(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,i.Z)(function*(){const m=yield p.getIdToken();return yield pr(p,function Jo(y,p){return Ye.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,P,W,le,Le,et,Ct;const ft=null!==(b=m.displayName)&&void 0!==b?b:void 0,wr=null!==(S=m.email)&&void 0!==S?S:void 0,Ds=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,ld=null!==(W=m.photoURL)&&void 0!==W?W:void 0,dd=null!==(le=m.tenantId)&&void 0!==le?le:void 0,$r=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,lp=null!==(et=m.createdAt)&&void 0!==et?et:void 0,Pu=null!==(Ct=m.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:hd,emailVerified:Av,isAnonymous:o_,providerData:Ta,stsTokenManager:Dv}=m;Z(hd&&Dv,p,"internal-error");const Nw=Ie.fromJSON(this.name,Dv);Z("string"==typeof hd,p,"internal-error"),Ve(ft,p.name),Ve(wr,p.name),Z("boolean"==typeof Av,p,"internal-error"),Z("boolean"==typeof o_,p,"internal-error"),Ve(Ds,p.name),Ve(ld,p.name),Ve(dd,p.name),Ve($r,p.name),Ve(lp,p.name),Ve(Pu,p.name);const Dc=new ct({uid:hd,auth:p,email:wr,emailVerified:Av,displayName:ft,isAnonymous:o_,photoURL:ld,phoneNumber:Ds,tenantId:dd,stsTokenManager:Nw,createdAt:lp,lastLoginAt:Pu});return Ta&&Array.isArray(Ta)&&(Dc.providerData=Ta.map(Ph=>Object.assign({},Ph))),$r&&(Dc._redirectEventId=$r),Dc}static _fromIdTokenResponse(p,m,b=!1){return(0,i.Z)(function*(){const S=new Ie;S.updateFromServerResponse(m);const P=new ct({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield nn(P),P})()}}const rn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,i.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,i.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,i.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function rr(y,p,m){return`firebase:${y}:${p}:${m}`}class qt{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:P}=this.auth;this.fullUserKey=rr(this.userKey,S.apiKey,P),this.fullPersistenceKey=rr("persistence",S.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ct._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,i.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,i.Z)(function*(){if(!m.length)return new qt(oe(rn),p,b);const S=(yield Promise.all(m.map(function(){var et=(0,i.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return et.apply(this,arguments)}}()))).filter(et=>et);let P=S[0]||oe(rn);const W=rr(b,p.config.apiKey,p.name);let le=null;for(const et of m)try{const Ct=yield et._get(W);if(Ct){const ft=ct._fromJSON(p,Ct);et!==P&&(le=ft),P=et;break}}catch{}const Le=S.filter(et=>et._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],le&&(yield P._set(W,le.toJSON())),yield Promise.all(m.map(function(){var et=(0,i.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(W)}catch{}});return function(Ct){return et.apply(this,arguments)}}())),new qt(P,p,b)):new qt(P,p,b)})()}}function Nt(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(En(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(qe(p))return"Blackberry";if(bt(p))return"Webos";if(Kn(p))return"Safari";if((p.includes("chrome/")||Ki(p))&&!p.includes("edge/"))return"Chrome";if(Yn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function En(y=(0,k.z$)()){return/firefox\//i.test(y)}function Kn(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ki(y=(0,k.z$)()){return/crios\//i.test(y)}function Zr(y=(0,k.z$)()){return/iemobile/i.test(y)}function Yn(y=(0,k.z$)()){return/android/i.test(y)}function qe(y=(0,k.z$)()){return/blackberry/i.test(y)}function bt(y=(0,k.z$)()){return/webos/i.test(y)}function an(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function fo(y=(0,k.z$)()){return an(y)||Yn(y)||bt(y)||qe(y)||/windows phone/i.test(y)||Zr(y)}function Zs(y,p=[]){let m;switch(y){case"Browser":m=Nt((0,k.z$)());break;case"Worker":m=`${Nt((0,k.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${b}`}class po{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=P=>new Promise((W,le)=>{try{W(p(P))}catch(Le){le(Le)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,i.Z)(function*(){var b;if(m.auth.currentUser===p)return;const S=[];try{for(const P of m.queue)yield P(p),P.onAbort&&S.push(P.onAbort)}catch(P){S.reverse();for(const W of S)try{W()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=P)||void 0===b?void 0:b.message})}})()}}class Ft{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new go(this),this.idTokenSubscription=new go(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=oe(m)),this._initializationPromise=this.queue((0,i.Z)(function*(){var S,P;if(!b._deleted&&(b.persistenceManager=yield qt.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,i.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let P=S,W=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Le=P?._redirectEventId,et=yield m.tryRedirectSignIn(p);(!le||le===Le)&&et?.user&&(P=et.user,W=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(P)}catch(le){P=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return Z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var m=this;return(0,i.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,i.Z)(function*(){var b;try{yield nn(p)}catch(S){if("auth/network-request-failed"!==(null===(b=S)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,i.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&Z(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,i.Z)(function*(){if(!b._deleted)return p&&Z(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,i.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,i.Z)(function*(){yield m.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,i.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,i.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&oe(p)||m._popupRedirectResolver;Z(b,m,"argument-error"),m.redirectPersistenceManager=yield qt.create(m,[oe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,i.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,i.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,i.Z)(function*(){if(p===m.currentUser)return m.queue((0,i.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(W,this,"internal-error"),W.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,i.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function In(y){return(0,k.m9)(y)}class go{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function js(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Tr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,m){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function Jn(y,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:resetPassword",Zt(y,p))})).apply(this,arguments)}function cn(y,p){return El.apply(this,arguments)}function El(){return(El=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tl(y,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:update",Zt(y,p))})).apply(this,arguments)}function sn(){return(sn=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithPassword",Zt(y,p))})).apply(this,arguments)}function $s(y,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:sendOobCode",Zt(y,p))})).apply(this,arguments)}function kt(y,p){return Il.apply(this,arguments)}function Il(){return(Il=(0,i.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function mr(y,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,i.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function za(y,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,i.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function Al(y,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,i.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function th(){return(th=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}function Dl(){return(Dl=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Zt(y,p))})).apply(this,arguments)}class Sl extends Tr{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Sl(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Sl(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,i.Z)(function*(){switch(m.signInMethod){case"password":return function Ga(y,p){return sn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Uf(y,p){return th.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,i.Z)(function*(){switch(b.signInMethod){case"password":return cn(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ea(y,p){return Dl.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function sr(y,p){return nh.apply(this,arguments)}function nh(){return(nh=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithIdp",Zt(y,p))})).apply(this,arguments)}class _s extends Tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new _s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,P=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const W=new _s(b,S);return W.idToken=P.idToken||void 0,W.accessToken=P.accessToken||void 0,W.secret=P.secret,W.nonce=P.nonce,W.pendingToken=P.pendingToken||null,W}_getIdTokenResponse(p){return sr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,sr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function Pm(y,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:sendVerificationCode",Zt(y,p))})).apply(this,arguments)}function Hs(){return(Hs=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p))})).apply(this,arguments)}function rh(){return(rh=(0,i.Z)(function*(y,p){const m=yield Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,p));if(m.temporaryProof)throw Di(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Rm={USER_NOT_FOUND:"user-not-found"};function ih(){return(ih=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Zt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Rm)})).apply(this,arguments)}class Gs extends Tr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Gs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Gs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function xl(y,p){return Hs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function km(y,p){return rh.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Nm(y,p){return ih.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:P}=p;return b||m||S||P?new Gs({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:P}):null}}class Qc{constructor(p){var m,b,S,P,W,le;const Le=(0,k.zd)((0,k.pd)(p)),et=null!==(m=Le.apiKey)&&void 0!==m?m:null,Ct=null!==(b=Le.oobCode)&&void 0!==b?b:null,ft=function sh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);Z(et&&Ct&&ft,"argument-error"),this.apiKey=et,this.operation=ft,this.code=Ct,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(W=Le.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(le=Le.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function oh(y){const p=(0,k.zd)((0,k.pd)(y)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||m||p||y}(p);try{return new Qc(m)}catch{return null}}}let Qi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Sl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Qc.parseLink(b);return Z(S,"argument-error"),Sl._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ys{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vs extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class _o extends vs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Z("providerId"in m&&"signInMethod"in m,"argument-error"),_s._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Z(p.idToken||p.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return _o.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return _o.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:P,nonce:W,providerId:le}=p;if(!b&&!S&&!m&&!P||!le)return null;try{return new _o(le)._credential({idToken:m,accessToken:b,nonce:W,pendingToken:P})}catch{return null}}}let Wa=(()=>{class y extends vs{constructor(){super("facebook.com")}static credential(m){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jc=(()=>{class y extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ml=(()=>{class y extends vs{constructor(){super("github.com")}static credential(m){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class yo extends Tr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return sr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,sr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,sr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:P}=m;return b&&S&&P&&b===S?new yo(b,P):null}static _create(p,m){return new yo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends ys{constructor(p){Z(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return gi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return gi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=yo.fromJSON(p);return Z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return yo._create(b,m)}catch{return null}}}let Xr=(()=>{class y extends vs{constructor(){super("twitter.com")}static credential(m,b){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ta(y,p){return ah.apply(this,arguments)}function ah(){return(ah=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signUp",Zt(y,p))})).apply(this,arguments)}class _r{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,i.Z)(function*(){const P=yield ct._fromIdTokenResponse(p,b,S),W=Zf(b);return new _r({user:P,providerId:W,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Zf(b);return new _r({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Zf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function On(){return(On=(0,i.Z)(function*(y){var p;const m=In(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new _r({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ta(m,{returnSecureToken:!0}),S=yield _r._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Xc extends k.ZR{constructor(p,m,b,S){var P;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Xc(p,m,b,S)}}function qf(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Xc._fromErrorAndOperation(y,P,p,b):P})}function mi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function eu(){return(eu=(0,i.Z)(function*(y,p){const m=(0,k.m9)(y);yield zt(!0,m,p);const{providerUserInfo:b}=yield Jr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=mi(b||[]);return m.providerData=m.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function na(y,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,i.Z)(function*(y,p,m=!1){const b=yield pr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return _r._forOperation(y,"link",b)})).apply(this,arguments)}function zt(y,p,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,i.Z)(function*(y,p,m){yield nn(p);const S=!1===y?"provider-already-linked":"no-such-provider";Z(mi(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function vo(y,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,i.Z)(function*(y,p,m=!1){var b;const{auth:S}=y,P="reauthenticate";try{const W=yield pr(y,qf(S,P,p,y),m);Z(W.idToken,S,"internal-error");const le=lt(W.idToken);Z(le,S,"internal-error");const{sub:Le}=le;return Z(y.uid===Le,S,"user-mismatch"),_r._forOperation(y,P,W)}catch(W){throw"auth/user-not-found"===(null===(b=W)||void 0===b?void 0:b.code)&&Se(S,"user-mismatch"),W}})).apply(this,arguments)}function Oi(y,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,i.Z)(function*(y,p,m=!1){const b="signIn",S=yield qf(y,b,p),P=yield _r._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Sn(y,p){return St.apply(this,arguments)}function St(){return(St=(0,i.Z)(function*(y,p){return Oi(In(y),p)})).apply(this,arguments)}function ru(y,p){return $f.apply(this,arguments)}function $f(){return($f=(0,i.Z)(function*(y,p){const m=(0,k.m9)(y);return yield zt(!1,m,p.providerId),na(m,p)})).apply(this,arguments)}function iu(y,p){return su.apply(this,arguments)}function su(){return(su=(0,i.Z)(function*(y,p){return vo((0,k.m9)(y),p)})).apply(this,arguments)}function Ol(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,i.Z)(function*(y,p){return Yr(y,"POST","/v1/accounts:signInWithCustomToken",Zt(y,p))})).apply(this,arguments)}function Ya(){return(Ya=(0,i.Z)(function*(y,p){const m=In(y),b=yield Ol(m,{token:p,returnSecureToken:!0}),S=yield _r._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class De{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?$t._fromServerResponse(p,m):Se(p,"internal-error")}}class $t extends De{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new $t(m)}}function ou(y,p,m){var b;Z((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Z(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Z(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&ou(b,S,m),yield mr(b,S)})).apply(this,arguments)}function ra(){return(ra=(0,i.Z)(function*(y,p,m){yield Jn((0,k.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Qa(){return(Qa=(0,i.Z)(function*(y,p){yield Tl((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ja(y,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,i.Z)(function*(y,p){const m=(0,k.m9)(y),b=yield Jn(m,{oobCode:p}),S=b.requestType;switch(Z(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(b.mfaInfo,m,"internal-error");default:Z(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=De._fromServerResponse(In(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function ch(){return(ch=(0,i.Z)(function*(y,p){const{data:m}=yield Ja((0,k.m9)(y),p);return m.email})).apply(this,arguments)}function kn(){return(kn=(0,i.Z)(function*(y,p,m){const b=In(y),S=yield ta(b,{returnSecureToken:!0,email:p,password:m}),P=yield _r._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function wo(){return(wo=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};Z(m.handleCodeInApp,b,"argument-error"),m&&ou(b,S,m),yield za(b,S)})).apply(this,arguments)}function Xa(){return(Xa=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y),S=Qi.credentialWithLink(p,m||Re());return Z(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Sn(b,S)})).apply(this,arguments)}function Lm(y,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:createAuthUri",Zt(y,p))})).apply(this,arguments)}function ec(){return(ec=(0,i.Z)(function*(y,p){const b={identifier:p,continueUri:pt()?Re():"http://localhost"},{signinMethods:S}=yield Lm((0,k.m9)(y),b);return S||[]})).apply(this,arguments)}function tc(){return(tc=(0,i.Z)(function*(y,p){const m=(0,k.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ou(m.auth,S,p);const{email:P}=yield kt(m.auth,S);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function lu(){return(lu=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ou(b.auth,P,m);const{email:W}=yield Al(b.auth,P);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function du(y,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,i.Z)(function*(y,p){return dn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zl(){return(Zl=(0,i.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,k.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield pr(b,du(b.auth,P));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const le=b.providerData.find(({providerId:Le})=>"password"===Le);le&&(le.displayName=b.displayName,le.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Eo(y,p,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,i.Z)(function*(y,p,m){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const W=yield pr(y,cn(b,P));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ei{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class vn extends ei{constructor(p,m,b,S){super(p,m,b),this.username=S}}class jl extends ei{constructor(p,m){super(p,"facebook.com",m)}}class ql extends vn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class lh extends ei{constructor(p,m){super(p,"google.com",m)}}class $l extends vn{constructor(p,m,b){super(p,"twitter.com",m,b)}}function fu(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function or(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const W=null===(m=null===(p=lt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new ei(P,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new jl(P,S);case"github.com":return new ql(P,S);case"google.com":return new lh(P,S);case"twitter.com":return new $l(P,S,y.screenName||null);case"custom":case"anonymous":return new ei(P,null);default:return new ei(P,b,S)}}(m)}class To{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new To("enroll",p,m)}static _fromMfaPendingCredential(p){return new To("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return To._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return To._fromIdtoken(p.multiFactorSession.idToken)}return null}}class pu{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=In(p),S=m.customData._serverResponse,P=(S.mfaInfo||[]).map(le=>De._fromServerResponse(b,le));Z(S.mfaPendingCredential,b,"internal-error");const W=To._fromMfaPendingCredential(S.mfaPendingCredential);return new pu(W,P,function(){var le=(0,i.Z)(function*(Le){const et=yield Le._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const Ct=Object.assign(Object.assign({},S),{idToken:et.idToken,refreshToken:et.refreshToken});switch(m.operationType){case"signIn":const ft=yield _r._fromIdTokenResponse(b,m.operationType,Ct);return yield b._updateCurrentUser(ft.user),ft;case"reauthenticate":return Z(m.user,b,"internal-error"),_r._forOperation(m.user,m.operationType,Ct);default:Se(b,"internal-error")}});return function(Le){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,i.Z)(function*(){return m.signInResolver(p)})()}}function gu(y,p){return dn(y,"POST","/v2/accounts/mfaEnrollment:start",Zt(y,p))}class Hf{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>De._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Hf(p)}getSession(){var p=this;return(0,i.Z)(function*(){return To._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,i.Z)(function*(){const S=p,P=yield b.getSession(),W=yield pr(b.user,S._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(p){var m=this;return(0,i.Z)(function*(){var b;const S="string"==typeof p?p:p.uid,P=yield m.user.getIdToken(),W=yield pr(m.user,function ph(y,p){return dn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(y,p))}(m.user.auth,{idToken:P,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:le})=>le!==S),yield m.user._updateTokensIfNecessary(W);try{yield m.user.reload()}catch(le){if("auth/user-token-expired"!==(null===(b=le)||void 0===b?void 0:b.code))throw le}})()}}const Io=new WeakMap,Ao="__sak";class _u{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const rc=(()=>{class y extends _u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nc(){const y=(0,k.z$)();return Kn(y)||an(y)}()&&function Tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),P=this.localCache[b];S!==P&&m(b,P,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((le,Le,et)=>{this.notifyListeners(le,et)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(S);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const P=()=>{const le=this.storage.getItem(S);!b&&this.localCache[S]===le||this.notifyListeners(S,le)},W=this.storage.getItem(S);!function ir(){return(0,k.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,P=this;return(0,i.Z)(function*(){yield S().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,i.Z)(function*(){const P=yield b().call(S,m);return S.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,S=this;return(0,i.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Xi=(()=>{class y extends _u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let _h=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,i.Z)(function*(){const S=m,{eventId:P,eventType:W,data:le}=S.data,Le=b.handlersMap[W];if(!Le?.size)return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:W});const et=Array.from(Le).map(function(){var ft=(0,i.Z)(function*(wr){return wr(S.origin,le)});return function(wr){return ft.apply(this,arguments)}}()),Ct=yield function sc(y){return Promise.all(y.map(function(){var p=(0,i.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(et);S.ports[0].postMessage({status:"done",eventId:P,eventType:W,response:Ct})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function oc(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Gl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,i.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let W,le;return new Promise((Le,et)=>{const Ct=oc("",20);P.port1.start();const ft=setTimeout(()=>{et(new Error("unsupported_event"))},b);le={messageChannel:P,onMessage(wr){const Ds=wr;if(Ds.data.eventId===Ct)switch(Ds.data.status){case"ack":clearTimeout(ft),W=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Le(Ds.data.response);break;default:clearTimeout(ft),clearTimeout(W),et(new Error("invalid_response"))}}},S.handlers.add(le),P.port1.addEventListener("message",le.onMessage),S.target.postMessage({eventType:p,eventId:Ct,data:m},[P.port2])}).finally(()=>{le&&S.removeMessageHandler(le)})})()}}function Bn(){return window}function yu(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function ac(){return(ac=(0,i.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ks="firebaseLocalStorageDb",Ys="firebaseLocalStorage",wu="fbase_key";class So{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function cc(y,p){return y.transaction([Ys],p?"readwrite":"readonly").objectStore(Ys)}function ca(){const y=indexedDB.open(Ks,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ys,{keyPath:wu})}catch(S){m(S)}}),y.addEventListener("success",(0,i.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ys)?p(b):(b.close(),yield function vh(){const y=indexedDB.deleteDatabase(Ks);return new So(y).toPromise()}(),p(yield ca()))}))})}function Ts(y,p,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,i.Z)(function*(y,p,m){const b=cc(y,!0).put({[wu]:p,value:m});return new So(b).toPromise()})).apply(this,arguments)}function uc(){return(uc=(0,i.Z)(function*(y,p){const m=cc(y,!1).get(p),b=yield new So(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function xo(y,p){const m=cc(y,!0).delete(p);return new So(m).toPromise()}const ua=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,i.Z)(function*(){return m.db||(m.db=yield ca()),m.db})()}_withRetries(m){var b=this;return(0,i.Z)(function*(){let S=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(S++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,i.Z)(function*(){return yu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,i.Z)(function*(){m.receiver=_h._getInstance(function bu(){return yu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,i.Z)(function*(S,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(S,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,i.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,i.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function Do(){return ac.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Gl(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,i.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function vu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ca();return yield Ts(m,Ao,"1"),yield xo(m,Ao),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,i.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,i.Z)(function*(){return S._withPendingWrite((0,i.Z)(function*(){return yield S._withRetries(P=>Ts(P,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,i.Z)(function*(){const S=yield b._withRetries(P=>function Cu(y,p){return uc.apply(this,arguments)}(P,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,i.Z)(function*(){return b._withPendingWrite((0,i.Z)(function*(){return yield b._withRetries(S=>xo(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,i.Z)(function*(){const b=yield m._withRetries(W=>{const le=cc(W,!1).getAll();return new So(le).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:W,value:le}of b)P.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(le)&&(m.notifyListeners(W,le),S.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!P.has(W)&&(m.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function la(y,p){return dn(y,"POST","/v2/accounts/mfaSignIn:start",Zt(y,p))}function Qs(){return(Qs=(0,i.Z)(function*(y){return(yield dn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ha(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const P=be("internal-error");P.customData=S,m(P)},b.type="text/javascript",b.charset="UTF-8",function da(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Iu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const lc=1e12;class _n{constructor(p){this.auth=p,this.counter=lc,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Um(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||lc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||lc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,i.Z)(function*(){var b;return null===(b=m._widgets.get(p||lc))||void 0===b||b.execute(),""})()}}class Um{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Z(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sv(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vm=Iu("rcb"),ov=new hn(3e4,6e4);class Gf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Bn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Z(function Mw(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Bn().grecaptcha):new Promise((b,S)=>{const P=Bn().setTimeout(()=>{S(be(p,"network-request-failed"))},ov.get());Bn()[Vm]=()=>{Bn().clearTimeout(P),delete Bn()[Vm];const le=Bn().grecaptcha;if(!le)return void S(be(p,"internal-error"));const Le=le.render;le.render=(et,Ct)=>{const ft=Le(et,Ct);return this.counter++,ft},this.hostLanguage=m,b(le)},ha(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Vm,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),S(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Bn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dc{load(p){return(0,i.Z)(function*(){return new _n(p)})()}clearedOneInstance(){}}const Bm="recaptcha",Zm={theme:"light",type:"image"};class vr{constructor(p,m=Object.assign({},Zm),b){this.parameters=m,this.type=Bm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(b),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dc:new Gf,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const W=le=>{!le||(p.tokenChangeListeners.delete(W),P(le))};p.tokenChangeListeners.add(W),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Bn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){Z(pt()&&!yu(),p.auth,"internal-error"),yield function jt(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ti(y){return Qs.apply(this,arguments)}(p.auth);Z(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ki{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Gs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ar(){return(ar=(0,i.Z)(function*(y,p,m){const b=In(y),S=yield Js(b,p,(0,k.m9)(m));return new ki(S,P=>Sn(b,P))})).apply(this,arguments)}function Ri(){return(Ri=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y);yield zt(!1,b,"phone");const S=yield Js(b.auth,p,(0,k.m9)(m));return new ki(S,P=>ru(b,P))})).apply(this,arguments)}function Ir(){return(Ir=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y),S=yield Js(b.auth,p,(0,k.m9)(m));return new ki(S,P=>iu(b,P))})).apply(this,arguments)}function Js(y,p,m){return Au.apply(this,arguments)}function Au(){return(Au=(0,i.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let P;if(Z("string"==typeof S,y,"argument-error"),Z(m.type===Bm,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const W=P.session;if("phoneNumber"in P)return Z("enroll"===W.type,y,"internal-error"),(yield gu(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Z("signin"===W.type,y,"internal-error");const le=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return Z(le,y,"missing-multi-factor-info"),(yield la(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Pm(y,{phoneNumber:P.phoneNumber,recaptchaToken:S});return W}}finally{m._reset()}})).apply(this,arguments)}function Kl(){return(Kl=(0,i.Z)(function*(y,p){yield na((0,k.m9)(y),p)})).apply(this,arguments)}let fc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=In(m)}verifyPhoneNumber(m,b){return Js(this.auth,m,(0,k.m9)(b))}static credential(m,b){return Gs._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Gs._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Oo(y,p){return p?oe(p):(Z(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Xs extends Tr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return sr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return sr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return sr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function at(y){return Oi(y.auth,new Xs(y),y.bypassAuthState)}function pc(y){const{auth:p,user:m}=y;return Z(m,p,"internal-error"),vo(m,new Xs(y),y.bypassAuthState)}function eo(y){return gc.apply(this,arguments)}function gc(){return(gc=(0,i.Z)(function*(y){const{auth:p,user:m}=y;return Z(m,p,"internal-error"),na(m,new Xs(y),y.bypassAuthState)})).apply(this,arguments)}class pa{constructor(p,m,b,S,P=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,i.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,i.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:P,tenantId:W,error:le,type:Le}=p;if(le)return void m.reject(le);const et={auth:m.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(et))}catch(Ct){m.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return at;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return pc;default:Se(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nn=new hn(2e3,1e4);function ga(){return(ga=(0,i.Z)(function*(y,p,m){const b=In(y);Be(y,p,ys);const S=Oo(b,m);return new to(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Ql(){return(Ql=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y);Be(b.auth,p,ys);const S=Oo(b.auth,m);return new to(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function mc(){return(mc=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y);Be(b.auth,p,ys);const S=Oo(b.auth,m);return new to(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let to=(()=>{class y extends pa{constructor(m,b,S,P,W){super(m,b,P,W),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,i.Z)(function*(){const b=yield m.execute();return Z(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,i.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const b=oc();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Nn.get())};m()}}return y.currentPopupAction=null,y})();const yi=new Map;class Jl extends pa{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,i.Z)(function*(){let b=yi.get(m.auth._key());if(!b){try{const P=(yield function ma(y,p){return ni.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(P)}catch(S){b=()=>Promise.reject(S)}yi.set(m.auth._key(),b)}return m.bypassAuthState||yi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function ni(){return(ni=(0,i.Z)(function*(y,p){const m=Jt(p),b=As(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function es(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,i.Z)(function*(y,p){return As(y)._set(Jt(p),"true")})).apply(this,arguments)}function no(y,p){yi.set(y._key(),p)}function As(y){return oe(y._redirectPersistence)}function Jt(y){return rr("pendingRedirect",y.config.apiKey,y.name)}function T(){return(T=(0,i.Z)(function*(y,p,m){const b=In(y);Be(y,p,ys);const S=Oo(b,m);return yield es(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y);Be(b.auth,p,ys);const S=Oo(b.auth,m);yield es(S,b.auth);const P=yield ht(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Ee(){return(Ee=(0,i.Z)(function*(y,p,m){const b=(0,k.m9)(y);Be(b.auth,p,ys);const S=Oo(b.auth,m);yield zt(!1,b,p.providerId),yield es(S,b.auth);const P=yield ht(b);return S._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function st(){return(st=(0,i.Z)(function*(y,p){return yield In(y)._initializationPromise,wt(y,p,!1)})).apply(this,arguments)}function wt(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,i.Z)(function*(y,p,m=!1){const b=In(y),S=Oo(b,p),W=yield new Jl(b,S,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,p)),W})).apply(this,arguments)}function ht(y){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(y){const p=oc(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class _a{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ns(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mt(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Mt(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(be(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ts(p))}saveEventToCache(p){this.cachedEventUids.add(ts(p)),this.lastProcessedEventTime=Date.now()}}function ts(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Mt({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ro(y){return vi.apply(this,arguments)}function vi(){return(vi=(0,i.Z)(function*(y,p={}){return dn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;function zf(){return(zf=(0,i.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ro(y);for(const m of p)try{if($m(m))return}catch{}Se(y,"unauthorized-domain")})).apply(this,arguments)}function $m(y){const p=Re(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===b}if(!Po.test(m))return!1;if(ya.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Hm=new hn(3e4,6e4);function cv(){const y=Bn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let rs=null;function Wf(y){return rs=rs||function ur(y){return new Promise((p,m)=>{var b,S,P;function W(){cv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{cv(),m(be(y,"network-request-failed"))},timeout:Hm.get()})}if(null!==(S=null===(b=Bn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(P=Bn().gapi)||void 0===P||!P.load){const le=Iu("iframefcb");return Bn()[le]=()=>{gapi.load?W():m(be(y,"network-request-failed"))},ha(`https://apis.google.com/js/api.js?onload=${le}`).catch(Le=>m(Le))}W()}}).catch(p=>{throw rs=null,p})}(y),rs}const Gm=new hn(5e3,15e3),uv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zm(y){const p=y.config;Z(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ln(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},S=Yf.get(y.config.apiHost);S&&(b.eid=S);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,k.xO)(b).slice(1)}`}function _c(){return _c=(0,i.Z)(function*(y){const p=yield Wf(y),m=Bn().gapi;return Z(m,y,"internal-error"),p.open({where:document.body,url:zm(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uv,dontclear:!0},b=>new Promise(function(){var S=(0,i.Z)(function*(P,W){yield b.restyle({setHideOnLeave:!1});const le=be(y,"network-request-failed"),Le=Bn().setTimeout(()=>{W(le)},Gm.get());function et(){Bn().clearTimeout(Le),P(b)}b.ping(et).then(et,()=>{W(le)})});return function(P,W){return S.apply(this,arguments)}}()))}),_c.apply(this,arguments)}const bh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function No(y,p,m,b,S,P){Z(y.config.authDomain,y,"auth-domain-config-required"),Z(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ce.SDK_VERSION,eventId:S};if(p instanceof ys){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,et]of Object.entries(P||{}))W[Le]=et}if(p instanceof vs){const Le=p.getScopes().filter(et=>""!==et);Le.length>0&&(W.scopes=Le.join(","))}y.tenantId&&(W.tid=y.tenantId);const le=W;for(const Le of Object.keys(le))void 0===le[Le]&&delete le[Le];return`${function Eh({config:y}){return y.emulator?Ln(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(le).slice(1)}`}const vc="webStorageSupport";class Ui extends class lv{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ui(p)}_finalizeEnroll(p,m,b){return function mu(y,p){return dn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Tu(y,p){return dn(y,"POST","/v2/accounts/mfaSignIn:finalize",Zt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fo=(()=>{class y{constructor(){}static assertion(m){return Ui._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Jf="@firebase/auth";class dv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,i.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function va(){return window}function tp(){return(tp=(0,i.Z)(function*(y,p,m){var b;const{BuildInfo:S}=va();Y(p.sessionId,"AuthEvent did not contain a session ID");const P=yield _v(p.sessionId),W={};return an()?W.ibi=S.packageName:Yn()?W.apn=S.packageName:Se(y,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=P,No(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function Lo(){return(Lo=(0,i.Z)(function*(y){const{BuildInfo:p}=va(),m={};an()?m.iosBundleId=p.packageName:Yn()?m.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield ro(y,m)})).apply(this,arguments)}function Vi(){return(Vi=(0,i.Z)(function*(y,p,m){const{cordova:b}=va();let S=()=>{};try{yield new Promise((P,W)=>{let le=null;function Le(){var ft;P();const wr=null===(ft=b.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof wr&&wr(),"function"==typeof m?.close&&m.close()}function et(){le||(le=window.setTimeout(()=>{W(be(y,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===document?.visibilityState&&et()}p.addPassiveListener(Le),document.addEventListener("resume",et,!1),Yn()&&document.addEventListener("visibilitychange",Ct,!1),S=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",Ct,!1),le&&window.clearTimeout(le)}})}finally{S()}})).apply(this,arguments)}function _v(y){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,i.Z)(function*(y){const p=Pw(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pw(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function fv(y){(0,ce._registerComponent)(new ue.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:P,authDomain:W}=b.options;return((le,Le)=>{Z(P&&!P.includes(":"),"invalid-api-key",{appName:le.name}),Z(!W?.includes(":"),"argument-error",{appName:le.name});const et={apiKey:P,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zs(y)},Ct=new Ft(le,Le,et);return function Fe(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(oe);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Ct,m),Ct})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ue.wA("auth-internal",p=>{const m=In(p.getProvider("auth").getImmediate());return new dv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Jf,"0.20.7",function hv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(Jf,"0.20.7","esm2017")}("Browser");class Ah extends _a{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,i.Z)(function*(){yield p.initPromise})()}}function nd(y){return np.apply(this,arguments)}function np(){return(np=(0,i.Z)(function*(y){const p=yield rp()._get(ip(y));return p&&(yield rp()._remove(ip(y))),p})).apply(this,arguments)}function wc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function rp(){return oe(rc)}function ip(y){return rr("authEvent",y.config.apiKey,y.name)}function Cc(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function Xm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function is(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function op(y=(0,k.z$)()){return!("file:"!==is()&&"ionic:"!==is()&&"capacitor:"!==is()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ev(){try{const y=self.localStorage,p=oc();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Rw(y=(0,k.z$)()){return function wv(){return(0,k.w1)()&&11===document?.documentMode}()||function Cv(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return Ec()&&(0,k.hl)()}return!1}function Ec(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sd(){return(function Dh(){return"http:"===is()||"https:"===is()}()||(0,k.ru)()||op())&&!function bv(){return(0,k.b$)()||(0,k.UG)()}()&&Ev()&&!Ec()}function ap(){return op()&&typeof document<"u"}function Sh(){return(Sh=(0,i.Z)(function*(){return!!ap()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},xu=Z,od="persistence";function ad(y){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,i.Z)(function*(y){yield y._initializationPromise;const p=xh(),m=rr(od,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function xh(){var y;try{return(null===(y=function Tv(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ca=Z;class Ea{constructor(){this.browserResolver=oe(class Ym{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xi,this._completeRedirectFn=wt,this._overrideRedirectResult=no}_openPopup(p,m,b,S){var P=this;return(0,i.Z)(function*(){var W;Y(null===(W=P.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const le=No(p,m,b,Re(),S);return function Ro(y,p,m,b=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let le="";const Le=Object.assign(Object.assign({},bh),{width:b.toString(),height:S.toString(),top:P,left:W}),et=(0,k.z$)().toLowerCase();m&&(le=Ki(et)?"_blank":m),En(et)&&(p=p||"http://localhost",Le.scrollbars="yes");const Ct=Object.entries(Le).reduce((wr,[Ds,ld])=>`${wr}${Ds}=${ld},`,"");if(function xi(y=(0,k.z$)()){var p;return an(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(et)&&"_self"!==le)return function Km(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",le),new Xl(null);const ft=window.open(p||"",le,Ct);Z(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Xl(ft)}(p,le,oc())})()}_openRedirect(p,m,b,S){var P=this;return(0,i.Z)(function*(){return yield P._originValidation(p),function Pi(y){Bn().location.href=y}(No(p,m,b,Re(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:P}=this.eventManagers[m];return S?Promise.resolve(S):(Y(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,i.Z)(function*(){const b=yield function Wm(y){return _c.apply(this,arguments)}(p),S=new _a(p);return b.register("authEvent",P=>(Z(P?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(vc,{type:vc},S=>{var P;const W=null===(P=S?.[0])||void 0===P?void 0:P[vc];void 0!==W&&m(!!W),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Li(y){return zf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return fo()||Kn()||an()}}),this.cordovaResolver=oe(class Jm{constructor(){this._redirectPersistence=Xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wt,this._overrideRedirectResult=no}_initialize(p){var m=this;return(0,i.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Ah(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var P=this;return(0,i.Z)(function*(){!function Th(y){var p,m,b,S,P,W,le,Le,et,Ct;const ft=va();Z("function"==typeof(null===(p=ft?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(P=null===(S=null===(b=ft?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Le=null===(le=null===(W=ft?.cordova)||void 0===W?void 0:W.plugins)||void 0===le?void 0:le.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Ct=null===(et=ft?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===Ct?void 0:Ct.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield P._initialize(p);yield W.initialized(),W.resetRedirect(),function cr(){yi.clear()}(),yield P._originValidation(p);const le=function bc(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:wc(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,b,S);yield function ba(y,p){return rp()._set(ip(y),p)}(p,le);const Le=yield function gv(y,p,m){return tp.apply(this,arguments)}(p,le,m),et=yield function td(y){const{cordova:p}=va();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function fi(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Le);return function io(y,p,m){return Vi.apply(this,arguments)}(p,W,et)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mv(y){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:P}=va(),W=setTimeout((0,i.Z)(function*(){yield nd(p),m.onEvent(Xm())}),500),le=function(){var Ct=(0,i.Z)(function*(ft){clearTimeout(W);const wr=yield nd(p);let Ds=null;wr&&ft?.url&&(Ds=function yv(y,p){var m,b;const S=function vv(y){const p=Cc(y),m=p.link?decodeURIComponent(p.link):void 0,b=Cc(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Cc(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const P=Cc(S),W=P.firebaseError?function Qm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,le=null===(b=null===(m=W?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Le=le?be(le):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(wr,ft.url)),m.onEvent(Ds||Xm())});return function(wr){return Ct.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,le);const Le=S,et=`${P.packageName.toLowerCase()}://`;va().handleOpenURL=function(){var Ct=(0,i.Z)(function*(ft){if(ft.toLowerCase().startsWith(et)&&le({url:ft}),"function"==typeof Le)try{Le(ft)}catch(wr){console.error(wr)}});return function(ft){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xi,this._completeRedirectFn=wt,this._overrideRedirectResult=no}_initialize(p){var m=this;return(0,i.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var P=this;return(0,i.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var P=this;return(0,i.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return ap()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ca(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,i.Z)(function*(){if(p.underlyingResolver)return;const m=yield function e_(){return Sh.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function br(y){return y.unwrap()}function Iv(y){return Ou(y)}function Ou(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return fc.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Jc;break;case"facebook.com":b=Wa;break;case"github.com":b=Ml;break;case"twitter.com":b=Xr;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:W,pendingToken:le,nonce:Le}=p;return P||W||S||le?le?m.startsWith("saml.")?yo._create(m,le):_s._fromParams({providerId:m,signInMethod:m,pendingToken:le,idToken:S,accessToken:P}):new _o(m).credential({idToken:S,accessToken:P,rawNonce:Le}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function jn(y,p){return p.catch(m=>{throw m instanceof k.ZR&&function Mu(y,p){var m,b;const S=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new cp(y,function Rn(y,p){var m;const b=(0,k.m9)(y),S=p;return Z(p.customData.operationType,b,"argument-error"),Z(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),pu._fromError(b,S)}(y,p));else if(S){const P=Ou(p),W=p;P&&(W.credential=P,W.tenantId=S.tenantId||void 0,W.email=S.email||void 0,W.phoneNumber=S.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Iv(m),additionalUserInfo:fu(m),user:Vo.getOrCreate(S)}})}function ud(y,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,i.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>jn(y,m.confirm(b))}})).apply(this,arguments)}class cp{constructor(p,m){this.resolver=m,this.auth=function cd(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return jn(br(this.auth),this.resolver.resolveSignIn(p))}}class Vo{constructor(p){this._delegate=p,this.multiFactor=function aa(y){const p=(0,k.m9)(y);return Io.has(p)||Io.set(p,Hf._fromUser(p)),Io.get(p)}(p)}static getOrCreate(p){return Vo.USER_MAP.has(p)||Vo.USER_MAP.set(p,new Vo(p)),Vo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,i.Z)(function*(){return jn(m.auth,ru(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,i.Z)(function*(){return ud(b.auth,function bn(y,p,m){return Ri.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,i.Z)(function*(){return jn(m.auth,function Du(y,p,m){return mc.apply(this,arguments)}(m._delegate,p,Ea))})()}linkWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield ad(In(m.auth)),function J(y,p,m){return function ie(y,p,m){return Ee.apply(this,arguments)}(y,p,m)}(m._delegate,p,Ea)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,i.Z)(function*(){return jn(m.auth,iu(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return ud(this.auth,function hc(y,p,m){return Ir.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return jn(this.auth,function qm(y,p,m){return Ql.apply(this,arguments)}(this._delegate,p,Ea))}reauthenticateWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield ad(In(m.auth)),function I(y,p,m){return function M(y,p,m){return L.apply(this,arguments)}(y,p,m)}(m._delegate,p,Ea)})()}sendEmailVerification(p){return function Ll(y,p){return tc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,i.Z)(function*(){return yield function qr(y,p){return eu.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function uh(y,p){return Eo((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Co(y,p){return Eo((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function jm(y,p){return Kl.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bl(y,p){return Zl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Ul(y,p,m){return lu.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vo.USER_MAP=new WeakMap;const so=Z;let Ac=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;so(S,"invalid-api-key",{appName:m.name}),so(S,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?Ea:void 0;this._delegate=b.initialize({options:{persistence:up(S,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Cl(y,p,m){const b=In(y);Z(b._canInitEmulator,b,"emulator-config-failed"),Z(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,P=Yi(p),{host:W,port:le}=function Qn(y){const p=Yi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const P=S[1];return{host:P,port:js(b.substr(P.length+1))}}{const[P,W]=b.split(":");return{host:P,port:js(W)}}}(p);b.config.emulator={url:`${P}//${W}${null===le?"":`:${le}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:le,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function qs(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function _i(y,p){return Qa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ja(this._delegate,m)}confirmPasswordReset(m,b){return function cu(y,p,m){return ra.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,i.Z)(function*(){return jn(S._delegate,function bo(y,p,m){return kn.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function uu(y,p){return ec.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Es(y,p){return"EMAIL_SIGNIN"===Qc.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,i.Z)(function*(){so(sd(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Pe(y,p){return st.apply(this,arguments)}(m._delegate,Ea);return b?jn(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Zn(y,p){In(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:P,error:W,complete:le}=n_(m,b,S);return this._delegate.onAuthStateChanged(P,W,le)}onIdTokenChanged(m,b,S){const{next:P,error:W,complete:le}=n_(m,b,S);return this._delegate.onIdTokenChanged(P,W,le)}sendSignInLinkToEmail(m,b){return function Nl(y,p,m){return wo.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function au(y,p,m){return Pn.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,i.Z)(function*(){let S;switch(function t_(y,p){xu(Object.values(ri).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?xu(p!==ri.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?xu(p===ri.NONE,y,"unsupported-persistence-type"):Ec()?xu(p===ri.NONE||p===ri.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):xu(p===ri.NONE||Ev(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ri.SESSION:S=Xi;break;case ri.LOCAL:S=(yield oe(ua)._isAvailable())?ua:rc;break;case ri.NONE:S=rn;break;default:return Se("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return jn(this._delegate,function jf(y){return On.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return jn(this._delegate,Sn(this._delegate,m))}signInWithCustomToken(m){return jn(this._delegate,function Pl(y,p){return Ya.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return jn(this._delegate,function Ji(y,p,m){return Sn((0,k.m9)(y),Qi.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return jn(this._delegate,function Fm(y,p,m){return Xa.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return ud(this._delegate,function Xe(y,p,m){return ar.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,i.Z)(function*(){return so(sd(),b._delegate,"operation-not-supported-in-this-environment"),jn(b._delegate,function Yl(y,p,m){return ga.apply(this,arguments)}(b._delegate,m,Ea))})()}signInWithRedirect(m){var b=this;return(0,i.Z)(function*(){return so(sd(),b._delegate,"operation-not-supported-in-this-environment"),yield ad(b._delegate),function wn(y,p,m){return function Su(y,p,m){return T.apply(this,arguments)}(y,p,m)}(b._delegate,m,Ea)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Rl(y,p){return ch.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ri,y})();function n_(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:W=>S(W&&Vo.getOrCreate(W)),error:p,complete:m}}function up(y,p){const m=function Tc(y,p){const m=xh();if(!m)return[];const b=rr(od,y,p);switch(m.getItem(b)){case ri.NONE:return[rn];case ri.LOCAL:return[ua,Xi];case ri.SESSION:return[Xi];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ua)&&m.push(ua),typeof window<"u")for(const b of[rc,Xi])m.includes(b)||m.push(b);return m.includes(rn)||m.push(rn),m}class Mh{constructor(){this.providerId="phone",this._delegate=new fc(br(ee.Z.auth()))}static credential(p,m){return fc.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Mh.PHONE_SIGN_IN_METHOD=fc.PHONE_SIGN_IN_METHOD,Mh.PROVIDER_ID=fc.PROVIDER_ID;const r_=Z;class Oh{constructor(p,m,b=ee.Z.app()){var S;r_(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new vr(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function s_(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Ac(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qi,FacebookAuthProvider:Wa,GithubAuthProvider:Ml,GoogleAuthProvider:Jc,OAuthProvider:_o,SAMLAuthProvider:gi,PhoneAuthProvider:Mh,PhoneMultiFactorGenerator:Fo,RecaptchaVerifier:Oh,TwitterAuthProvider:Xr,Auth:Ac,AuthCredential:Tr,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(ee.Z)},9751:(ut,Ae,R)=>{R.d(Ae,{y:()=>pe});var i=R(930),ee=R(727),k=R(8822),ce=R(9635),se=R(2416),fe=R(576),ue=R(2806);let pe=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const we=new Q;return we.source=this,we.operator=xe,we}subscribe(xe,we,rt){const ye=function $(Q){return Q&&Q instanceof i.Lv||function j(Q){return Q&&(0,fe.m)(Q.next)&&(0,fe.m)(Q.error)&&(0,fe.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(xe)?xe:new i.Hp(xe,we,rt);return(0,ue.x)(()=>{const{operator:ge,source:Je}=this;ye.add(ge?ge.call(ye,Je):Je?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(xe){try{return this._subscribe(xe)}catch(we){xe.error(we)}}forEach(xe,we){return new(we=me(we))((rt,ye)=>{const ge=new i.Hp({next:Je=>{try{xe(Je)}catch(ot){ye(ot),ge.unsubscribe()}},error:ye,complete:rt});this.subscribe(ge)})}_subscribe(xe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(xe)}[k.L](){return this}pipe(...xe){return(0,ce.U)(xe)(this)}toPromise(xe){return new(xe=me(xe))((we,rt)=>{let ye;this.subscribe(ge=>ye=ge,ge=>rt(ge),()=>we(ye))})}}return Q.create=Ue=>new Q(Ue),Q})();function me(Q){var Ue;return null!==(Ue=Q??se.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ut,Ae,R)=>{R.d(Ae,{x:()=>ue});var i=R(9751),ee=R(727);const ce=(0,R(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=R(8737),fe=R(2806);let ue=(()=>{class me extends i.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new pe(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ce}next($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ue,observers:xe}=this;return Q||Ue?ee.Lc:(this.currentObservers=null,xe.push($),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ue,isStopped:xe}=this;Q?$.error(Ue):xe&&$.complete()}asObservable(){const $=new i.y;return $.source=this,$}}return me.create=(j,$)=>new pe(j,$),me})();class pe extends ue{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,j)}error(j){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==Q?Q:ee.Lc}}},930:(ut,Ae,R)=>{R.d(Ae,{Hp:()=>rt,Lv:()=>Q});var i=R(576),ee=R(727),k=R(2416),ce=R(7849),se=R(5032);const fe=me("C",void 0,void 0);function me(Se,be,Te){return{kind:Se,value:be,error:Te}}var j=R(3410),$=R(2806);class Q extends ee.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,ee.Nn)(be)&&be.add(this)):this.destination=ot}static create(be,Te,Be){return new rt(be,Te,Be)}next(be){this.isStopped?Je(function pe(Se){return me("N",Se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Je(function ue(Se){return me("E",void 0,Se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Je(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function xe(Se,be){return Ue.call(Se,be)}class we{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Te}=this;if(Te.next)try{Te.next(be)}catch(Be){ye(Be)}}error(be){const{partialObserver:Te}=this;if(Te.error)try{Te.error(be)}catch(Be){ye(Be)}else ye(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Te){ye(Te)}}}class rt extends Q{constructor(be,Te,Be){let je;if(super(),(0,i.m)(be)||!be)je={next:be??void 0,error:Te??void 0,complete:Be??void 0};else{let Z;this&&k.v.useDeprecatedNextContext?(Z=Object.create(be),Z.unsubscribe=()=>this.unsubscribe(),je={next:be.next&&xe(be.next,Z),error:be.error&&xe(be.error,Z),complete:be.complete&&xe(be.complete,Z)}):je=be}this.destination=new we(je)}}function ye(Se){k.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Se):(0,ce.h)(Se)}function Je(Se,be){const{onStoppedNotification:Te}=k.v;Te&&j.z.setTimeout(()=>Te(Se,be))}const ot={closed:!0,next:se.Z,error:function ge(Se){throw Se},complete:se.Z}},727:(ut,Ae,R)=>{R.d(Ae,{Lc:()=>fe,w0:()=>se,Nn:()=>ue});var i=R(576);const k=(0,R(3888).d)(me=>function($){me(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ue)=>`${Ue+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ce=R(8737);class se{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,i.m)(Q))try{Q()}catch(xe){j=xe instanceof k?xe.errors:[xe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const xe of Ue)try{pe(xe)}catch(we){j=j??[],we instanceof k?j=[...j,...we.errors]:j.push(we)}}if(j)throw new k(j)}}add(j){var $;if(j&&j!==this)if(this.closed)pe(j);else{if(j instanceof se){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ce.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ce.P)($,j),j instanceof se&&j._removeParent(this)}}se.EMPTY=(()=>{const me=new se;return me.closed=!0,me})();const fe=se.EMPTY;function ue(me){return me instanceof se||me&&"closed"in me&&(0,i.m)(me.remove)&&(0,i.m)(me.add)&&(0,i.m)(me.unsubscribe)}function pe(me){(0,i.m)(me)?me():me.unsubscribe()}},2416:(ut,Ae,R)=>{R.d(Ae,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ae,R)=>{R.d(Ae,{E:()=>ee});const ee=new(R(9751).y)(se=>se.complete())},8996:(ut,Ae,R)=>{R.d(Ae,{D:()=>be});var i=R(8421),ee=R(5363),k=R(9468),fe=R(9751),pe=R(2202),me=R(576),j=R(9672);function Q(Te,Be){if(!Te)throw new Error("Iterable cannot be null");return new fe.y(je=>{(0,j.f)(je,Be,()=>{const Z=Te[Symbol.asyncIterator]();(0,j.f)(je,Be,()=>{Z.next().then(_e=>{_e.done?je.complete():je.next(_e.value)})},0,!0)})})}var Ue=R(3670),xe=R(8239),we=R(1144),rt=R(6495),ye=R(2206),ge=R(4532),Je=R(3260);function be(Te,Be){return Be?function Se(Te,Be){if(null!=Te){if((0,Ue.c)(Te))return function ce(Te,Be){return(0,i.Xf)(Te).pipe((0,k.R)(Be),(0,ee.Q)(Be))}(Te,Be);if((0,we.z)(Te))return function ue(Te,Be){return new fe.y(je=>{let Z=0;return Be.schedule(function(){Z===Te.length?je.complete():(je.next(Te[Z++]),je.closed||this.schedule())})})}(Te,Be);if((0,xe.t)(Te))return function se(Te,Be){return(0,i.Xf)(Te).pipe((0,k.R)(Be),(0,ee.Q)(Be))}(Te,Be);if((0,ye.D)(Te))return Q(Te,Be);if((0,rt.T)(Te))return function $(Te,Be){return new fe.y(je=>{let Z;return(0,j.f)(je,Be,()=>{Z=Te[pe.h](),(0,j.f)(je,Be,()=>{let _e,Y;try{({value:_e,done:Y}=Z.next())}catch(X){return void je.error(X)}Y?je.complete():je.next(_e)},0,!0)}),()=>(0,me.m)(Z?.return)&&Z.return()})}(Te,Be);if((0,Je.L)(Te))return function ot(Te,Be){return Q((0,Je.Q)(Te),Be)}(Te,Be)}throw(0,ge.z)(Te)}(Te,Be):(0,i.Xf)(Te)}},8421:(ut,Ae,R)=>{R.d(Ae,{Xf:()=>Ue});var i=R(655),ee=R(1144),k=R(8239),ce=R(9751),se=R(3670),fe=R(2206),ue=R(4532),pe=R(6495),me=R(3260),j=R(576),$=R(7849),Q=R(8822);function Ue(Se){if(Se instanceof ce.y)return Se;if(null!=Se){if((0,se.c)(Se))return function xe(Se){return new ce.y(be=>{const Te=Se[Q.L]();if((0,j.m)(Te.subscribe))return Te.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,ee.z)(Se))return function we(Se){return new ce.y(be=>{for(let Te=0;Te<Se.length&&!be.closed;Te++)be.next(Se[Te]);be.complete()})}(Se);if((0,k.t)(Se))return function rt(Se){return new ce.y(be=>{Se.then(Te=>{be.closed||(be.next(Te),be.complete())},Te=>be.error(Te)).then(null,$.h)})}(Se);if((0,fe.D)(Se))return ge(Se);if((0,pe.T)(Se))return function ye(Se){return new ce.y(be=>{for(const Te of Se)if(be.next(Te),be.closed)return;be.complete()})}(Se);if((0,me.L)(Se))return function Je(Se){return ge((0,me.Q)(Se))}(Se)}throw(0,ue.z)(Se)}function ge(Se){return new ce.y(be=>{(function ot(Se,be){var Te,Be,je,Z;return(0,i.mG)(this,void 0,void 0,function*(){try{for(Te=(0,i.KL)(Se);!(Be=yield Te.next()).done;)if(be.next(Be.value),be.closed)return}catch(_e){je={error:_e}}finally{try{Be&&!Be.done&&(Z=Te.return)&&(yield Z.call(Te))}finally{if(je)throw je.error}}be.complete()})})(Se,be).catch(Te=>be.error(Te))})}},6451:(ut,Ae,R)=>{R.d(Ae,{T:()=>fe});var i=R(8189),ee=R(8421),k=R(515),ce=R(7669),se=R(8996);function fe(...ue){const pe=(0,ce.yG)(ue),me=(0,ce._6)(ue,1/0),j=ue;return j.length?1===j.length?(0,ee.Xf)(j[0]):(0,i.J)(me)((0,se.D)(j,pe)):k.E}},5403:(ut,Ae,R)=>{R.d(Ae,{x:()=>ee});var i=R(930);function ee(ce,se,fe,ue,pe){return new k(ce,se,fe,ue,pe)}class k extends i.Lv{constructor(se,fe,ue,pe,me,j){super(se),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=fe?function($){try{fe($)}catch(Q){se.error(Q)}}:super._next,this._error=pe?function($){try{pe($)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,Ae,R)=>{R.d(Ae,{U:()=>k});var i=R(4482),ee=R(5403);function k(ce,se){return(0,i.e)((fe,ue)=>{let pe=0;fe.subscribe((0,ee.x)(ue,me=>{ue.next(ce.call(se,me,pe++))}))})}},8189:(ut,Ae,R)=>{R.d(Ae,{J:()=>k});var i=R(5577),ee=R(4671);function k(ce=1/0){return(0,i.z)(ee.y,ce)}},5577:(ut,Ae,R)=>{R.d(Ae,{z:()=>pe});var i=R(4004),ee=R(8421),k=R(4482),ce=R(9672),se=R(5403),ue=R(576);function pe(me,j,$=1/0){return(0,ue.m)(j)?pe((Q,Ue)=>(0,i.U)((xe,we)=>j(Q,xe,Ue,we))((0,ee.Xf)(me(Q,Ue))),$):("number"==typeof j&&($=j),(0,k.e)((Q,Ue)=>function fe(me,j,$,Q,Ue,xe,we,rt){const ye=[];let ge=0,Je=0,ot=!1;const Se=()=>{ot&&!ye.length&&!ge&&j.complete()},be=Be=>ge<Q?Te(Be):ye.push(Be),Te=Be=>{xe&&j.next(Be),ge++;let je=!1;(0,ee.Xf)($(Be,Je++)).subscribe((0,se.x)(j,Z=>{Ue?.(Z),xe?be(Z):j.next(Z)},()=>{je=!0},void 0,()=>{if(je)try{for(ge--;ye.length&&ge<Q;){const Z=ye.shift();we?(0,ce.f)(j,we,()=>Te(Z)):Te(Z)}Se()}catch(Z){j.error(Z)}}))};return me.subscribe((0,se.x)(j,be,()=>{ot=!0,Se()})),()=>{rt?.()}}(Q,Ue,me,$)))}},5363:(ut,Ae,R)=>{R.d(Ae,{Q:()=>ce});var i=R(9672),ee=R(4482),k=R(5403);function ce(se,fe=0){return(0,ee.e)((ue,pe)=>{ue.subscribe((0,k.x)(pe,me=>(0,i.f)(pe,se,()=>pe.next(me),fe),()=>(0,i.f)(pe,se,()=>pe.complete(),fe),me=>(0,i.f)(pe,se,()=>pe.error(me),fe)))})}},3099:(ut,Ae,R)=>{R.d(Ae,{B:()=>se});var i=R(8421),ee=R(7579),k=R(930),ce=R(4482);function se(ue={}){const{connector:pe=(()=>new ee.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=ue;return Q=>{let Ue,xe,we,rt=0,ye=!1,ge=!1;const Je=()=>{xe?.unsubscribe(),xe=void 0},ot=()=>{Je(),Ue=we=void 0,ye=ge=!1},Se=()=>{const be=Ue;ot(),be?.unsubscribe()};return(0,ce.e)((be,Te)=>{rt++,!ge&&!ye&&Je();const Be=we=we??pe();Te.add(()=>{rt--,0===rt&&!ge&&!ye&&(xe=fe(Se,$))}),Be.subscribe(Te),!Ue&&rt>0&&(Ue=new k.Hp({next:je=>Be.next(je),error:je=>{ge=!0,Je(),xe=fe(ot,me,je),Be.error(je)},complete:()=>{ye=!0,Je(),xe=fe(ot,j),Be.complete()}}),(0,i.Xf)(be).subscribe(Ue))})(Q)}}function fe(ue,pe,...me){if(!0===pe)return void ue();if(!1===pe)return;const j=new k.Hp({next:()=>{j.unsubscribe(),ue()}});return pe(...me).subscribe(j)}},9468:(ut,Ae,R)=>{R.d(Ae,{R:()=>ee});var i=R(4482);function ee(k,ce=0){return(0,i.e)((se,fe)=>{fe.add(k.schedule(()=>se.subscribe(fe),ce))})}},8505:(ut,Ae,R)=>{R.d(Ae,{b:()=>se});var i=R(576),ee=R(4482),k=R(5403),ce=R(4671);function se(fe,ue,pe){const me=(0,i.m)(fe)||ue||pe?{next:fe,error:ue,complete:pe}:fe;return me?(0,ee.e)((j,$)=>{var Q;null===(Q=me.subscribe)||void 0===Q||Q.call(me);let Ue=!0;j.subscribe((0,k.x)($,xe=>{var we;null===(we=me.next)||void 0===we||we.call(me,xe),$.next(xe)},()=>{var xe;Ue=!1,null===(xe=me.complete)||void 0===xe||xe.call(me),$.complete()},xe=>{var we;Ue=!1,null===(we=me.error)||void 0===we||we.call(me,xe),$.error(xe)},()=>{var xe,we;Ue&&(null===(xe=me.unsubscribe)||void 0===xe||xe.call(me)),null===(we=me.finalize)||void 0===we||we.call(me)}))}):ce.y}},4408:(ut,Ae,R)=>{R.d(Ae,{o:()=>se});var i=R(727);class ee extends i.w0{constructor(ue,pe){super()}schedule(ue,pe=0){return this}}const k={setInterval(fe,ue,...pe){const{delegate:me}=k;return me?.setInterval?me.setInterval(fe,ue,...pe):setInterval(fe,ue,...pe)},clearInterval(fe){const{delegate:ue}=k;return(ue?.clearInterval||clearInterval)(fe)},delegate:void 0};var ce=R(8737);class se extends ee{constructor(ue,pe){super(ue,pe),this.scheduler=ue,this.work=pe,this.pending=!1}schedule(ue,pe=0){if(this.closed)return this;this.state=ue;const me=this.id,j=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(j,me,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(j,this.id,pe),this}requestAsyncId(ue,pe,me=0){return k.setInterval(ue.flush.bind(ue,this),me)}recycleAsyncId(ue,pe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return pe;k.clearInterval(pe)}execute(ue,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ue,pe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,pe){let j,me=!1;try{this.work(ue)}catch($){me=!0,j=$||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ue,scheduler:pe}=this,{actions:me}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(me,this),null!=ue&&(this.id=this.recycleAsyncId(pe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ae,R)=>{R.d(Ae,{v:()=>k});var i=R(6063);class ee{constructor(se,fe=ee.now){this.schedulerActionCtor=se,this.now=fe}schedule(se,fe=0,ue){return new this.schedulerActionCtor(this,se).schedule(ue,fe)}}ee.now=i.l.now;class k extends ee{constructor(se,fe=ee.now){super(se,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:fe}=this;if(this._active)return void fe.push(se);let ue;this._active=!0;do{if(ue=se.execute(se.state,se.delay))break}while(se=fe.shift());if(this._active=!1,ue){for(;se=fe.shift();)se.unsubscribe();throw ue}}}},4986:(ut,Ae,R)=>{R.d(Ae,{z:()=>k});var i=R(4408);const k=new(R(7565).v)(i.o)},6063:(ut,Ae,R)=>{R.d(Ae,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(ut,Ae,R)=>{R.d(Ae,{z:()=>i});const i={setTimeout(ee,k,...ce){const{delegate:se}=i;return se?.setTimeout?se.setTimeout(ee,k,...ce):setTimeout(ee,k,...ce)},clearTimeout(ee){const{delegate:k}=i;return(k?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ut,Ae,R)=>{R.d(Ae,{h:()=>ee});const ee=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ae,R)=>{R.d(Ae,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Ae,R)=>{R.d(Ae,{_6:()=>fe,jO:()=>ce,yG:()=>se});var i=R(576);function k(ue){return ue[ue.length-1]}function ce(ue){return(0,i.m)(k(ue))?ue.pop():void 0}function se(ue){return function ee(ue){return ue&&(0,i.m)(ue.schedule)}(k(ue))?ue.pop():void 0}function fe(ue,pe){return"number"==typeof k(ue)?ue.pop():pe}},8737:(ut,Ae,R)=>{function i(ee,k){if(ee){const ce=ee.indexOf(k);0<=ce&&ee.splice(ce,1)}}R.d(Ae,{P:()=>i})},3888:(ut,Ae,R)=>{function i(ee){const ce=ee(se=>{Error.call(se),se.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}R.d(Ae,{d:()=>i})},2806:(ut,Ae,R)=>{R.d(Ae,{O:()=>ce,x:()=>k});var i=R(2416);let ee=null;function k(se){if(i.v.useDeprecatedSynchronousErrorHandling){const fe=!ee;if(fe&&(ee={errorThrown:!1,error:null}),se(),fe){const{errorThrown:ue,error:pe}=ee;if(ee=null,ue)throw pe}}else se()}function ce(se){i.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(ut,Ae,R)=>{function i(ee,k,ce,se=0,fe=!1){const ue=k.schedule(function(){ce(),fe?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ue),!fe)return ue}R.d(Ae,{f:()=>i})},4671:(ut,Ae,R)=>{function i(ee){return ee}R.d(Ae,{y:()=>i})},1144:(ut,Ae,R)=>{R.d(Ae,{z:()=>i});const i=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ut,Ae,R)=>{R.d(Ae,{D:()=>ee});var i=R(576);function ee(k){return Symbol.asyncIterator&&(0,i.m)(k?.[Symbol.asyncIterator])}},576:(ut,Ae,R)=>{function i(ee){return"function"==typeof ee}R.d(Ae,{m:()=>i})},3670:(ut,Ae,R)=>{R.d(Ae,{c:()=>k});var i=R(8822),ee=R(576);function k(ce){return(0,ee.m)(ce[i.L])}},6495:(ut,Ae,R)=>{R.d(Ae,{T:()=>k});var i=R(2202),ee=R(576);function k(ce){return(0,ee.m)(ce?.[i.h])}},8239:(ut,Ae,R)=>{R.d(Ae,{t:()=>ee});var i=R(576);function ee(k){return(0,i.m)(k?.then)}},3260:(ut,Ae,R)=>{R.d(Ae,{L:()=>ce,Q:()=>k});var i=R(655),ee=R(576);function k(se){return(0,i.FC)(this,arguments,function*(){const ue=se.getReader();try{for(;;){const{value:pe,done:me}=yield(0,i.qq)(ue.read());if(me)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(pe)}}finally{ue.releaseLock()}})}function ce(se){return(0,ee.m)(se?.getReader)}},4482:(ut,Ae,R)=>{R.d(Ae,{A:()=>ee,e:()=>k});var i=R(576);function ee(ce){return(0,i.m)(ce?.lift)}function k(ce){return se=>{if(ee(se))return se.lift(function(fe){try{return ce(fe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Ae,R)=>{function i(){}R.d(Ae,{Z:()=>i})},9635:(ut,Ae,R)=>{R.d(Ae,{U:()=>k,z:()=>ee});var i=R(4671);function ee(...ce){return k(ce)}function k(ce){return 0===ce.length?i.y:1===ce.length?ce[0]:function(fe){return ce.reduce((ue,pe)=>pe(ue),fe)}}},7849:(ut,Ae,R)=>{R.d(Ae,{h:()=>k});var i=R(2416),ee=R(3410);function k(ce){ee.z.setTimeout(()=>{const{onUnhandledError:se}=i.v;if(!se)throw ce;se(ce)})}},4532:(ut,Ae,R)=>{function i(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ae,{z:()=>i})},655:(ut,Ae,R)=>{function ce(Y,X){var oe={};for(var ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&X.indexOf(ne)<0&&(oe[ne]=Y[ne]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ne=Object.getOwnPropertySymbols(Y);Fe<ne.length;Fe++)X.indexOf(ne[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Y,ne[Fe])&&(oe[ne[Fe]]=Y[ne[Fe]])}return oe}function se(Y,X,oe,ne){var pt,Fe=arguments.length,Re=Fe<3?X:null===ne?ne=Object.getOwnPropertyDescriptor(X,oe):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(Y,X,oe,ne);else for(var Kt=Y.length-1;Kt>=0;Kt--)(pt=Y[Kt])&&(Re=(Fe<3?pt(Re):Fe>3?pt(X,oe,Re):pt(X,oe))||Re);return Fe>3&&Re&&Object.defineProperty(X,oe,Re),Re}function pe(Y,X,oe,ne){return new(oe||(oe=Promise))(function(Re,pt){function Kt(hn){try{ze(ne.next(hn))}catch(Ln){pt(Ln)}}function Gt(hn){try{ze(ne.throw(hn))}catch(Ln){pt(Ln)}}function ze(hn){hn.done?Re(hn.value):function Fe(Re){return Re instanceof oe?Re:new oe(function(pt){pt(Re)})}(hn.value).then(Kt,Gt)}ze((ne=ne.apply(Y,X||[])).next())})}function ye(Y){return this instanceof ye?(this.v=Y,this):new ye(Y)}function ge(Y,X,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ne=oe.apply(Y,X||[]),Re=[];return Fe={},pt("next"),pt("throw"),pt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function pt(en){ne[en]&&(Fe[en]=function(tn){return new Promise(function(Vr,Zt){Re.push([en,tn,Vr,Zt])>1||Kt(en,tn)})})}function Kt(en,tn){try{!function Gt(en){en.value instanceof ye?Promise.resolve(en.value.v).then(ze,hn):Ln(Re[0][2],en)}(ne[en](tn))}catch(Vr){Ln(Re[0][3],Vr)}}function ze(en){Kt("next",en)}function hn(en){Kt("throw",en)}function Ln(en,tn){en(tn),Re.shift(),Re.length&&Kt(Re[0][0],Re[0][1])}}function ot(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function Q(Y){var X="function"==typeof Symbol&&Symbol.iterator,oe=X&&Y[X],ne=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ne>=Y.length&&(Y=void 0),{value:Y&&Y[ne++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},ne("next"),ne("throw"),ne("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ne(Re){oe[Re]=Y[Re]&&function(pt){return new Promise(function(Kt,Gt){!function Fe(Re,pt,Kt,Gt){Promise.resolve(Gt).then(function(ze){Re({value:ze,done:Kt})},pt)}(Kt,Gt,(pt=Y[Re](pt)).done,pt.value)})}}}R.d(Ae,{FC:()=>ge,KL:()=>ot,_T:()=>ce,gn:()=>se,mG:()=>pe,qq:()=>ye})},4650:(ut,Ae,R)=>{R.d(Ae,{$8M:()=>Tu,$Z:()=>gC,AFp:()=>Sy,ALo:()=>db,AaK:()=>pe,AsE:()=>k0,BQk:()=>Lc,CHM:()=>ou,CRH:()=>Cg,CZH:()=>yf,CqO:()=>nE,D6c:()=>Qb,DdM:()=>YE,EEQ:()=>Hr,EJc:()=>vf,EiD:()=>Jm,EpF:()=>eE,F$t:()=>ry,F4k:()=>tE,FYo:()=>Ct,FiY:()=>Pe,G48:()=>LT,Gf:()=>yb,GfV:()=>ld,GkF:()=>A0,Gpc:()=>$,GuJ:()=>hi,Hsn:()=>sE,JOm:()=>Ia,JVY:()=>Xf,KtG:()=>au,L6k:()=>dv,LAX:()=>fv,LFG:()=>wn,LSH:()=>id,Lbi:()=>Mb,Lck:()=>jE,MAs:()=>zu,MGl:()=>qn,MMx:()=>_y,NdJ:()=>ty,O4$:()=>jl,OlP:()=>_n,Oqu:()=>ay,PXZ:()=>Lb,Q6J:()=>X_,QGY:()=>Wp,QP$:()=>Ki,QbO:()=>u1,Qsj:()=>ft,R0b:()=>us,RDi:()=>zm,Rgc:()=>_g,SBq:()=>le,Sil:()=>AT,Suo:()=>vb,TTD:()=>vs,TgZ:()=>Gp,Tol:()=>Ku,Udp:()=>Hn,VKq:()=>cb,W1O:()=>cT,WLB:()=>QE,X6Q:()=>v1,XFs:()=>Ye,Xpm:()=>H,Xts:()=>sd,Y36:()=>Uu,YKP:()=>rb,YNc:()=>I0,Yjl:()=>qt,Yz7:()=>tn,Z0I:()=>Ha,ZZ4:()=>Wb,_Bn:()=>nb,_UZ:()=>qi,_Vd:()=>S,_c5:()=>Yb,_uU:()=>Ju,aQg:()=>Fg,c2e:()=>ET,cJS:()=>Zt,cg1:()=>Md,dDg:()=>Pg,dqk:()=>fn,eBb:()=>hv,eFA:()=>Ly,ekj:()=>$e,eoX:()=>Ry,evT:()=>qw,f3M:()=>T,g9A:()=>xb,h0i:()=>lf,hGG:()=>zT,hYB:()=>Uc,hij:()=>Jh,iGM:()=>iT,ifc:()=>lt,ip1:()=>xg,jDz:()=>Nr,kL8:()=>bE,kcU:()=>lh,lG2:()=>rr,lcZ:()=>eT,lqb:()=>jn,lri:()=>Rb,mCW:()=>Lo,n5z:()=>Is,oAB:()=>ct,oJD:()=>sp,oxw:()=>Ad,pB0:()=>ep,q3G:()=>Zn,q4F:()=>dd,qLn:()=>a_,qOj:()=>Bp,qZA:()=>Id,qzn:()=>Fo,rWj:()=>Og,s9C:()=>ke,sBO:()=>w1,sIi:()=>Nc,s_b:()=>vg,soG:()=>Hc,tb:()=>CT,tp0:()=>wt,uIk:()=>Kh,vHH:()=>we,vpe:()=>La,wAp:()=>Et,xp6:()=>Kv,ynx:()=>zp,z2F:()=>Hd,z3N:()=>Ui,zSh:()=>br,zs3:()=>ao});var i=R(7579),ee=R(727),k=R(9751),ce=R(6451),se=R(3099);function fe(o){for(let a in o)if(o[a]===fe)return a;throw Error("Could not find renamed property on target object.")}function ue(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function pe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(pe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function me(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=fe({__forward_ref__:fe});function $(o){return o.__forward_ref__=$,o.toString=function(){return pe(this())},o}function Q(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===$}class we extends Error{constructor(a,c){super(function rt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function ye(o){return"string"==typeof o?o:null==o?"":String(o)}function be(o,a){throw new we(-201,!1)}function Gt(o,a){null==o&&function ze(o,a,c,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${c} ${l} ${a} <=Actual]`))}(a,o,null,"!=")}function tn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Zt(o){return{providers:o.providers||[],imports:o.imports||[]}}function dn(o){return Kr(o,Wi)||Kr(o,Di)}function Ha(o){return null!==dn(o)}function Kr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Bs(o){return o&&(o.hasOwnProperty(Qr)||o.hasOwnProperty(Jo))?o[Qr]:null}const Wi=fe({\u0275prov:fe}),Qr=fe({\u0275inj:fe}),Di=fe({ngInjectableDef:fe}),Jo=fe({ngInjectorDef:fe});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Jr;function Un(o){const a=Jr;return Jr=o,a}function Si(o,a,c){const l=dn(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:c&Ye.Optional?null:void 0!==a?a:void be(pe(o))}function Vn(o){return{toString:o}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),lt=(()=>{return(o=lt||(lt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",lt;var o})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Br={},Dt=[],ms=fe({\u0275cmp:fe}),nn=fe({\u0275dir:fe}),hi=fe({\u0275pipe:fe}),Qt=fe({\u0275mod:fe}),K=fe({\u0275fac:fe}),q=fe({__NG_ELEMENT_ID__:fe});let V=0;function H(o){return Vn(()=>{const c=!0===o.standalone,l={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Dt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||lt.Emulated,id:"c"+V++,styles:o.styles||Dt,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,v=o.features;return h.inputs=rn(o.inputs,l),h.outputs=rn(o.outputs),v&&v.forEach(C=>C(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ie).filter(Ve):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Kn).filter(Ve):null,h})}function Ie(o){return Nt(o)||En(o)}function Ve(o){return null!==o}function ct(o){return Vn(()=>({type:o.type,bootstrap:o.bootstrap||Dt,declarations:o.declarations||Dt,imports:o.imports||Dt,exports:o.exports||Dt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function rn(o,a){if(null==o)return Br;const c={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=l,a&&(a[h]=g)}return c}const rr=H;function qt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Nt(o){return o[ms]||null}function En(o){return o[nn]||null}function Kn(o){return o[hi]||null}function Ki(o){const a=Nt(o)||En(o)||Kn(o);return null!==a&&a.standalone}function Zr(o,a){const c=o[Qt]||null;if(!c&&!0===a)throw new Error(`Type ${pe(o)} does not have '\u0275mod' property.`);return c}function mr(o){return Array.isArray(o)&&"object"==typeof o[1]}function jr(o){return Array.isArray(o)&&!0===o[1]}function za(o){return 0!=(8&o.flags)}function Xo(o){return 2==(2&o.flags)}function Al(o){return 1==(1&o.flags)}function Or(o){return null!==o.template}function Uf(o){return 0!=(256&o[2])}function Qi(o,a){return o.hasOwnProperty(K)?o[K]:null}class ys{constructor(a,c,l){this.previousValue=a,this.currentValue=c,this.firstChange=l}isFirstChange(){return this.firstChange}}function vs(){return _o}function _o(o){return o.type.prototype.ngOnChanges&&(o.setInput=Jc),Wa}function Wa(){const o=Bf(this),a=o?.current;if(a){const c=o.previous;if(c===Br)o.previous=a;else for(let l in a)c[l]=a[l];o.current=null,this.ngOnChanges(a)}}function Jc(o,a,c,l){const h=Bf(o)||function yo(o,a){return o[Ml]=a}(o,{previous:Br,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[c],E=v[C];g[C]=new ys(E&&E.currentValue,a,v===Br),o[l]=a}vs.ngInherit=!0;const Ml="__ngSimpleChanges__";function Bf(o){return o[Ml]||null}function On(o){for(;Array.isArray(o);)o=o[0];return o}function mi(o,a){return On(a[o])}function qr(o,a){return On(a[o.index])}function na(o,a){return o.data[a]}function ws(o,a){return o[a]}function zt(o,a){const c=a[o];return mr(c)?c:c[0]}function Ka(o){return 4==(4&o[2])}function vo(o){return 64==(64&o[2])}function Oi(o,a){return null==a?null:o[a]}function nu(o){o[18]=0}function Sn(o,a){o[5]+=a;let c=o,l=o[3];for(;null!==l&&(1===a&&1===c[5]||-1===a&&0===c[5]);)l[5]+=a,c=l,l=l[3]}const St={lFrame:Bl(null),bindingsEnabled:!0};function Cs(){return St.bindingsEnabled}function De(){return St.lFrame.lView}function $t(){return St.lFrame.tView}function ou(o){return St.lFrame.contextLView=o,o[8]}function au(o){return St.lFrame.contextLView=null,o}function Pn(){let o=cu();for(;null!==o&&64===o.type;)o=o.parent;return o}function cu(){return St.lFrame.currentTNode}function _i(o,a){const c=St.lFrame;c.currentTNode=o,c.isParent=a}function Qa(){return St.lFrame.isParent}function Ja(){St.lFrame.isParent=!1}function kn(){const o=St.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function wo(){return St.lFrame.bindingIndex++}function Es(o){const a=St.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Lm(o,a){const c=St.lFrame;c.bindingIndex=c.bindingRootIndex=o,uu(a)}function uu(o){St.lFrame.currentDirectiveIndex=o}function Ll(){return St.lFrame.currentQueryIndex}function tc(o){St.lFrame.currentQueryIndex=o}function Ul(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function lu(o,a,c){if(c&Ye.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||c&Ye.Host||(h=Ul(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const l=St.lFrame=Vl();return l.currentTNode=a,l.lView=o,!0}function du(o){const a=Vl(),c=o[1];St.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Vl(){const o=St.lFrame,a=null===o?null:o.child;return null===a?Bl(o):a}function Bl(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Zl(){const o=St.lFrame;return St.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const uh=Zl;function Co(){const o=Zl();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function or(){return St.lFrame.selectedIndex}function ei(o){St.lFrame.selectedIndex=o}function vn(){const o=St.lFrame;return na(o.tView,o.selectedIndex)}function jl(){St.lFrame.currentNamespace="svg"}function lh(){!function $l(){St.lFrame.currentNamespace=null}()}function Hl(o,a){for(let c=a.directiveStart,l=a.directiveEnd;c<l;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:O}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),D&&((o.viewHooks||(o.viewHooks=[])).push(c,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,D)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(c,O)}}function ia(o,a,c){oa(o,a,3,c)}function sa(o,a,c,l){(3&o[2])===c&&oa(o,a,c,l)}function hh(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function oa(o,a,c,l){const g=l??-1,v=a.length-1;let C=0;for(let E=void 0!==l?65535&o[18]:0;E<v;E++)if("number"==typeof a[E+1]){if(C=a[E],null!=l&&C>=l)break}else a[E]<0&&(o[18]+=65536),(C<g||-1==g)&&(fh(o,c,a,E),o[18]=(4294901760&o[18])+E+2),E++}function fh(o,a,c,l){const h=c[l]<0,g=c[l+1],C=o[h?-c[l]:c[l]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ws{constructor(a,c,l){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=l}}function aa(o,a,c){let l=0;for(;l<c.length;){const h=c[l];if("number"==typeof h){if(0!==h)break;l++;const g=c[l++],v=c[l++],C=c[l++];o.setAttribute(a,v,C,g)}else{const g=h,v=c[++l];_u(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),l++}}return l}function Ao(o){return 3===o||4===o||6===o}function _u(o){return 64===o.charCodeAt(0)}function nc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let l=0;l<a.length;l++){const h=a[l];"number"==typeof h?c=h:0===c||gh(o,c,h,null,-1===c||2===c?a[++l]:null)}}return o}function gh(o,a,c,l,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===c){if(null===l)return void(null!==h&&(o[g+1]=h));if(l===o[g+1])return void(o[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==l&&o.splice(g++,0,l),null!==h&&o.splice(g++,0,h)}function mh(o){return-1!==o}function yr(o){return 32767&o}function ic(o,a){let c=function rc(o){return o>>16}(o),l=a;for(;c>0;)l=l[15],c--;return l}let Xi=!0;function sc(o){const a=Xi;return Xi=o,a}let Bn=0;const Pi={};function Do(o,a){const c=vu(o,a);if(-1!==c)return c;const l=a[1];l.firstCreatePass&&(o.injectorIndex=a.length,ac(l.data,o),ac(a,null),ac(l.blueprint,null));const h=bu(o,a),g=o.injectorIndex;if(mh(h)){const v=yr(h),C=ic(h,a),E=C[1].data;for(let D=0;D<8;D++)a[g+D]=C[v+D]|E[v+D]}return a[g+8]=h,g}function ac(o,a){o.push(0,0,0,0,0,0,0,0,a)}function vu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function bu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,l=null,h=a;for(;null!==h;){if(l=la(h),null===l)return-1;if(c++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|c<<16}return-1}function Ks(o,a,c){!function yu(o,a,c){let l;"string"==typeof c?l=c.charCodeAt(0)||0:c.hasOwnProperty(q)&&(l=c[q]),null==l&&(l=c[q]=Bn++);const h=255&l;a.data[o+(h>>5)]|=1<<h}(o,a,c)}function Ys(o,a,c){if(c&Ye.Optional)return o;be()}function wu(o,a,c,l){if(c&Ye.Optional&&void 0===l&&(l=null),0==(c&(Ye.Self|Ye.Host))){const h=o[9],g=Un(void 0);try{return h?h.get(a,l,c&Ye.Optional):Si(a,l,c&Ye.Optional)}finally{Un(g)}}return Ys(l,0,c)}function So(o,a,c,l=Ye.Default,h){if(null!==o){if(1024&a[2]){const v=function ua(o,a,c,l,h){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=cc(g,v,c,l|Ye.Self,Pi);if(C!==Pi)return C;let E=g.parent;if(!E){const D=v[21];if(D){const O=D.get(c,Pi,l);if(O!==Pi)return O}E=la(v),v=v[15]}g=E}return h}(o,a,c,l,Pi);if(v!==Pi)return v}const g=cc(o,a,c,l,Pi);if(g!==Pi)return g}return wu(a,c,l,h)}function cc(o,a,c,l,h){const g=function zl(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(q)?o[q]:void 0;return"number"==typeof a?a>=0?255&a:Wl:a}(c);if("function"==typeof g){if(!lu(a,o,l))return l&Ye.Host?Ys(h,0,l):wu(a,c,l,h);try{const v=g(l);if(null!=v||l&Ye.Optional)return v;be()}finally{uh()}}else if("number"==typeof g){let v=null,C=vu(o,a),E=-1,D=l&Ye.Host?a[16][6]:null;for((-1===C||l&Ye.SkipSelf)&&(E=-1===C?bu(o,a):a[C+8],-1!==E&&uc(l,!1)?(v=a[1],C=yr(E),a=ic(E,a)):C=-1);-1!==C;){const O=a[1];if(Cu(g,C,O.data)){const N=vh(C,a,c,v,l,D);if(N!==Pi)return N}E=a[C+8],-1!==E&&uc(l,a[1].data[C+8]===D)&&Cu(g,C,a)?(v=O,C=yr(E),a=ic(E,a)):C=-1}}return h}function vh(o,a,c,l,h,g){const v=a[1],C=v.data[o+8],O=ca(C,v,c,null==l?Xo(C)&&Xi:l!=v&&0!=(3&C.type),h&Ye.Host&&g===C);return null!==O?Ts(a,v,O,C):Pi}function ca(o,a,c,l,h){const g=o.providerIndexes,v=a.data,C=1048575&g,E=o.directiveStart,O=g>>20,G=h?C+O:o.directiveEnd;for(let te=l?C:C+O;te<G;te++){const Ce=v[te];if(te<E&&c===Ce||te>=E&&Ce.type===c)return te}if(h){const te=v[E];if(te&&Or(te)&&te.type===c)return E}return null}function Ts(o,a,c,l){let h=o[c];const g=a.data;if(function To(o){return o instanceof Ws}(h)){const v=h;v.resolving&&function Je(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new we(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ge(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ye(o)}(g[c]));const C=sc(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Un(v.injectImpl):null;lu(o,l,Ye.Default);try{h=o[c]=v.factory(void 0,g,o,l),a.firstCreatePass&&c>=l.directiveStart&&function dh(o,a,c){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(l){const v=_o(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==E&&Un(E),sc(C),v.resolving=!1,uh()}}return h}function Cu(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function uc(o,a){return!(o&Ye.Self||o&Ye.Host&&a)}class xo{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,l){return So(this._tNode,this._lView,a,l,c)}}function Wl(){return new xo(Pn(),De())}function Is(o){return Vn(()=>{const a=o.prototype.constructor,c=a[K]||Eu(a),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const g=h[K]||Eu(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Eu(o){return Ue(o)?()=>{const a=Eu(Q(o));return a&&a()}:Qi(o)}function la(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Tu(o){return function yh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const l=c.length;let h=0;for(;h<l;){const g=c[h];if(Ao(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(Pn(),o)}const Qs="__parameters__";function fa(o,a,c){return Vn(()=>{const l=function Iu(o){return function(...c){if(o){const l=o(...c);for(const h in l)this[h]=l[h]}}}(a);function h(...g){if(this instanceof h)return l.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(E,D,O){const N=E.hasOwnProperty(Qs)?E[Qs]:Object.defineProperty(E,Qs,{value:[]})[Qs];for(;N.length<=O;)N.push(null);return(N[O]=N[O]||[]).push(v),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class _n{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=tn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bn(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let l=o[c];Array.isArray(l)?(a===o&&(a=o.slice(0,c)),bn(l,a)):a!==o&&a.push(l)}return a}function Ri(o,a){o.forEach(c=>Array.isArray(c)?Ri(c,a):a(c))}function hc(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Ir(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Js(o,a){const c=[];for(let l=0;l<o;l++)c.push(a);return c}function at(o,a,c){let l=eo(o,a);return l>=0?o[1|l]=c:(l=~l,function Kl(o,a,c,l){let h=o.length;if(h==a)o.push(c,l);else if(1===h)o.push(l,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=l}}(o,l,a,c)),l}function pc(o,a){const c=eo(o,a);if(c>=0)return o[1|c]}function eo(o,a){return function pa(o,a,c){let l=0,h=o.length>>c;for(;h!==l;){const g=l+(h-l>>1),v=o[g<<c];if(a===v)return g<<c;v>a?h=g:l=g+1}return~(h<<c)}(o,a,1)}const yi={},Jl="__NG_DI_FLAG__",ma="ngTempTokenPath",es=/\n/gm,cr="__source";let no;function As(o){const a=no;return no=o,a}function Jt(o,a=Ye.Default){if(void 0===no)throw new we(-203,!1);return null===no?Si(o,void 0,a):no.get(o,a&Ye.Optional?null:void 0,a)}function wn(o,a=Ye.Default){return(function gs(){return Jr}()||Jt)(Q(o),a)}function T(o,a=Ye.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),wn(o,a)}function I(o){const a=[];for(let c=0;c<o.length;c++){const l=Q(o[c]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let h,g=Ye.Default;for(let v=0;v<l.length;v++){const C=l[v],E=L(C);"number"==typeof E?-1===E?h=C.token:g|=E:h=C}a.push(wn(h,g))}else a.push(wn(l))}return a}function M(o,a){return o[Jl]=a,o.prototype[Jl]=a,o}function L(o){return o[Jl]}const Pe=M(fa("Optional"),8),wt=M(fa("SkipSelf"),4);let Yf,_c,Xl;function zm(o){Yf=o}function ko(o){return function bh(){if(void 0===_c&&(_c=null,fn.trustedTypes))try{_c=fn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return _c}()?.createHTML(o)||o}function Km(o){return function Ro(){if(void 0===Xl&&(Xl=null,fn.trustedTypes))try{Xl=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Xl}()?.createHTML(o)||o}class No{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Eh extends No{getTypeName(){return"HTML"}}class vc extends No{getTypeName(){return"Style"}}class Ym extends No{getTypeName(){return"Script"}}class ed extends No{getTypeName(){return"URL"}}class lv extends No{getTypeName(){return"ResourceURL"}}function Ui(o){return o instanceof No?o.changingThisBreaksApplicationSecurity:o}function Fo(o,a){const c=function Jf(o){return o instanceof No&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Xf(o){return new Eh(o)}function dv(o){return new vc(o)}function hv(o){return new Ym(o)}function fv(o){return new ed(o)}function ep(o){return new lv(o)}class pv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(ko(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class gv{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const l=this.inertDocument.createElement("body");c.appendChild(l)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ko(a),c;const l=this.inertDocument.createElement("body");return l.innerHTML=ko(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(a){const c=a.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let l=a.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const mv=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Lo(o){return(o=String(o)).match(mv)?o:"unsafe:"+o}function io(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Vi(...o){const a={};for(const c of o)for(const l in c)c.hasOwnProperty(l)&&(a[l]=!0);return a}const Th=io("area,br,col,hr,img,wbr"),_v=io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ih=io("rp,rt"),bc=Vi(Th,Vi(_v,io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vi(Ih,io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vi(Ih,_v)),ba=io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nd=io("srcset"),wc=Vi(ba,nd,io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rp=io("script,style,template");class ip{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,l=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?l=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,l&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!bc.hasOwnProperty(c))return this.sanitizedSomething=!0,!rp.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const l=a.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),v=g.name,C=v.toLowerCase();if(!wc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=g.value;ba[C]&&(E=Lo(E)),nd[C]&&(o=E,E=(o=String(o)).split(",").map(a=>Lo(a.trim())).join(", ")),this.buf.push(" ",v,'="',Cc(E),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();bc.hasOwnProperty(c)&&!Th.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Cc(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Qm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vv=/([^\#-~ |!])/g;function Cc(o){return o.replace(/&/g,"&amp;").replace(Qm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(vv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wa;function Jm(o,a){let c=null;try{wa=wa||function va(o){const a=new gv(o);return function tp(){try{return!!(new window.DOMParser).parseFromString(ko(""),"text/html")}catch{return!1}}()?new pv(a):a}(o);let l=a?String(a):"";c=wa.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=c.innerHTML,c=wa.getInertBodyElement(l)}while(l!==g);return ko((new ip).sanitizeChildren(rd(c)||c))}finally{if(c){const l=rd(c)||c;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function rd(o){return"content"in o&&function Xm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function sp(o){const a=Ec();return a?Km(a.sanitize(Zn.HTML,o)||""):Fo(o,"HTML")?Km(Ui(o)):Jm(function Wm(){return void 0!==Yf?Yf:typeof document<"u"?document:void 0}(),ye(o))}function id(o){const a=Ec();return a?a.sanitize(Zn.URL,o)||"":Fo(o,"URL")?Ui(o):Lo(ye(o))}function Ec(){const o=De();return o&&o[12]}const sd=new _n("ENVIRONMENT_INITIALIZER"),ap=new _n("INJECTOR",-1),e_=new _n("INJECTOR_DEF_TYPES");class Sh{get(a,c=yi){if(c===yi){const l=new Error(`NullInjectorError: No provider for ${pe(a)}!`);throw l.name="NullInjectorError",l}return c}}function Tv(...o){return{\u0275providers:ri(0,o)}}function ri(o,...a){const c=[],l=new Set;let h;return Ri(a,g=>{const v=g;od(v,c,[],l)&&(h||(h=[]),h.push(v))}),void 0!==h&&xu(h,c),c}function xu(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Ri(h,g=>{a.push(g)})}}function od(o,a,c,l){if(!(o=Q(o)))return!1;let h=null,g=Bs(o);const v=!g&&Nt(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const E=o.ngModule;if(g=Bs(E),!g)return!1;h=E}const C=l.has(h);if(v){if(C)return!1;if(l.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const D of E)od(D,a,c,l)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let D;l.add(h);try{Ri(g.imports,O=>{od(O,a,c,l)&&(D||(D=[]),D.push(O))})}finally{}void 0!==D&&xu(D,a)}if(!C){const D=Qi(h)||(()=>new h);a.push({provide:h,useFactory:D,deps:Dt},{provide:e_,useValue:h,multi:!0},{provide:sd,useValue:()=>wn(h),multi:!0})}const E=g.providers;null==E||C||Ri(E,O=>{a.push(O)})}}return h!==o&&void 0!==o.providers}const ad=fe({provide:String,useValue:fe});function Bi(o){return null!==o&&"object"==typeof o&&ad in o}function Ca(o){return"function"==typeof o}const br=new _n("Set Injector scope."),cd={},Iv={};let Mu;function Ou(){return void 0===Mu&&(Mu=new Sh),Mu}class jn{}class ud extends jn{constructor(a,c,l,h){super(),this.parent=c,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oh(a,v=>this.processProvider(v)),this.records.set(ap,Ac(void 0,this)),h.has("environment")&&this.records.set(jn,Ac(void 0,this));const g=this.records.get(br);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(e_.multi,Dt,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=As(this),l=Un(void 0);try{return a()}finally{As(c),Un(l)}}get(a,c=yi,l=Ye.Default){this.assertNotDestroyed();const h=As(this),g=Un(void 0);try{if(!(l&Ye.SkipSelf)){let C=this.records.get(a);if(void 0===C){const E=function Mh(o){return"function"==typeof o||"object"==typeof o&&o instanceof _n}(a)&&dn(a);C=E&&this.injectableDefInScope(E)?Ac(Ic(a),cd):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(l&Ye.Self?Ou():this.parent).get(a,c=l&Ye.Optional&&c===yi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[ma]=v[ma]||[]).unshift(pe(a)),h)throw v;return function J(o,a,c,l){const h=o[ma];throw a[cr]&&h.unshift(a[cr]),o.message=function ie(o,a,c,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=pe(a);if(Array.isArray(a))h=a.map(pe).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}h=`{${g.join(", ")}}`}return`${c}${l?"("+l+")":""}[${h}]: ${o.replace(es,"\n  ")}`}("\n"+o.message,h,c,l),o.ngTokenPath=h,o[ma]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Un(g),As(h)}}resolveInjectorInitializers(){const a=As(this),c=Un(void 0);try{const l=this.get(sd.multi,Dt,Ye.Self);for(const h of l)h()}finally{As(a),Un(c)}}toString(){const a=[],c=this.records;for(const l of c.keys())a.push(pe(l));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let c=Ca(a=Q(a))?a:Q(a&&a.provide);const l=function Vo(o){return Bi(o)?Ac(void 0,o.useValue):Ac(so(o),cd)}(a);if(Ca(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Ac(void 0,cd,!0),h.factory=()=>I(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,l)}hydrate(a,c){return c.value===cd&&(c.value=Iv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function up(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ic(o){const a=dn(o),c=null!==a?a.factory:Qi(o);if(null!==c)return c;if(o instanceof _n)throw new we(204,!1);if(o instanceof Function)return function cp(o){const a=o.length;if(a>0)throw Js(a,"?"),new we(204,!1);const c=function Mr(o){const a=o&&(o[Wi]||o[Di]);if(a){const c=function Yr(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new we(204,!1)}function so(o,a,c){let l;if(Ca(o)){const h=Q(o);return Qi(h)||Ic(h)}if(Bi(o))l=()=>Q(o.useValue);else if(function xh(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...I(o.deps||[]));else if(function Tc(o){return!(!o||!o.useExisting)}(o))l=()=>wn(Q(o.useExisting));else{const h=Q(o&&(o.useClass||o.provide));if(!function n_(o){return!!o.deps}(o))return Qi(h)||Ic(h);l=()=>new h(...I(o.deps))}return l}function Ac(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function r_(o){return!!o.\u0275providers}function Oh(o,a){for(const c of o)Array.isArray(c)?Oh(c,a):r_(c)?Oh(c.\u0275providers,a):a(c)}class s_{}class b{resolveComponentFactory(a){throw function y(o){const a=Error(`No component factory found for ${pe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let S=(()=>{class o{}return o.NULL=new b,o})();function P(){return W(Pn(),De())}function W(o,a){return new le(qr(o,a))}let le=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=P,o})();function Le(o){return o instanceof le?o.nativeElement:o}class Ct{}let ft=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function wr(){const o=De(),c=zt(Pn().index,o);return(mr(c)?c:o)[11]}(),o})(),Ds=(()=>{class o{}return o.\u0275prov=tn({token:o,providedIn:"root",factory:()=>null}),o})();class ld{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const dd=new ld("14.2.0"),$r={};function xv(o){return o.ngOriginalError}class a_{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&xv(a);for(;c&&xv(c);)c=xv(c);return c||null}}const Ov=new Map;let pA=0;function Vw(o){return Ov.get(o)||null}class _A{constructor(a,c,l){this.lViewId=a,this.nodeIndex=c,this.native=l}get lView(){return Vw(this.lViewId)}}function Hr(o){let a=dp(o);if(a){if(mr(a)){const c=a;let l,h,g;if(function yA(o){return o&&o.constructor&&o.constructor.\u0275cmp}(o)){if(l=function hp(o,a){const c=o[1].components;if(c)for(let l=0;l<c.length;l++){const h=c[l];if(zt(h,o)[8]===a)return h}else if(zt(22,o)[8]===a)return 22;return-1}(c,o),-1==l)throw new Error("The provided component was not found in the application");h=o}else if(function d_(o){return o&&o.constructor&&o.constructor.\u0275dir}(o)){if(l=function h_(o,a){let c=o[1].firstChild;for(;c;){const h=c.directiveEnd;for(let g=c.directiveStart;g<h;g++)if(o[g]===a)return c.index;c=Zw(c)}return-1}(c,o),-1==l)throw new Error("The provided directive was not found in the application");g=function Rv(o,a,c){const l=a[1].data[o];let h=l.directiveStart;return 0==h?Dt:(!c&&2&l.flags&&h++,a.slice(h,l.directiveEnd))}(l,c,!1)}else if(l=kv(c,o),-1==l)return null;const v=On(c[l]),C=dp(v),E=C&&!Array.isArray(C)?C:u_(c,l,v);if(h&&void 0===E.component&&(E.component=h,bi(E.component,E)),g&&void 0===E.directives){E.directives=g;for(let D=0;D<g.length;D++)bi(g[D],E)}bi(E.native,E),a=E}}else{const c=o;let l=c;for(;l=l.parentNode;){const h=dp(l);if(h){const g=Array.isArray(h)?h:h.lView;if(!g)return null;const v=kv(g,c);if(v>=0){const C=On(g[v]),E=u_(g,v,C);bi(C,E),a=E;break}}}}return a||null}function u_(o,a,c){return new _A(o[20],a,c)}const Rh="__ngContext__";function bi(o,a){mr(a)?(o[Rh]=a[20],function mA(o){Ov.set(o[20],o)}(a)):o[Rh]=a}function dp(o){const a=o[Rh];return"number"==typeof a?Vw(a):a||null}function Pv(o){const a=dp(o);return a?mr(a)?a:a.lView:null}function kv(o,a){const c=o[1];for(let l=22;l<c.bindingStartIndex;l++)if(On(o[l])===a)return l;return-1}function Zw(o){if(o.child)return o.child;if(o.next)return o.next;for(;o.parent&&!o.parent.next;)o=o.parent;return o.parent&&o.parent.next}function qw(o){return o.ownerDocument}function Sc(o){return o instanceof Function?o():o}var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();function p_(o,a){return undefined(o,a)}function Fh(o){const a=o[3];return jr(a)?a[3]:a}function Lv(o){return Ww(o[13])}function Uv(o){return Ww(o[4])}function Ww(o){for(;null!==o&&!jr(o);)o=o[4];return o}function Lh(o,a,c,l,h){if(null!=l){let g,v=!1;jr(l)?g=l:mr(l)&&(v=!0,l=l[0]);const C=On(l);0===o&&null!==c?null==h?Qw(a,c,C):gd(a,c,C,h||null,!0):1===o&&null!==c?gd(a,c,C,h||null,!0):2===o?function y_(o,a,c){const l=un(o,a);l&&function xA(o,a,c,l){o.removeChild(a,c,l)}(o,l,a,c)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function Uh(o,a,c,l,h){const g=c[7];g!==On(c)&&Lh(a,o,l,g,h);for(let C=10;C<c.length;C++){const E=c[C];Ru(E[1],E,o,a,l,g)}}(a,o,g,c,h)}}function g_(o,a,c){return o.createElement(a,c)}function pp(o,a){const c=o[9],l=c.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,Sn(h,-1)),c.splice(l,1)}function m_(o,a){if(o.length<=10)return;const c=10+a,l=o[c];if(l){const h=l[17];null!==h&&h!==o&&pp(h,l),a>0&&(o[c-1][4]=l[4]);const g=Ir(o,10+a);!function Kw(o,a){Ru(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function __(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Ru(o,a,c,3,null,null),function TA(o){let a=o[13];if(!a)return gp(o[1],o);for(;a;){let c=null;if(mr(a))c=a[13];else{const l=a[10];l&&(c=l)}if(!c){for(;a&&!a[4]&&a!==o;)mr(a)&&gp(a[1],a),a=a[3];null===a&&(a=o),mr(a)&&gp(a[1],a),c=a&&a[4]}a=c}}(a)}}function gp(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function SA(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let l=0;l<c.length;l+=2){const h=a[c[l]];if(!(h instanceof Ws)){const g=c[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],E=g[v+1];try{E.call(C)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function DA(o,a){const c=o.cleanup,l=a[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(a):On(a[v]),E=l[h=c[g+2]],D=c[g+3];"boolean"==typeof D?C.removeEventListener(c[g],E,D):D>=0?l[h=D]():l[h=-D].unsubscribe(),g+=2}else{const v=l[h=c[g+1]];c[g].call(v)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&jr(a[3])){c!==a[3]&&pp(c,a);const l=a[19];null!==l&&l.detachView(o)}!function Bw(o){Ov.delete(o[20])}(a)}}function mp(o,a,c){return function Yw(o,a,c){let l=a;for(;null!==l&&40&l.type;)l=(a=l).parent;if(null===l)return c[0];if(2&l.flags){const h=o.data[l.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return qr(l,c)}(o,a.parent,c)}function gd(o,a,c,l,h){o.insertBefore(a,c,l,h)}function Qw(o,a,c){o.appendChild(a,c)}function Jw(o,a,c,l,h){null!==l?gd(o,a,c,l,h):Qw(o,a,c)}function un(o,a){return o.parentNode(a)}function jv(o,a,c){return Zi(o,a,c)}let Zi=function ku(o,a,c){return 40&o.type?qr(o,c):null};function _p(o,a,c,l){const h=mp(o,l,a),g=a[11],C=jv(l.parent||a[6],l,a);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)Jw(g,h,c[E],C,!1);else Jw(g,h,c,C,!1)}function $v(o,a){if(null!==a){const c=a.type;if(3&c)return qr(a,o);if(4&c)return Hv(-1,o[a.index]);if(8&c){const l=a.child;if(null!==l)return $v(o,l);{const h=o[a.index];return jr(h)?Hv(-1,h):On(h)}}if(32&c)return p_(a,o)()||On(o[a.index]);{const l=PA(o,a);return null!==l?Array.isArray(l)?l[0]:$v(Fh(o[16]),l):$v(o,a.next)}}return null}function PA(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Hv(o,a){const c=10+o+1;if(c<a.length){const l=a[c],h=l[1].firstChild;if(null!==h)return $v(l,h)}return a[7]}function v_(o,a,c,l,h,g,v){for(;null!=c;){const C=l[c.index],E=c.type;if(v&&0===a&&(C&&bi(On(C),l),c.flags|=4),64!=(64&c.flags))if(8&E)v_(o,a,c.child,l,h,g,!1),Lh(a,o,h,C,g);else if(32&E){const D=p_(c,l);let O;for(;O=D();)Lh(a,o,h,O,g);Lh(a,o,h,C,g)}else 16&E?Gv(o,a,l,c,h,g):Lh(a,o,h,C,g);c=v?c.projectionNext:c.next}}function Ru(o,a,c,l,h,g){v_(c,l,o.firstChild,a,h,g,!1)}function Gv(o,a,c,l,h,g){const v=c[16],E=v[6].projection[l.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)Lh(a,o,h,E[D],g);else v_(o,a,E,v[3],h,g,!0)}function kA(o,a,c){o.setAttribute(a,"style",c)}function b_(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Wv(o,a,c){let l=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===l||o.charCodeAt(h+g)<=32)return h}c=h+1}}const tC="ng-template";function RA(o,a,c){let l=0;for(;l<o.length;){let h=o[l++];if(c&&"class"===h){if(h=o[l],-1!==Wv(h.toLowerCase(),a,0))return!0}else if(1===h){for(;l<o.length&&"string"==typeof(h=o[l++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function nC(o){return 4===o.type&&o.value!==tC}function rC(o,a,c){return a===(4!==o.type||c?o.value:tC)}function NA(o,a,c){let l=4;const h=o.attrs||[],g=function LA(o){for(let a=0;a<o.length;a++)if(Ao(o[a]))return a;return o.length}(h);let v=!1;for(let C=0;C<a.length;C++){const E=a[C];if("number"!=typeof E){if(!v)if(4&l){if(l=2|1&l,""!==E&&!rC(o,E,c)||""===E&&1===a.length){if(Aa(l))return!1;v=!0}}else{const D=8&l?E:a[++C];if(8&l&&null!==o.attrs){if(!RA(o.attrs,D,c)){if(Aa(l))return!1;v=!0}continue}const N=w_(8&l?"class":E,h,nC(o),c);if(-1===N){if(Aa(l))return!1;v=!0;continue}if(""!==D){let G;G=N>g?"":h[N+1].toLowerCase();const te=8&l?G:null;if(te&&-1!==Wv(te,D,0)||2&l&&D!==G){if(Aa(l))return!1;v=!0}}}}else{if(!v&&!Aa(l)&&!Aa(E))return!1;if(v&&Aa(E))continue;v=!1,l=E|1&l}}return Aa(l)||v}function Aa(o){return 0==(1&o)}function w_(o,a,c,l){if(null===a)return-1;let h=0;if(l||!c){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function UA(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const l=o[c];if("number"==typeof l)return-1;if(l===a)return c;c++}return-1}(a,o)}function FA(o,a,c=!1){for(let l=0;l<a.length;l++)if(NA(o,a[l],c))return!0;return!1}function sC(o,a){e:for(let c=0;c<a.length;c++){const l=a[c];if(o.length===l.length){for(let h=0;h<o.length;h++)if(o[h]!==l[h])continue e;return!0}}return!1}function oC(o,a){return o?":not("+a.trim()+")":a}function VA(o){let a=o[0],c=1,l=2,h="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&l){const C=o[++c];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?h+="."+v:4&l&&(h+=" "+v);else""!==h&&!Aa(v)&&(a+=oC(g,h),h=""),l=v,g=g||!Aa(l);c++}return""!==h&&(a+=oC(g,h)),a}const Lt={};function Kv(o){aC($t(),De(),or()+o,!1)}function aC(o,a,c,l){if(!l)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&ia(a,g,c)}else{const g=o.preOrderHooks;null!==g&&sa(a,g,0,c)}ei(c)}function ve(o,a=null,c=null,l){const h=oo(o,a,c,l);return h.resolveInjectorInitializers(),h}function oo(o,a=null,c=null,l,h=new Set){const g=[c||Dt,Tv(o)];return l=l||("object"==typeof o?void 0:pe(o)),new ud(g,a||Ou(),l||null,h)}let ao=(()=>{class o{static create(c,l){if(Array.isArray(c))return ve({name:""},l,c,"");{const h=c.name??"";return ve({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=yi,o.NULL=new Sh,o.\u0275prov=tn({token:o,providedIn:"any",factory:()=>wn(ap)}),o.__NG_ELEMENT_ID__=-1,o})();function Uu(o,a=Ye.Default){const c=De();return null===c?wn(o,a):So(Pn(),c,Q(o),a)}function gC(){throw new Error("invalid")}function Oc(o,a){return o<<17|a<<2}function co(o){return o>>17&32767}function Qv(o){return 2|o}function Da(o){return(131068&o)>>2}function Bh(o,a){return-131069&o|a<<2}function wp(o){return 1|o}function SC(o,a){const c=o.contentQueries;if(null!==c)for(let l=0;l<c.length;l+=2){const h=c[l],g=c[l+1];if(-1!==g){const v=o.data[g];tc(h),v.contentQueries(2,a[g],g)}}}function R_(o,a,c,l,h,g,v,C,E,D,O){const N=a.blueprint.slice();return N[0]=h,N[2]=76|l,(null!==O||o&&1024&o[2])&&(N[2]|=1024),nu(N),N[3]=N[15]=o,N[8]=c,N[10]=v||o&&o[10],N[11]=C||o&&o[11],N[12]=E||o&&o[12]||null,N[9]=D||o&&o[9]||null,N[6]=g,N[20]=function gA(){return pA++}(),N[21]=O,N[16]=2==a.type?o[16]:N,N}function Pc(o,a,c,l,h){let g=o.data[a];if(null===g)g=function Ap(o,a,c,l,h){const g=cu(),v=Qa(),E=o.data[a]=function OC(o,a,c,l,h,g){return{type:c,index:l,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,l,h);return null===o.firstChild&&(o.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}(o,a,c,l,h),function Fm(){return St.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=l,g.attrs=h;const v=function ra(){const o=St.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return _i(g,!0),g}function Bu(o,a,c,l){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(l),o.blueprint.push(l),o.data.push(null);return h}function Dp(o,a,c){du(a);try{const l=o.viewQuery;null!==l&&Hh(1,l,c);const h=o.template;null!==h&&c0(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&SC(o,a),o.staticViewQueries&&Hh(2,o.viewQuery,c);const g=o.components;null!==g&&function xC(o,a){for(let c=0;c<a.length;c++)yd(o,a[c])}(a,g)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{a[2]&=-5,Co()}}function Sp(o,a,c,l){const h=a[2];if(128!=(128&h)){du(a);try{nu(a),function Nl(o){return St.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&c0(o,a,c,2,l);const v=3==(3&h);if(v){const D=o.preOrderCheckHooks;null!==D&&ia(a,D,null)}else{const D=o.preOrderHooks;null!==D&&sa(a,D,0,null),hh(a,0)}if(function VC(o){for(let a=Lv(o);null!==a;a=Uv(a)){if(!a[2])continue;const c=a[9];for(let l=0;l<c.length;l++){const h=c[l],g=h[3];0==(512&h[2])&&Sn(g,1),h[2]|=512}}}(a),function Np(o){for(let a=Lv(o);null!==a;a=Uv(a))for(let c=10;c<a.length;c++){const l=a[c],h=l[1];vo(l)&&Sp(h,l,h.template,l[8])}}(a),null!==o.contentQueries&&SC(o,a),v){const D=o.contentCheckHooks;null!==D&&ia(a,D)}else{const D=o.contentHooks;null!==D&&sa(a,D,1),hh(a,1)}!function o0(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let l=0;l<c.length;l++){const h=c[l];if(h<0)ei(~h);else{const g=h,v=c[++l],C=c[++l];Lm(v,g),C(2,a[g])}}}finally{ei(-1)}}(o,a);const C=o.components;null!==C&&function a0(o,a){for(let c=0;c<a.length;c++)q_(o,a[c])}(a,C);const E=o.viewQuery;if(null!==E&&Hh(2,E,l),v){const D=o.viewCheckHooks;null!==D&&ia(a,D)}else{const D=o.viewHooks;null!==D&&sa(a,D,2),hh(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Sn(a[3],-1))}finally{Co()}}}function xp(o,a,c,l){const h=a[10],v=Ka(a);try{!v&&h.begin&&h.begin(),v&&Dp(o,a,l),Sp(o,a,c,l)}finally{!v&&h.end&&h.end()}}function c0(o,a,c,l,h){const g=or(),v=2&l;try{ei(-1),v&&a.length>22&&aC(o,a,22,!1),c(l,h)}finally{ei(g)}}function u0(o,a,c){if(za(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function N_(o,a,c){!Cs()||(function RC(o,a,c,l){const h=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||Do(c,a),bi(l,a);const v=c.initialInputs;for(let C=h;C<g;C++){const E=o.data[C],D=Or(E);D&&p0(a,c,E);const O=Ts(a,o,C,c);bi(O,a),null!==v&&FC(0,C-h,O,E,0,v),D&&(zt(c.index,a)[8]=O)}}(o,a,c,qr(c,a)),128==(128&c.flags)&&function Pp(o,a,c){const l=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Fl(){return St.lFrame.currentDirectiveIndex}();try{ei(g);for(let C=l;C<h;C++){const E=o.data[C],D=a[C];uu(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&B_(E,D)}}finally{ei(-1),uu(v)}}(o,a,c))}function jh(o,a,c=qr){const l=a.localNames;if(null!==l){let h=a.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],C=-1===v?c(a,o):o[v];o[h++]=C}}}function MC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=l0(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function l0(o,a,c,l,h,g,v,C,E,D){const O=22+l,N=O+h,G=function qh(o,a){const c=[];for(let l=0;l<a;l++)c.push(l<o?null:Lt);return c}(O,N),te="function"==typeof D?D():D;return G[1]={type:o,blueprint:G,template:c,queries:null,viewQuery:C,declTNode:a,data:G.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:te,incompleteFirstPass:!1}}function Zu(o,a,c,l){const h=y0(a);null===c?h.push(l):(h.push(c),o.firstCreatePass&&Fn(o).push(l,h.length-1))}function Mp(o,a,c){for(let l in o)if(o.hasOwnProperty(l)){const h=o[l];(c=null===c?{}:c).hasOwnProperty(l)?c[l].push(a,h):c[l]=[a,h]}return c}function d0(o,a){const l=a.directiveEnd,h=o.data,g=a.attrs,v=[];let C=null,E=null;for(let D=a.directiveStart;D<l;D++){const O=h[D],N=O.inputs,G=null===g||nC(a)?null:LC(N,g);v.push(G),C=Mp(N,D,C),E=Mp(O.outputs,D,E)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=E}function ss(o,a,c,l,h,g,v,C){const E=qr(a,c);let O,D=a.inputs;!C&&null!=D&&(O=D[l])?(vd(o,c,O,l,h),Xo(a)&&Ci(c,a.index)):3&a.type&&(l=function Op(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=v?v(h,a.value||"",l):h,g.setProperty(E,l,h))}function Ci(o,a){const c=zt(a,o);16&c[2]||(c[2]|=32)}function U_(o,a,c,l){let h=!1;if(Cs()){const g=function h0(o,a,c){const l=o.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];FA(c,v.selectors,!1)&&(h||(h=[]),Ks(Do(c,a),o,v.type),Or(v)?(Z_(o,c),h.unshift(v)):h.push(v))}return h}(o,a,c),v=null===l?null:{"":-1};if(null!==g){h=!0,f0(c,o.data.length,g.length);for(let O=0;O<g.length;O++){const N=g[O];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,D=Bu(o,a,g.length,null);for(let O=0;O<g.length;O++){const N=g[O];c.mergedAttrs=nc(c.mergedAttrs,N.hostAttrs),NC(o,c,a,D,N),kp(D,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const G=N.type.prototype;!C&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),C=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),D++}d0(o,c)}v&&function j_(o,a,c){if(a){const l=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new we(-301,!1);l.push(a[h],g)}}}(c,l,v)}return c.mergedAttrs=nc(c.mergedAttrs,c.attrs),h}function V_(o,a,c,l,h,g){const v=g.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const E=~a.index;(function kC(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(l,h,v)}}function B_(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Z_(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function kp(o,a,c){if(c){if(a.exportAs)for(let l=0;l<a.exportAs.length;l++)c[a.exportAs[l]]=o;Or(a)&&(c[""]=o)}}function f0(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function NC(o,a,c,l,h){o.data[l]=h;const g=h.factory||(h.factory=Qi(h.type)),v=new Ws(g,Or(h),Uu);o.blueprint[l]=v,c[l]=v,V_(o,a,0,l,Bu(o,c,h.hostVars,Lt),h)}function p0(o,a,c){const l=qr(a,o),h=MC(c),g=o[10],v=$_(o,R_(o,h,null,c.onPush?32:16,l,a,g,g.createRenderer(l,c),null,null,null));o[a.index]=v}function Ss(o,a,c,l,h,g){const v=qr(o,a);!function Rp(o,a,c,l,h,g,v){if(null==g)o.removeAttribute(a,h,c);else{const C=null==v?ye(g):v(g,l||"",h);o.setAttribute(a,h,C,c)}}(a[11],v,g,o.value,c,l,h)}function FC(o,a,c,l,h,g){const v=g[a];if(null!==v){const C=l.setInput;for(let E=0;E<v.length;){const D=v[E++],O=v[E++],N=v[E++];null!==C?l.setInput(c,N,D,O):c[O]=N}}}function LC(o,a){let c=null,l=0;for(;l<a.length;){const h=a[l];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],a[l+1])),l+=2}else l+=2;else l+=4}return c}function UC(o,a,c,l){return new Array(o,!0,!1,a,null,0,l,c,null,null)}function q_(o,a){const c=zt(a,o);if(vo(c)){const l=c[1];48&c[2]?Sp(l,c,l.template,c[8]):c[5]>0&&_d(c)}}function _d(o){for(let l=Lv(o);null!==l;l=Uv(l))for(let h=10;h<l.length;h++){const g=l[h];if(vo(g))if(512&g[2]){const v=g[1];Sp(v,g,v.template,g[8])}else g[5]>0&&_d(g)}const c=o[1].components;if(null!==c)for(let l=0;l<c.length;l++){const h=zt(c[l],o);vo(h)&&h[5]>0&&_d(h)}}function yd(o,a){const c=zt(a,o),l=c[1];(function g0(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(l,c),Dp(l,c,c[8])}function $_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function m0(o){for(;o;){o[2]|=32;const a=Fh(o);if(Uf(o)&&!a)return o;o=a}return null}function Hh(o,a,c){tc(0),a(o,c)}function y0(o){return o[7]||(o[7]=[])}function Fn(o){return o.cleanup||(o.cleanup=[])}function Gh(o,a){const c=o[9],l=c?c.get(a_,null):null;l&&l.handleError(a)}function vd(o,a,c,l,h){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],E=a[v],D=o.data[v];null!==D.setInput?D.setInput(E,h,l,C):E[C]=h}}function kc(o,a,c){const l=mi(a,o);!function Bv(o,a,c){o.setValue(a,c)}(o[11],l,c)}function Lp(o,a,c){let l=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?h=me(h,C):2==g&&(l=me(l,C+": "+a[++v]+";"))}c?o.styles=l:o.stylesWithoutHost=l,c?o.classes=h:o.classesWithoutHost=h}function G_(o,a,c,l,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&l.push(On(g)),jr(g))for(let C=10;C<g.length;C++){const E=g[C],D=E[1].firstChild;null!==D&&G_(E[1],E,D,l)}const v=c.type;if(8&v)G_(o,a,c.child,l);else if(32&v){const C=p_(c,a);let E;for(;E=C();)l.push(E)}else if(16&v){const C=PA(a,c);if(Array.isArray(C))l.push(...C);else{const E=Fh(a[16]);G_(E[1],E,C,l,!0)}}c=h?c.projectionNext:c.next}return l}class Up{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return G_(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(jr(a)){const c=a[8],l=c?c.indexOf(this):-1;l>-1&&(m_(a,l),Ir(c,l))}this._attachedToViewContainer=!1}__(this._lView[1],this._lView)}onDestroy(a){Zu(this._lView[1],this._lView,null,a)}markForCheck(){m0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function H_(o,a,c){const l=a[10];l.begin&&l.begin();try{Sp(o,a,o.template,c)}catch(h){throw Gh(a,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EA(o,a){Ru(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class oD extends Up{constructor(a){super(a),this._view=a}detectChanges(){!function ZC(o){!function BC(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],l=Pv(c);if(null!==l){const h=l[1];xp(h,l,h.template,c)}}}(o[8])}(this._view)}checkNoChanges(){}get context(){return null}}class v0 extends S{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Nt(a);return new Wh(c,this.ngModule)}}function zh(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class jC{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,l){const h=this.injector.get(a,$r,l);return h!==$r||c===$r?h:this.parentInjector.get(a,c,l)}}class Wh extends s_{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function BA(o){return o.map(VA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(a,c,l,h){let g=(h=h||this.ngModule)instanceof jn?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new jC(a,g):a,C=v.get(Ct,null);if(null===C)throw new we(407,!1);const E=v.get(Ds,null),D=C.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",N=l?function iD(o,a,c){return o.selectRootElement(a,c===lt.ShadowDom)}(D,l,this.componentDef.encapsulation):g_(C.createRenderer(null,this.componentDef),O,function qu(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),G=this.componentDef.onPush?288:272,te={components:[]},Ce=l0(0,null,null,1,0,null,null,null,null,null),Ne=R_(null,Ce,te,G,null,null,C,D,E,v,null);let He,tt;du(Ne);try{const Tt=function $C(o,a,c,l,h,g){const v=c[1];c[22]=o;const E=Pc(v,22,2,"#host",null),D=E.mergedAttrs=a.hostAttrs;null!==D&&(Lp(E,D,!0),null!==o&&(aa(h,o,D),null!==E.classes&&b_(h,o,E.classes),null!==E.styles&&kA(h,o,E.styles)));const O=l.createRenderer(o,a),N=R_(c,MC(a),null,a.onPush?32:16,c[22],E,l,O,g||null,null,null);return v.firstCreatePass&&(Ks(Do(E,c),v,a.type),Z_(v,E),f0(E,c.length,1)),$_(c,N),c[22]=N}(N,this.componentDef,Ne,C,D);if(N)if(l)aa(D,N,["ng-version",dd.full]);else{const{attrs:Me,classes:yt}=function ZA(o){const a=[],c=[];let l=1,h=2;for(;l<o.length;){let g=o[l];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++l]):8===h&&c.push(g);else{if(!Aa(h))break;h=g}l++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Me&&aa(D,N,Me),yt&&yt.length>0&&b_(D,N,yt.join(" "))}if(tt=na(Ce,22),void 0!==c){const Me=tt.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Yt=c[yt];Me.push(null!=Yt?Array.from(Yt):null)}}He=function cD(o,a,c,l,h){const g=c[1],v=function L_(o,a,c){const l=Pn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),NC(o,l,a,Bu(o,a,1,null),c),d0(o,l));const h=Ts(a,o,l.directiveStart,l);bi(h,a);const g=qr(l,a);return g&&bi(g,a),h}(g,c,a);if(l.components.push(v),o[8]=v,null!==h)for(const E of h)E(v,a);if(a.contentQueries){const E=Pn();a.contentQueries(1,v,E.directiveStart)}const C=Pn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ei(C.index),V_(c[1],C,0,C.directiveStart,C.directiveEnd,a),B_(a,v)),v}(Tt,this.componentDef,Ne,te,[GC]),Dp(Ce,Ne,null)}finally{Co()}return new aD(this.componentType,He,W(tt,Ne),Ne,tt)}}class aD extends class i_{}{constructor(a,c,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new oD(h),this.componentType=a}setInput(a,c){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[a])){const g=this._rootLView;vd(g[1],g,h,a,c),Ci(g,this._tNode.index)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function GC(){const o=Pn();Hl(De()[1],o)}function Bp(o){let a=function z_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const l=[o];for(;a;){let h;if(Or(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);h=a.\u0275dir}if(h){if(c){l.push(h);const v=o;v.inputs=W_(o.inputs),v.declaredInputs=W_(o.declaredInputs),v.outputs=W_(o.outputs);const C=h.hostBindings;C&&lD(o,C);const E=h.viewQuery,D=h.contentQueries;if(E&&b0(o,E),D&&uD(o,D),ue(o.inputs,h.inputs),ue(o.declaredInputs,h.declaredInputs),ue(o.outputs,h.outputs),Or(h)&&h.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===Bp&&(c=!1)}}a=Object.getPrototypeOf(a)}!function zC(o){let a=0,c=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=a+=h.hostVars,h.hostAttrs=nc(h.hostAttrs,c=nc(c,h.hostAttrs))}}(l)}function W_(o){return o===Br?{}:o===Dt?[]:o}function b0(o,a){const c=o.viewQuery;o.viewQuery=c?(l,h)=>{a(l,h),c(l,h)}:a}function uD(o,a){const c=o.contentQueries;o.contentQueries=c?(l,h,g)=>{a(l,h,g),c(l,h,g)}:a}function lD(o,a){const c=o.hostBindings;o.hostBindings=c?(l,h)=>{a(l,h),c(l,h)}:a}let bd=null;function Rc(){if(!bd){const o=fn.Symbol;if(o&&o.iterator)bd=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const l=a[c];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(bd=l)}}}return bd}function Nc(o){return!!lr(o)&&(Array.isArray(o)||!(o instanceof Map)&&Rc()in o)}function lr(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function xa(o,a,c){return o[a]=c}function Ei(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function $u(o,a,c,l){const h=Ei(o,a,c);return Ei(o,a+1,l)||h}function Kh(o,a,c,l){const h=De();return Ei(h,wo(),a)&&($t(),Ss(vn(),h,o,a,c,l)),Kh}function os(o,a,c,l){return Ei(o,wo(),c)?a+ye(c)+l:Lt}function Cd(o,a,c,l,h,g){const C=$u(o,function Ji(){return St.lFrame.bindingIndex}(),c,h);return Es(2),C?a+ye(c)+l+ye(h)+g:Lt}function I0(o,a,c,l,h,g,v,C){const E=De(),D=$t(),O=o+22,N=D.firstCreatePass?function J_(o,a,c,l,h,g,v,C,E){const D=a.consts,O=Pc(a,o,4,v||null,Oi(D,C));U_(a,c,O,Oi(D,E)),Hl(a,O);const N=O.tViews=l0(2,O,l,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,O),N.queries=a.queries.embeddedTView(O)),O}(O,D,E,a,c,l,h,g,v):D.data[O];_i(N,!1);const G=E[11].createComment("");_p(D,E,G,N),bi(G,E),$_(E,E[O]=UC(G,E,G,N)),Al(N)&&N_(D,E,N),null!=v&&jh(E,N,C)}function zu(o){return ws(function Rl(){return St.lFrame.contextLView}(),22+o)}function X_(o,a,c){const l=De();return Ei(l,wo(),a)&&ss($t(),vn(),l,o,a,l[11],c,!1),X_}function ey(o,a,c,l,h){const v=h?"class":"style";vd(o,c,a.inputs[v],v,l)}function Gp(o,a,c,l){const h=De(),g=$t(),v=22+o,C=h[11],E=h[v]=g_(C,a,function fu(){return St.lFrame.currentNamespace}()),D=g.firstCreatePass?function JC(o,a,c,l,h,g,v){const C=a.consts,D=Pc(a,o,2,h,Oi(C,g));return U_(a,c,D,Oi(C,v)),null!==D.attrs&&Lp(D,D.attrs,!1),null!==D.mergedAttrs&&Lp(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(v,g,h,0,a,c,l):g.data[v];_i(D,!0);const O=D.mergedAttrs;null!==O&&aa(C,E,O);const N=D.classes;null!==N&&b_(C,E,N);const G=D.styles;return null!==G&&kA(C,E,G),64!=(64&D.flags)&&_p(g,h,E,D),0===function iu(){return St.lFrame.elementDepthCount}()&&bi(E,h),function su(){St.lFrame.elementDepthCount++}(),Al(D)&&(N_(g,h,D),u0(g,D,h)),null!==l&&jh(h,D),Gp}function Id(){let o=Pn();Qa()?Ja():(o=o.parent,_i(o,!1));const a=o;!function Ol(){St.lFrame.elementDepthCount--}();const c=$t();return c.firstCreatePass&&(Hl(c,o),za(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function mu(o){return 0!=(16&o.flags)}(a)&&ey(c,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ph(o){return 0!=(32&o.flags)}(a)&&ey(c,a,De(),a.stylesWithoutHost,!1),Id}function qi(o,a,c,l){return Gp(o,a,c,l),Id(),qi}function zp(o,a,c){const l=De(),h=$t(),g=o+22,v=h.firstCreatePass?function XC(o,a,c,l,h){const g=a.consts,v=Oi(g,l),C=Pc(a,o,8,"ng-container",v);return null!==v&&Lp(C,v,!0),U_(a,c,C,Oi(g,h)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,h,l,a,c):h.data[g];_i(v,!0);const C=l[g]=l[11].createComment("");return _p(h,l,C,v),bi(C,l),Al(v)&&(N_(h,l,v),u0(h,v,l)),null!=c&&jh(l,v),zp}function Lc(){let o=Pn();const a=$t();return Qa()?Ja():(o=o.parent,_i(o,!1)),a.firstCreatePass&&(Hl(a,o),za(o)&&a.queries.elementEnd(o)),Lc}function A0(o,a,c){return zp(o,a,c),Lc(),A0}function eE(){return De()}function Wp(o){return!!o&&"function"==typeof o.then}function tE(o){return!!o&&"function"==typeof o.subscribe}const nE=tE;function ty(o,a,c,l){const h=De(),g=$t(),v=Pn();return function iE(o,a,c,l,h,g,v,C){const E=Al(l),O=o.firstCreatePass&&Fn(o),N=a[8],G=y0(a);let te=!0;if(3&l.type||C){const He=qr(l,a),tt=C?C(He):He,Tt=G.length,Me=C?Yt=>C(On(Yt[l.index])):l.index;let yt=null;if(!C&&E&&(yt=function ny(o,a,c,l){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===l){const C=a[7],E=h[g+2];return C.length>E?C[E]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,l.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=g,yt.__ngLastListenerFn__=g,te=!1;else{g=Pr(l,a,N,g,!1);const Yt=c.listen(tt,h,g);G.push(g,Yt),O&&O.push(h,Me,Tt,Tt+1)}}else g=Pr(l,a,N,g,!1);const Ce=l.outputs;let Ne;if(te&&null!==Ce&&(Ne=Ce[h])){const He=Ne.length;if(He)for(let tt=0;tt<He;tt+=2){const Dn=a[Ne[tt]][Ne[tt+1]].subscribe(g),zd=G.length;G.push(g,Dn),O&&O.push(h,l.index,zd,-(zd+1))}}}(g,h,h[11],v,o,a,0,l),ty}function D0(o,a,c,l){try{return!1!==c(l)}catch(h){return Gh(o,h),!1}}function Pr(o,a,c,l,h){return function g(v){if(v===Function)return l;m0(2&o.flags?zt(o.index,a):a);let E=D0(a,0,l,v),D=g.__ngNextListenerFn__;for(;D;)E=D0(a,0,D,v)&&E,D=D.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Ad(o=1){return function Eo(o){return(St.lFrame.contextLView=function hu(o,a){for(;o>0;)a=a[15],o--;return a}(o,St.lFrame.contextLView))[8]}(o)}function Wu(o,a){let c=null;const l=function iC(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===l?FA(o,g,!0):sC(l,g))return h}else c=h}return c}function ry(o){const a=De()[16][6];if(!a.projection){const l=a.projection=Js(o?o.length:1,null),h=l.slice();let g=a.child;for(;null!==g;){const v=o?Wu(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:l[v]=g,h[v]=g),g=g.next}}}function sE(o,a=0,c){const l=De(),h=$t(),g=Pc(h,22+o,16,null,c||null);null===g.projection&&(g.projection=a),Ja(),64!=(64&g.flags)&&function Fx(o,a,c){Gv(a[11],0,a,c,mp(o,c,a),jv(c.parent||a[6],c,a))}(h,l,g)}function ke(o,a,c){return qn(o,"",a,"",c),ke}function qn(o,a,c,l,h){const g=De(),v=os(g,a,c,l);return v!==Lt&&ss($t(),vn(),g,o,v,g[11],h,!1),qn}function Uc(o,a,c,l,h,g,v){const C=De(),E=Cd(C,a,c,l,h,g);return E!==Lt&&ss($t(),vn(),C,o,E,C[11],v,!1),Uc}function cE(o,a,c,l,h){const g=o[c+1],v=null===a;let C=l?co(g):Da(g),E=!1;for(;0!==C&&(!1===E||v);){const O=o[C+1];gD(o[C],a)&&(E=!0,o[C+1]=l?wp(O):Qv(O)),C=l?co(O):Da(O)}E&&(o[c+1]=l?Qv(g):wp(g))}function gD(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&eo(o,a)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uE(o){return o.substring(kr.key,kr.keyEnd)}function _D(o,a){const c=kr.textEnd;return c===a?-1:(a=kr.keyEnd=function dE(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,kr.key=a,c),Bo(o,a,c))}function Bo(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Hn(o,a,c){return as(o,a,c,!1),Hn}function $e(o,a){return as(o,a,null,!0),$e}function Ku(o){!function Zo(o,a,c,l){const h=$t(),g=Es(2);h.firstUpdatePass&&M0(h,null,g,l);const v=De();if(c!==Lt&&Ei(v,g,c)){const C=h.data[or()];if(gE(C,l)&&!Qh(h,g)){let E=l?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=me(E,c||"")),ey(h,C,v,c,l)}else!function oy(o,a,c,l,h,g,v,C){h===Lt&&(h=Dt);let E=0,D=0,O=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==O||null!==N;){const G=E<h.length?h[E+1]:void 0,te=D<g.length?g[D+1]:void 0;let Ne,Ce=null;O===N?(E+=2,D+=2,G!==te&&(Ce=N,Ne=te)):null===N||null!==O&&O<N?(E+=2,Ce=O):(D+=2,Ce=N,Ne=te),null!==Ce&&lo(o,a,c,l,Ce,Ne,v,C),O=E<h.length?h[E]:null,N=D<g.length?g[D]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function P0(o,a,c){if(null==c||""===c)return Dt;const l=[],h=Ui(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(l,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(l,g,h[g]);else"string"==typeof h&&a(l,h);return l}(o,a,c),l,g)}}(at,Oa,o,!0)}function Oa(o,a){for(let c=function mD(o){return function Rt(o){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=o.length}(o),_D(o,Bo(o,0,kr.textEnd))}(a);c>=0;c=_D(a,c))at(o,uE(a),!0)}function as(o,a,c,l){const h=De(),g=$t(),v=Es(2);g.firstUpdatePass&&M0(g,o,v,l),a!==Lt&&Ei(h,v,a)&&lo(g,g.data[or()],h,h[11],o,h[v+1]=function Qu(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=pe(Ui(o)))),o}(a,c),l,v)}function Qh(o,a){return a>=o.expandoStartIndex}function M0(o,a,c,l){const h=o.data;if(null===h[c+1]){const g=h[or()],v=Qh(o,c);gE(g,l)&&null===a&&!v&&(a=!1),a=function hE(o,a,c,l){const h=function ec(o){const a=St.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=l?a.residualClasses:a.residualStyles;if(null===h)0===(l?a.classBindings:a.styleBindings)&&(c=uo(c=sy(null,o,a,c,l),a.attrs,l),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=sy(h,o,a,c,l),null===g){let E=function Os(o,a,c){const l=c?a.classBindings:a.styleBindings;if(0!==Da(l))return o[co(l)]}(o,a,l);void 0!==E&&Array.isArray(E)&&(E=sy(null,o,a,E[1],l),E=uo(E,a.attrs,l),function O0(o,a,c,l){o[co(c?a.classBindings:a.styleBindings)]=l}(o,a,l,E))}else g=function fE(o,a,c){let l;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)l=uo(l,o[g].hostAttrs,c);return uo(l,a.attrs,c)}(o,a,l)}return void 0!==g&&(l?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,l),function aE(o,a,c,l,h,g){let v=g?a.classBindings:a.styleBindings,C=co(v),E=Da(v);o[l]=c;let O,D=!1;if(Array.isArray(c)){const N=c;O=N[1],(null===O||eo(N,O)>0)&&(D=!0)}else O=c;if(h)if(0!==E){const G=co(o[C+1]);o[l+1]=Oc(G,C),0!==G&&(o[G+1]=Bh(o[G+1],l)),o[C+1]=function _C(o,a){return 131071&o|a<<17}(o[C+1],l)}else o[l+1]=Oc(C,0),0!==C&&(o[C+1]=Bh(o[C+1],l)),C=l;else o[l+1]=Oc(E,0),0===C?C=l:o[E+1]=Bh(o[E+1],l),E=l;D&&(o[l+1]=Qv(o[l+1])),cE(o,O,l,!0),cE(o,O,l,!1),function pD(o,a,c,l,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&eo(g,a)>=0&&(c[l+1]=wp(c[l+1]))}(a,O,o,l,g),v=Oc(C,E),g?a.classBindings=v:a.styleBindings=v}(h,g,a,c,v,l)}}function sy(o,a,c,l,h){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=a[C],l=uo(l,g.hostAttrs,h),g!==o);)C++;return null!==o&&(c.directiveStylingLast=C),l}function uo(o,a,c){const l=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),at(o,v,!!c||a[++g]))}return void 0===o?null:o}function lo(o,a,c,l,h,g,v,C){if(!(3&a.type))return;const E=o.data,D=E[C+1];Yu(function x_(o){return 1==(1&o)}(D)?pE(E,a,c,h,Da(D),v):void 0)||(Yu(g)||function S_(o){return 2==(2&o)}(D)&&(g=pE(E,null,c,h,C,v)),function zv(o,a,c,l,h){if(a)h?o.addClass(c,l):o.removeClass(c,l);else{let g=-1===l.indexOf("-")?void 0:Ia.DashCase;null==h?o.removeStyle(c,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Ia.Important),o.setStyle(c,l,h,g))}}(l,v,mi(or(),c),h,g))}function pE(o,a,c,l,h,g){const v=null===a;let C;for(;h>0;){const E=o[h],D=Array.isArray(E),O=D?E[1]:E,N=null===O;let G=c[h+1];G===Lt&&(G=N?Dt:void 0);let te=N?pc(G,l):O===l?G:void 0;if(D&&!Yu(te)&&(te=pc(E,l)),Yu(te)&&(C=te,v))return C;const Ce=o[h+1];h=v?co(Ce):Da(Ce)}if(null!==a){let E=g?a.residualClasses:a.residualStyles;null!=E&&(C=pc(E,l))}return C}function Yu(o){return void 0!==o}function gE(o,a){return 0!=(o.flags&(a?16:32))}function Ju(o,a=""){const c=De(),l=$t(),h=o+22,g=l.firstCreatePass?Pc(l,h,1,a,null):l.data[h],v=c[h]=function Vv(o,a){return o.createText(a)}(c[11],a);_p(l,c,v,g),_i(g,!1)}function ay(o){return Jh("",o,""),ay}function Jh(o,a,c){const l=De(),h=os(l,o,a,c);return h!==Lt&&kc(l,or(),h),Jh}function k0(o,a,c,l,h){const g=De(),v=Cd(g,o,a,c,l,h);return v!==Lt&&kc(g,or(),v),k0}const Zc=void 0;var vE=["en",[["a","p"],["AM","PM"],Zc],[["AM","PM"],Zc,Zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zc,"{1} 'at' {0}",Zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tg(o){const c=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===l?1:5}];let xd={};function Md(o){const a=function ui(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=wE(a);if(c)return c;const l=a.split("-")[0];if(c=wE(l),c)return c;if("en"===l)return vE;throw new we(701,!1)}function bE(o){return Md(o)[Et.PluralCase]}function wE(o){return o in xd||(xd[o]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[o]),xd[o]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const tf="en-US";let ng=tf;function Bt(o,a,c,l,h){if(o=Q(o),Array.isArray(o))for(let g=0;g<o.length;g++)Bt(o[g],a,c,l,h);else{const g=$t(),v=De();let C=Ca(o)?o:Q(o.provide),E=so(o);const D=Pn(),O=1048575&D.providerIndexes,N=D.directiveStart,G=D.providerIndexes>>20;if(Ca(o)||!o.multi){const te=new Ws(E,h,Uu),Ce=Ld(C,a,h?O:O+G,N);-1===Ce?(Ks(Do(D,v),g,C),tb(g,o,a.length),a.push(C),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(te),v.push(te)):(c[Ce]=te,v[Ce]=te)}else{const te=Ld(C,a,O+G,N),Ce=Ld(C,a,O,O+G),Ne=te>=0&&c[te],He=Ce>=0&&c[Ce];if(h&&!He||!h&&!Ne){Ks(Do(D,v),g,C);const tt=function ZE(o,a,c,l,h){const g=new Ws(o,c,Uu);return g.multi=[],g.index=a,g.componentProviders=0,ug(g,h,l&&!c),g}(h?gy:lg,c.length,h,l,E);!h&&He&&(c[Ce].providerFactory=tt),tb(g,o,a.length,0),a.push(C),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(tt),v.push(tt)}else tb(g,o,te>-1?te:Ce,ug(c[h?Ce:te],E,!h&&l));!h&&l&&He&&c[Ce].componentProviders++}}}function tb(o,a,c,l){const h=Ca(a),g=function Ea(o){return!!o.useClass}(a);if(h||g){const E=(g?Q(a.useClass):a).prototype.ngOnDestroy;if(E){const D=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const O=D.indexOf(c);-1===O?D.push(c,[l,E]):D[O+1].push(l,E)}else D.push(c,E)}}}function ug(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Ld(o,a,c,l){for(let h=c;h<l;h++)if(a[h]===o)return h;return-1}function lg(o,a,c,l){return my(this.multi,[])}function gy(o,a,c,l){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ts(c,c[1],this.providerFactory.index,l);g=C.slice(0,v),my(h,g);for(let E=v;E<C.length;E++)g.push(C[E])}else g=[],my(h,g);return g}function my(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function nb(o,a=[]){return c=>{c.providersResolver=(l,h)=>function LD(o,a,c){const l=$t();if(l.firstCreatePass){const h=Or(o);Bt(c,l.data,l.blueprint,h,!0),Bt(a,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,a)}}class lf{}class rb{}function jE(o,a){return new qE(o,a??null)}class qE extends lf{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new v0(this);const l=Zr(a);this._bootstrapComponents=Sc(l.bootstrap),this._r3Injector=oo(a,c,[{provide:lf,useValue:this},{provide:S,useValue:this.componentFactoryResolver}],pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ib extends rb{constructor(a){super(),this.moduleType=a}create(a){return new qE(this.moduleType,a)}}class dg extends lf{constructor(a,c,l){super(),this.componentFactoryResolver=new v0(this),this.instance=null;const h=new ud([...a,{provide:lf,useValue:this},{provide:S,useValue:this.componentFactoryResolver}],c||Ou(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function _y(o,a,c=null){return new dg(o,a,c).injector}let UD=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const l=ri(0,c.type),h=l.length>0?_y([l],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=tn({token:o,providedIn:"environment",factory:()=>new o(wn(jn))}),o})();function Nr(o){o.getStandaloneInjector=a=>a.get(UD).getOrCreateStandaloneInjector(o)}function YE(o,a,c){const l=kn()+o,h=De();return h[l]===Lt?xa(h,l,c?a.call(c):a()):function qp(o,a){return o[a]}(h,l)}function cb(o,a,c,l){return XE(De(),kn(),o,a,c,l)}function QE(o,a,c,l,h){return function ub(o,a,c,l,h,g,v){const C=a+c;return $u(o,C,h,g)?xa(o,C+2,v?l.call(v,h,g):l(h,g)):Fr(o,C+2)}(De(),kn(),o,a,c,l,h)}function Fr(o,a){const c=o[a];return c===Lt?void 0:c}function XE(o,a,c,l,h,g){const v=a+c;return Ei(o,v,h)?xa(o,v+1,g?l.call(g,h):l(h)):Fr(o,v+1)}function db(o,a){const c=$t();let l;const h=o+22;c.firstCreatePass?(l=function $D(o,a){if(a)for(let c=a.length-1;c>=0;c--){const l=a[c];if(o===l.name)return l}}(a,c.pipeRegistry),c.data[h]=l,l.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,l.onDestroy)):l=c.data[h];const g=l.factory||(l.factory=Qi(l.type)),v=Un(Uu);try{const C=sc(!1),E=g();return sc(C),function QC(o,a,c,l){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=l}(c,De(),h,E),E}finally{Un(v)}}function eT(o,a,c){const l=o+22,h=De(),g=ws(h,l);return function mg(o,a){return o[1].data[a].pure}(h,l)?XE(h,kn(),a,g.transform,c,g):g.transform(c)}function hb(o){return a=>{setTimeout(o,void 0,a)}}const La=class KD extends i.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,l){let h=a,g=c||(()=>null),v=l;if(a&&"object"==typeof a){const E=a;h=E.next?.bind(E),g=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(g=hb(g),h&&(h=hb(h)),v&&(v=hb(v)));const C=super.subscribe({next:h,error:g,complete:v});return a instanceof ee.w0&&a.add(C),C}};function YD(){return this._results[Rc()]()}class fb{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Rc(),l=fb.prototype;l[c]||(l[c]=YD)}get changes(){return this._changes||(this._changes=new La)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const l=this;l.dirty=!1;const h=bn(a);(this._changesDetected=!function ar(o,a,c){if(o.length!==a.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],g=a[l];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(l._results,h,c))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _g=(()=>{class o{}return o.__NG_ELEMENT_ID__=JD,o})();const QD=_g,tT=class extends QD{constructor(a,c,l){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=l}createEmbeddedView(a,c){const l=this._declarationTContainer.tViews,h=R_(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(l)),Dp(l,h,a),new Up(h)}};function JD(){return yg(Pn(),De())}function yg(o,a){return 4&o.type?new tT(a,o,W(o,a)):null}let vg=(()=>{class o{}return o.__NG_ELEMENT_ID__=XD,o})();function XD(){return by(Pn(),De())}const pb=vg,Lr=class extends pb{constructor(a,c,l){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=l}get element(){return W(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const a=bu(this._hostTNode,this._hostLView);if(mh(a)){const c=ic(a,this._hostLView),l=yr(a);return new xo(c[1].data[l+8],c)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=vy(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const v=a.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(a,c,l,h,g){const v=a&&!function ki(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const N=c||{};C=N.index,l=N.injector,h=N.projectableNodes,g=N.environmentInjector||N.ngModuleRef}const E=v?a:new Wh(Nt(a)),D=l||this.parentInjector;if(!g&&null==E.ngModule){const G=(v?D:this.parentInjector).get(jn,null);G&&(g=G)}const O=E.create(D,h,void 0,g);return this.insert(O.hostView,C),O}insert(a,c){const l=a._lView,h=l[1];if(function tu(o){return jr(o[3])}(l)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const N=l[3],G=new Lr(N,N[6],N[3]);G.detach(G.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function IA(o,a,c,l){const h=10+l,g=c.length;l>0&&(c[h-1][4]=a),l<g-10?(a[4]=c[h],hc(c,10+l,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function AA(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(h,l,v,g);const C=Hv(g,v),E=l[11],D=un(E,v[7]);return null!==D&&function Nx(o,a,c,l,h,g){l[0]=h,l[6]=a,Ru(o,l,c,1,h,g)}(h,v[6],E,l,D,C),a.attachToViewContainerRef(),hc(bg(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=vy(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),l=m_(this._lContainer,c);l&&(Ir(bg(this._lContainer),c),__(l[1],l))}detach(a){const c=this._adjustIndex(a,-1),l=m_(this._lContainer,c);return l&&null!=Ir(bg(this._lContainer),c)?new Up(l):null}_adjustIndex(a,c=0){return a??this.length+c}};function vy(o){return o[8]}function bg(o){return o[8]||(o[8]=[])}function by(o,a){let c;const l=a[o.index];if(jr(l))c=l;else{let h;if(8&o.type)h=On(l);else{const g=a[11];h=g.createComment("");const v=qr(o,a);gd(g,un(g,v),h,function OA(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=c=UC(l,a,h,o),$_(a,c)}return new Lr(c,o,a)}class wy{constructor(a){this.queryList=a,this.matches=null}clone(){return new wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class pf{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const l=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<l;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new pf(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==aT(a,c).matches&&this.queries[c].setDirty()}}class al{constructor(a,c,l=null){this.predicate=a,this.flags=c,this.read=l}}class qc{constructor(a=[]){this.queries=a}elementStart(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let l=0;l<this.length;l++){const h=null!==c?c.length:0,g=this.getByIndex(l).embeddedTView(a,h);g&&(g.indexInDeclarationView=l,null!==c?c.push(g):c=[g])}return null!==c?new qc(c):null}template(a,c){for(let l=0;l<this.queries.length;l++)this.queries[l].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class $c{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new $c(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let l=a.parent;for(;null!==l&&8&l.type&&l.index!==c;)l=l.parent;return c===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(a,c,wg(c,g)),this.matchTNodeWithReadOption(a,c,ca(c,a,g,!1,!1))}else l===_g?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ca(c,a,l,!1,!1))}matchTNodeWithReadOption(a,c,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===le||h===vg||h===_g&&4&c.type)this.addMatch(c.index,-2);else{const g=ca(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,l)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function wg(o,a){const c=o.localNames;if(null!==c)for(let l=0;l<c.length;l+=2)if(c[l]===a)return c[l+1];return null}function gb(o,a,c,l){return-1===c?function rT(o,a){return 11&o.type?W(o,a):4&o.type?yg(o,a):null}(a,o):-2===c?function mb(o,a,c){return c===le?W(a,o):c===_g?yg(a,o):c===vg?by(a,o):void 0}(o,a,l):Ts(o,o[1],c,a)}function _b(o,a,c,l){const h=a[19].queries[l];if(null===h.matches){const g=o.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const D=v[E];C.push(D<0?null:gb(a,g[D],v[E+1],c.metadata.read))}h.matches=C}return h.matches}function Cy(o,a,c,l){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const v=_b(o,a,h,c);for(let C=0;C<g.length;C+=2){const E=g[C];if(E>0)l.push(v[C/2]);else{const D=g[C+1],O=a[-E];for(let N=10;N<O.length;N++){const G=O[N];G[17]===G[3]&&Cy(G[1],G,D,l)}if(null!==O[9]){const N=O[9];for(let G=0;G<N.length;G++){const te=N[G];Cy(te[1],te,D,l)}}}}}return l}function iT(o){const a=De(),c=$t(),l=Ll();tc(l+1);const h=aT(c,l);if(o.dirty&&Ka(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Cy(c,a,l,[]):_b(c,a,h,l);o.reset(g,Le),o.notifyOnChanges()}return!0}return!1}function yb(o,a,c){const l=$t();l.firstCreatePass&&(sT(l,new al(o,a,c),-1),2==(2&a)&&(l.staticViewQueries=!0)),cl(l,De(),a)}function vb(o,a,c,l){const h=$t();if(h.firstCreatePass){const g=Pn();sT(h,new al(a,c,l),g.index),function oT(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}cl(h,De(),c)}function Cg(){return function Eg(o,a){return o[19].queries[a].queryList}(De(),Ll())}function cl(o,a,c){const l=new fb(4==(4&c));Zu(o,a,l,l.destroy),null===a[19]&&(a[19]=new pf),a[19].queries.push(new wy(l))}function sT(o,a,c){null===o.queries&&(o.queries=new qc),o.queries.track(new $c(a,c))}function aT(o,a){return o.queries.getByIndex(a)}function cT(o,a){return yg(o,a)}function _f(...o){}const xg=new _n("Application Initializer");let yf=(()=>{class o{constructor(c){this.appInits=c,this.resolve=_f,this.reject=_f,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Wp(g))c.push(g);else if(nE(g)){const v=new Promise((C,E)=>{g.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{l()}).catch(h=>{this.reject(h)}),0===c.length&&l(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(wn(xg,8))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Sy=new _n("AppId",{providedIn:"root",factory:function Sb(){return`${xy()}${xy()}${xy()}`}});function xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xb=new _n("Platform Initializer"),Mb=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CT=new _n("appBootstrapListener"),u1=new _n("AnimationModuleType");let ET=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Hc=new _n("LocaleId",{providedIn:"root",factory:()=>T(Hc,Ye.Optional|Ye.SkipSelf)||function l1(){return typeof $localize<"u"&&$localize.locale||tf}()}),vf=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class IT{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let AT=(()=>{class o{compileModuleSync(c){return new ib(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const l=this.compileModuleSync(c),g=Sc(Zr(c).declarations).reduce((v,C)=>{const E=Nt(C);return E&&v.push(new Wh(E)),v},[]);return new IT(l,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Oy=(()=>Promise.resolve(0))();function $d(o){typeof Zone>"u"?Oy.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class us{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new La(!1),this.onMicrotaskEmpty=new La(!1),this.onStable=new La(!1),this.onError=new La(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&c,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Py(){let o=fn.requestAnimationFrame,a=fn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function g1(o){const a=()=>{!function ST(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ky(o),o.isCheckStableRunning=!0,Mg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ky(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,l,h,g,v,C)=>{try{return xT(o),c.invokeTask(h,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),MT(o)}},onInvoke:(c,l,h,g,v,C,E)=>{try{return xT(o),c.invoke(h,g,v,C,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),MT(o)}},onHasTask:(c,l,h,g)=>{c.hasTask(h,g),l===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ky(o),Mg(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,l,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new we(909,!1)}run(a,c,l){return this._inner.run(a,c,l)}runTask(a,c,l,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,kb,_f,_f);try{return g.runTask(v,c,l)}finally{g.cancelTask(v)}}runGuarded(a,c,l){return this._inner.runGuarded(a,c,l)}runOutsideAngular(a){return this._outer.run(a)}}const kb={};function Mg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ky(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function xT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function MT(o){o._nesting--,Mg(o)}class m1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new La,this.onMicrotaskEmpty=new La,this.onStable=new La,this.onError=new La}run(a,c,l){return a.apply(c,l)}runGuarded(a,c,l){return a.apply(c,l)}runOutsideAngular(a){return a()}runTask(a,c,l,h){return a.apply(c,l)}}const Rb=new _n(""),Og=new _n("");let Nb,Pg=(()=>{class o{constructor(c,l,h){this._ngZone=c,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nb||(function OT(o){Nb=o}(h),h.addToWindow(l)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),$d(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$d(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(c)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,l,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(wn(us),wn(Ry),wn(Og))},o.\u0275prov=tn({token:o,factory:o.\u0275fac}),o})(),Ry=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,l){this._applications.set(c,l)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,l=!0){return Nb?.findTestabilityInTree(this,c,l)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),dl=null;const PT=new _n("AllowMultipleToken"),Fb=new _n("PlatformDestroyListeners");class Lb{constructor(a,c){this.name=a,this.token=c}}function Ly(o,a,c=[]){const l=`Platform: ${a}`,h=new _n(l);return(g=[])=>{let v=Vb();if(!v||v.injector.get(PT,!1)){const C=[...c,...g,{provide:h,useValue:!0}];o?o(C):function Ny(o){if(dl&&!dl.get(PT,!1))throw new we(400,!1);dl=o;const a=o.get(Uy);(function Fy(o){const a=o.get(xb,null);a&&a.forEach(c=>c())})(o)}(function zc(o=[],a){return ao.create({name:a,providers:[{provide:br,useValue:"platform"},{provide:Fb,useValue:new Set([()=>dl=null])},...o]})}(C,l))}return function Ub(o){const a=Vb();if(!a)throw new we(401,!1);return a}()}}function Vb(){return dl?.get(Uy)??null}let Uy=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,l){const h=function Vy(o,a){let c;return c="noop"===o?new m1:("zone.js"===o?void 0:o)||new us(a),c}(l?.ngZone,function RT(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:us,useValue:h}];return h.run(()=>{const v=ao.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),E=C.injector.get(a_,null);if(!E)throw new we(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:O=>{E.handleError(O)}});C.onDestroy(()=>{wf(this._modules,C),D.unsubscribe()})}),function NT(o,a,c){try{const l=c();return Wp(l)?l.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw a.runOutsideAngular(()=>o.handleError(l)),l}}(E,h,()=>{const D=C.injector.get(yf);return D.runInitializers(),D.donePromise.then(()=>(function Z0(o){Gt(o,"Expected localeId to be defined"),"string"==typeof o&&(ng=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Hc,tf)||tf),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,l=[]){const h=By({},l);return function kg(o,a,c){const l=new ib(c);return Promise.resolve(l)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const l=c.injector.get(Hd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(403,!1);c.instance.ngDoBootstrap(l)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const c=this._injector.get(Fb,null);c&&(c.forEach(l=>l()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(wn(ao))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function By(o,a){return Array.isArray(a)?a.reduce(By,o):{...o,...a}}let Hd=(()=>{class o{constructor(c,l,h){this._zone=c,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new k.y(C=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),$d(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{E.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ce.T)(g,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,l){const h=c instanceof s_;if(!this._injector.get(yf).done)throw!h&&Ki(c),new we(405,false);let v;v=h?c:this._injector.get(S).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function bf(o){return o.isBoundToModule}(v)?void 0:this._injector.get(lf),D=v.create(ao.NULL,[],l||v.selector,C),O=D.location.nativeElement,N=D.injector.get(Rb,null);return N?.registerApplication(O),D.onDestroy(()=>{this.detachView(D.hostView),wf(this.components,D),N?.unregisterApplication(O)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const l=c;this._views.push(l),l.attachToAppRef(this)}detachView(c){const l=c;wf(this._views,l),l.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(CT,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>wf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(wn(us),wn(jn),wn(a_))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function wf(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let Zy=!0,FT=!1;function v1(){return FT=!0,Zy}function LT(){if(FT)throw new Error("Cannot enable prod mode after platform setup.");Zy=!1}let w1=(()=>{class o{}return o.__NG_ELEMENT_ID__=Zb,o})();function Zb(o){return function C1(o,a,c){if(Xo(o)&&!c){const l=zt(o.index,a);return new Up(l,l)}return 47&o.type?new Up(a[16],a):null}(Pn(),De(),16==(16&o))}class Hy{constructor(){}supports(a){return Nc(a)}create(a){return new I1(a)}}const $b=(o,a)=>a;class I1{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||$b}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,l=this._removalsHead,h=0,g=null;for(;c||l;){const v=!l||c&&c.currentIndex<Gb(l,h,g)?c:l,C=Gb(v,h,g),E=v.currentIndex;if(v===l)h--,l=l._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const D=C-h,O=E-h;if(D!=O){for(let G=0;G<D;G++){const te=G<g.length?g[G]:g[G]=0,Ce=te+G;O<=Ce&&Ce<D&&(g[G]=te+1)}g[v.previousIndex]=O-D}}C!==E&&a(v,C,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Nc(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,c=this._itHead,l=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(l&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),l=!0),c=c._next}else h=0,function fD(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Rc()]();let l;for(;!(l=c.next()).done;)a(l.value)}}(a,C=>{v=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,v)?(l&&(c=this._verifyReinsertion(c,C,v,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,h),l=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,l,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new qT(c,l),g,h),a}_verifyReinsertion(a,c,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,l),this._addToMoves(a,l),a}_moveAfter(a,c,l){return this._unlink(a),this._insertAfter(a,c,l),this._addToMoves(a,l),a}_addAfter(a,c,l){return this._insertAfter(a,c,l),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,l){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Hb),this._linkedRecords.put(a),a.currentIndex=l,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,l=a._next;return null===c?this._itHead=l:c._next=l,null===l?this._itTail=c:l._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qT{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A1{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===c||c<=l.currentIndex)&&Object.is(l.trackById,a))return l;return null}remove(a){const c=a._prevDup,l=a._nextDup;return null===c?this._head=l:c._nextDup=l,null===l?this._tail=c:l._prevDup=c,null===this._head}}class Hb{constructor(){this.map=new Map}put(a){const c=a.trackById;let l=this.map.get(c);l||(l=new A1,this.map.set(c,l)),l.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gb(o,a,c){const l=o.previousIndex;if(null===l)return l;let h=0;return c&&l<c.length&&(h=c[l]),l+a+h}class zb{constructor(){}supports(a){return a instanceof Map||lr(a)}create(){return new $T}}class $T{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||lr(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(l,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,l),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,l);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let l=c;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const l=a._prev;return c._next=a,c._prev=l,a._prev=c,l&&(l._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const l=new D1(a);return this._records.set(a,l),l.currentValue=c,this._addToAdditions(l),l}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(l=>c(a[l],l))}}class D1{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HT(){return new Wb([new Hy])}let Wb=(()=>{class o{constructor(c){this.factories=c}static create(c,l){if(null!=l){const h=l.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:l=>o.create(c,l||HT()),deps:[[o,new wt,new Pe]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(null!=l)return l;throw new we(901,!1)}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:HT}),o})();function Gy(){return new Fg([new zb])}let Fg=(()=>{class o{constructor(c){this.factories=c}static create(c,l){if(l){const h=l.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:l=>o.create(c,l||Gy()),deps:[[o,new wt,new Pe]]}}find(c){const l=this.factories.find(h=>h.supports(c));if(l)return l;throw new we(901,!1)}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:Gy}),o})();const Yb=Ly(null,"core",[]);let zT=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(wn(Hd))},o.\u0275mod=ct({type:o}),o.\u0275inj=Zt({}),o})();function Qb(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ut,Ae,R)=>{R.d(Ae,{Z:()=>we});var i=R(2090),ee=R(4859),k=R(9681),ce=R(1877);class se{constructor(ye,ge){this._delegate=ye,this.firebase=ge,(0,k._addComponent)(ye,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ye,ge=k._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(ye);return!ot.isInitialized()&&"EXPLICIT"===(null===(Je=ot.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:ge})}_removeServiceInstance(ye,ge=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ge)}_addComponent(ye){(0,k._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,k._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const rt=function pe(rt){const ye={},ge={__esModule:!0,initializeApp:function Se(je,Z={}){const _e=k.initializeApp(je,Z);if((0,i.r3)(ye,_e.name))return ye[_e.name];const Y=new rt(_e,ge);return ye[_e.name]=Y,Y},app:ot,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Te(je){const Z=je.name,_e=Z.replace("-compat","");if(k._registerComponent(je)&&"PUBLIC"===je.type){const Y=(X=ot())=>{if("function"!=typeof X[_e])throw ue.create("invalid-app-argument",{appName:Z});return X[_e]()};void 0!==je.serviceProps&&(0,i.ZB)(Y,je.serviceProps),ge[_e]=Y,rt.prototype[_e]=function(...X){return this._getService.bind(this,Z).apply(this,je.multipleInstances?X:[])}}return"PUBLIC"===je.type?ge[_e]:null},removeApp:function Je(je){delete ye[je]},useAsService:function Be(je,Z){return"serverAuth"===Z?null:Z},modularAPIs:k}};function ot(je){if(!(0,i.r3)(ye,je=je||k._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return ye[je]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(ye).map(je=>ye[je])}}),ot.App=rt,ge}(se);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(ge){(0,i.ZB)(rt,ge)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),rt}(),$=new ce.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=j;!function xe(rt){(0,k.registerVersion)("@firebase/app-compat","0.1.34",rt)}()},9681:(ut,Ae,R)=>{R.r(Ae),R.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Bs,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>en,_addOrOverwriteComponent:()=>tn,_apps:()=>hn,_clearComponents:()=>Ha,_components:()=>Ln,_getProvider:()=>Zt,_registerComponent:()=>Vr,_removeServiceInstance:()=>dn,deleteApp:()=>Jo,getApp:()=>Qr,getApps:()=>Di,initializeApp:()=>Wi,onLog:()=>gs,registerVersion:()=>Jr,setLogLevel:()=>Un});var i=R(5861),ee=R(4859),k=R(1877),ce=R(2090),se=R(8766);class fe{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function ue(V){return"VERSION"===V.getComponent()?.type}(z)){const Ie=z.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(z=>z).join(" ")}}const pe="@firebase/app",j=new k.Yd("@firebase/app"),Gt="[DEFAULT]",ze={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Ln=new Map;function en(V,H){try{V.container.addComponent(H)}catch(z){j.debug(`Component ${H.name} failed to register with FirebaseApp ${V.name}`,z)}}function tn(V,H){V.container.addOrOverwriteComponent(H)}function Vr(V){const H=V.name;if(Ln.has(H))return j.debug(`There were multiple attempts to register component ${H}.`),!1;Ln.set(H,V);for(const z of hn.values())en(z,V);return!0}function Zt(V,H){const z=V.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),V.container.getProvider(H)}function dn(V,H,z=Gt){Zt(V,H).clearInstance(z)}function Ha(){Ln.clear()}const Mr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(H,z,Ie){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const Bs="9.10.0";function Wi(V,H={}){"object"!=typeof H&&(H={name:H});const z=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},H),Ie=z.name;if("string"!=typeof Ie||!Ie)throw Mr.create("bad-app-name",{appName:String(Ie)});const Ve=hn.get(Ie);if(Ve){if((0,ce.vZ)(V,Ve.options)&&(0,ce.vZ)(z,Ve.config))return Ve;throw Mr.create("duplicate-app",{appName:Ie})}const ct=new ee.H0(Ie);for(const rn of Ln.values())ct.addComponent(rn);const mn=new Yr(V,z,ct);return hn.set(Ie,mn),mn}function Qr(V=Gt){const H=hn.get(V);if(!H)throw Mr.create("no-app",{appName:V});return H}function Di(){return Array.from(hn.values())}function Jo(V){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,i.Z)(function*(V){const H=V.name;hn.has(H)&&(hn.delete(H),yield Promise.all(V.container.getProviders().map(z=>z.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Jr(V,H,z){var Ie;let Ve=null!==(Ie=ze[V])&&void 0!==Ie?Ie:V;z&&(Ve+=`-${z}`);const ct=Ve.match(/\s|\//),mn=H.match(/\s|\//);if(ct||mn){const rn=[`Unable to register library "${Ve}" with version "${H}":`];return ct&&rn.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),ct&&mn&&rn.push("and"),mn&&rn.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void j.warn(rn.join(" "))}Vr(new ee.wA(`${Ve}-version`,()=>({library:Ve,version:H}),"VERSION"))}function gs(V,H){if(null!==V&&"function"!=typeof V)throw Mr.create("invalid-log-argument");(0,k.Am)(V,H)}function Un(V){(0,k.Ub)(V)}const Vn="firebase-heartbeat-store";let nr=null;function yn(){return nr||(nr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(V,H)=>{0===H&&V.createObjectStore(Vn)}}).catch(V=>{throw Mr.create("idb-open",{originalErrorMessage:V.message})})),nr}function lt(){return(lt=(0,i.Z)(function*(V){var H;try{return(yield yn()).transaction(Vn).objectStore(Vn).get(gr(V))}catch(z){if(z instanceof ce.ZR)j.warn(z.message);else{const Ie=Mr.create("idb-get",{originalErrorMessage:null===(H=z)||void 0===H?void 0:H.message});j.warn(Ie.message)}}})).apply(this,arguments)}function fn(V,H){return pr.apply(this,arguments)}function pr(){return(pr=(0,i.Z)(function*(V,H){var z;try{const Ve=(yield yn()).transaction(Vn,"readwrite");return yield Ve.objectStore(Vn).put(H,gr(V)),Ve.done}catch(Ie){if(Ie instanceof ce.ZR)j.warn(Ie.message);else{const Ve=Mr.create("idb-set",{originalErrorMessage:null===(z=Ie)||void 0===z?void 0:z.message});j.warn(Ve.message)}}})).apply(this,arguments)}function gr(V){return`${V.name}!${V.options.appId}`}class ms{constructor(H){this.container=H,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Qt(z),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var H=this;return(0,i.Z)(function*(){const Ie=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=nn();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!H._heartbeatsCache.heartbeats.some(ct=>ct.date===Ve))return H._heartbeatsCache.heartbeats.push({date:Ve,agent:Ie}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(ct=>{const mn=new Date(ct.date).valueOf();return Date.now()-mn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,i.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const z=nn(),{heartbeatsToSend:Ie,unsentEntries:Ve}=function hi(V,H=1024){const z=[];let Ie=V.slice();for(const Ve of V){const ct=z.find(mn=>mn.agent===Ve.agent);if(ct){if(ct.dates.push(Ve.date),K(z)>H){ct.dates.pop();break}}else if(z.push({agent:Ve.agent,dates:[Ve.date]}),K(z)>H){z.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:z,unsentEntries:Ie}}(H._heartbeatsCache.heartbeats),ct=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ie}));return H._heartbeatsCache.lastSentHeartbeatDate=z,Ve.length>0?(H._heartbeatsCache.heartbeats=Ve,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),ct})()}}function nn(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,i.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function mt(V){return lt.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var z=this;return(0,i.Z)(function*(){var Ie;if(yield z._canUseIndexedDBPromise){const ct=yield z.read();return fn(z.app,{lastSentHeartbeatDate:null!==(Ie=H.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ct.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var z=this;return(0,i.Z)(function*(){var Ie;if(yield z._canUseIndexedDBPromise){const ct=yield z.read();return fn(z.app,{lastSentHeartbeatDate:null!==(Ie=H.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...H.heartbeats]})}})()}}function K(V){return(0,ce.L)(JSON.stringify({version:2,heartbeats:V})).length}!function q(V){Vr(new ee.wA("platform-logger",H=>new fe(H),"PRIVATE")),Vr(new ee.wA("heartbeat",H=>new ms(H),"PRIVATE")),Jr(pe,"0.7.33",V),Jr(pe,"0.7.33","esm2017"),Jr("fire-js","")}("")},4859:(ut,Ae,R)=>{R.d(Ae,{H0:()=>pe,wA:()=>k});var i=R(5861),ee=R(2090);class k{constructor(j,$,Q){this.name=j,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ce="[DEFAULT]";class se{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const Q=new ee.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&Q.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const Q=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Ue)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ue(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:Ue});Q.resolve(xe)}catch{}}}}clearInstance(j=ce){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,i.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ce){return this.instances.has(j)}getOptions(j=ce){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[xe,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&we.resolve(Ue);return Ue}onInit(j,$){var Q;const Ue=this.normalizeInstanceIdentifier($),xe=null!==(Q=this.onInitCallbacks.get(Ue))&&void 0!==Q?Q:new Set;xe.add(j),this.onInitCallbacks.set(Ue,xe);const we=this.instances.get(Ue);return we&&j(we,Ue),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ue of Q)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===ce?void 0:me),options:$}),this.instances.set(j,Q),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var me;return Q||null}normalizeInstanceIdentifier(j=ce){return this.component?this.component.multipleInstances?j:ce:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new se(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ae,R)=>{R.d(Ae,{Am:()=>me,Ub:()=>pe,Yd:()=>ue,in:()=>ee});const i=[];var ee=(()=>{return(j=ee||(ee={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",ee;var j})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},fe=(j,$,...Q)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),xe=se[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${Ue}]  ${j.name}:`,...Q)};class ue{constructor($){this.name=$,this._logLevel=ce,this._logHandler=fe,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ee))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?k[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...$),this._logHandler(this,ee.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...$),this._logHandler(this,ee.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...$),this._logHandler(this,ee.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...$),this._logHandler(this,ee.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...$),this._logHandler(this,ee.ERROR,...$)}}function pe(j){i.forEach($=>{$.setLogLevel(j)})}function me(j,$){for(const Q of i){let Ue=null;$&&$.level&&(Ue=k[$.level]),Q.userLogHandler=null===j?null:(xe,we,...rt)=>{const ye=rt.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");we>=(Ue??xe.logLevel)&&j({level:ee[we].toLowerCase(),message:ye,args:rt,type:xe.name})}}}},8766:(ut,Ae,R)=>{R.d(Ae,{Lj:()=>Se,X3:()=>ot});var i=R(5861);let k,ce;const ue=new WeakMap,pe=new WeakMap,me=new WeakMap,j=new WeakMap,$=new WeakMap;let xe={get(Z,_e,Y){if(Z instanceof IDBTransaction){if("done"===_e)return pe.get(Z);if("objectStoreNames"===_e)return Z.objectStoreNames||me.get(Z);if("store"===_e)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return ge(Z[_e])},set:(Z,_e,Y)=>(Z[_e]=Y,!0),has:(Z,_e)=>Z instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in Z};function ye(Z){return"function"==typeof Z?function rt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(..._e){return Z.apply(Je(this),_e),ge(ue.get(this))}:function(..._e){return ge(Z.apply(Je(this),_e))}:function(_e,...Y){const X=Z.call(Je(this),_e,...Y);return me.set(X,_e.sort?_e.sort():[_e]),ge(X)}}(Z):(Z instanceof IDBTransaction&&function Ue(Z){if(pe.has(Z))return;const _e=new Promise((Y,X)=>{const oe=()=>{Z.removeEventListener("complete",ne),Z.removeEventListener("error",Fe),Z.removeEventListener("abort",Fe)},ne=()=>{Y(),oe()},Fe=()=>{X(Z.error||new DOMException("AbortError","AbortError")),oe()};Z.addEventListener("complete",ne),Z.addEventListener("error",Fe),Z.addEventListener("abort",Fe)});pe.set(Z,_e)}(Z),((Z,_e)=>_e.some(Y=>Z instanceof Y))(Z,function se(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,xe):Z)}function ge(Z){if(Z instanceof IDBRequest)return function Q(Z){const _e=new Promise((Y,X)=>{const oe=()=>{Z.removeEventListener("success",ne),Z.removeEventListener("error",Fe)},ne=()=>{Y(ge(Z.result)),oe()},Fe=()=>{X(Z.error),oe()};Z.addEventListener("success",ne),Z.addEventListener("error",Fe)});return _e.then(Y=>{Y instanceof IDBCursor&&ue.set(Y,Z)}).catch(()=>{}),$.set(_e,Z),_e}(Z);if(j.has(Z))return j.get(Z);const _e=ye(Z);return _e!==Z&&(j.set(Z,_e),$.set(_e,Z)),_e}const Je=Z=>$.get(Z);function ot(Z,_e,{blocked:Y,upgrade:X,blocking:oe,terminated:ne}={}){const Fe=indexedDB.open(Z,_e),Re=ge(Fe);return X&&Fe.addEventListener("upgradeneeded",pt=>{X(ge(Fe.result),pt.oldVersion,pt.newVersion,ge(Fe.transaction))}),Y&&Fe.addEventListener("blocked",()=>Y()),Re.then(pt=>{ne&&pt.addEventListener("close",()=>ne()),oe&&pt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Re}function Se(Z,{blocked:_e}={}){const Y=indexedDB.deleteDatabase(Z);return _e&&Y.addEventListener("blocked",()=>_e()),ge(Y).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Be=new Map;function je(Z,_e){if(!(Z instanceof IDBDatabase)||_e in Z||"string"!=typeof _e)return;if(Be.get(_e))return Be.get(_e);const Y=_e.replace(/FromIndex$/,""),X=_e!==Y,oe=Te.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!oe&&!be.includes(Y))return;const ne=function(){var Fe=(0,i.Z)(function*(Re,...pt){const Kt=this.transaction(Re,oe?"readwrite":"readonly");let Gt=Kt.store;return X&&(Gt=Gt.index(pt.shift())),(yield Promise.all([Gt[Y](...pt),oe&&Kt.done]))[0]});return function(pt){return Fe.apply(this,arguments)}}();return Be.set(_e,ne),ne}!function we(Z){xe=Z(xe)}(Z=>({...Z,get:(_e,Y,X)=>je(_e,Y)||Z.get(_e,Y,X),has:(_e,Y)=>!!je(_e,Y)||Z.has(_e,Y)}))},5861:(ut,Ae,R)=>{function i(k,ce,se,fe,ue,pe,me){try{var j=k[pe](me),$=j.value}catch(Q){return void se(Q)}j.done?ce($):Promise.resolve($).then(fe,ue)}function ee(k){return function(){var ce=this,se=arguments;return new Promise(function(fe,ue){var pe=k.apply(ce,se);function me($){i(pe,fe,ue,me,j,"next",$)}function j($){i(pe,fe,ue,me,j,"throw",$)}me(void 0)})}}R.d(Ae,{Z:()=>ee})}},ut=>{ut(ut.s=1245)}]);